<!DOCTYPE html>
<!--
    Copyright (c) 2012-2014 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under oneid
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, target-densitydpi=device-dpi" />
        
        	
        <link href='http://fonts.googleapis.com/css?family=Lato:400,700,300|Open+Sans:400,700,600,300' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.css" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
	<script src="js/jquery.js" type="text/javascript"></script>
        <script src="js/jquery.ui.draggable.js" type="text/javascript"></script>
	<!-- Core files -->
        <script src="js/jquery.alerts.js" type="text/javascript"></script>
        <link href="css/jquery.alerts.css" rel="stylesheet" type="text/css" media="screen" />
	
	
        <title>What The truck</title>
	<style type="text/css">
               /*body {
                       font-family: sans-serif;
                       font-size: 14px;
               }*/

                /* Custom dialog styles */


            #popup_container.style_1 {
                font-family: Georgia, serif;
                color: #A4C6E2;
                background: #005294;
                border-color: #113F66;
            }
            
            #popup_container.style_1 #popup_title {
                color: #FFF;
                font-weight: normal;
                text-align: left;
                background: #76A5CC;
                border: solid 1px #005294;
                padding-left: 1em;
            }
            
            #popup_container.style_1 #popup_content {
                background: none;
            }
            
            #popup_container.style_1 #popup_message {
                padding-left: 0em;
            }
            
            #popup_container.style_1 INPUT[type='button'] {
                border: outset 2px #76A5CC;
                color: #A4C6E2;
                background: #3778AE;
            }
            
            #popup_container{
                min-width: 230px;
                border: solid 3px #999;
                top: 200.5px;
            }

            #popup_message {
            padding-left: 40px;
            }
            .main-menu li a {
				  color: #e5e5e5 !important;
				  display: block;
				  text-decoration: none;
				  text-align: center;
				  font-size: 0.714em;
				}
       </style>

        <script src="http://maps.googleapis.com/maps/api/js?sensor=false&amp;libraries=places" type="text/javascript"></script>
	<script type="text/javascript">
               function initialize() {
                       var input = document.getElementById('whereYou');
                       var autocomplete = new google.maps.places.Autocomplete(input);



                       

                    }
               google.maps.event.addDomListener(window, 'load', initialize);



       </script>
    </head>
    
    
    
    <body onload="onBodyLoad();" style="background:#fff;">
    	
    	<a href="" id="homepagebtn" style="display:none;"></a>
        <div data-role="page" id="home">
        	<section class="pageContent ui-panel-wrapper">
				<div data-role="content">
					<div class="home-content">
						<a onclick="redirecttohome()" class="home-link"><img src="img/truck-logo.png" alt="" /></a>
						<hr />
						<h1>Find a Food Truck NEAR YOU</h1>
						<form role="form" class="home-search-box">
							<div class="form-custom">
								<div class="enter-your-address">
									<input type="text" placeholder="Enter your address" id="whereYou" data-theme="none" autocomplete="on" autocorrect="off" spellcheck="false" />
									<button data-role="button" type="button" class="btn-search" onclick="seeAdreesa()"><span class="arrow-icon"></span></button>
									
								</div>
							</div>
							<div class="form-custom">
								<div class="enter-your-address" style="width: 75%; margin: 0 auto; ">
									<input type="text" placeholder="Search by Truck(optional)" id="foodTruckName" data-theme="none"  />
								</div>
							</div>
							<div class="search-box-center">
								<button data-role="button" type="button" class="btn-submit" id="submit-btn" data-transition="flow"></button>
							</div>
						</form>
					</div>
				</div><!-- /content -->
				<a href="#popupExamplehome" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnhome"></a>
				<div data-role="popup" id="popupExamplehome" data-theme="a" class="ui-corner-all" style="width:400px;">
	                <div class="popUp">
	                    <h2></h2>
	                    <p id="popuphome" style="font-size:20px;"></p>
	                </div>
	                <div class="popUpFooter">
	                    <a href="#" onclick="closeok()">OK</a>
	                </div>
	            </div>
			</section>
		</div>
		
	
		<div data-role="page" id="searchResult">
			<div class="pageContent ui-panel-wrapper">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Search Results</a></h2>
					<a onclick="redirecttohome()" data-position="left" class="back-btn" data-theme="none" ></a>
					<div class="ui-bar ui-bar-b">
						<div class="top-blue-bar adreesval" data-position="fixed">
							<!--<h2>75 Crosstown Ave, West Roxbury, MA 02132</h2>-->
						</div>
					</div>
				</header><!-- /header -->
				<section data-role="content">
					<div class="inner-content" id="searchrslt">
						
						<!--<div class="bar bar-default">
							<div class="search-result-box">
								<img src="img/brand-logo.png" alt="" class="img-thumbnail img-left" />
								<h3><a href="#truckDetails">Benny's Crepe Cafe</a></h3>
								<div class="inline-icon">
									<span class="icon-block location">Lunch at Harvard Yard</span>
								</div>
								<div class="inline-icon">
									<span class="icon-block time">10am - 6:30pm</span>
									<span class="icon-block order">Accepts WTT Orders</span>
								</div>
								<div class="right-small-box">
									<h6>2.54mi</h6>
									<span class="big-calender"></span>
								</div>
							</div>
							<div class="collapsed-schedule">
								<div class="schedule-box">
									<h3><span class="left">Weekly Schedule</span> Monday, November 17</h3>
									<div class="scroll-box">
										<ul class="list-date">
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div> <!-- This .bar will be loop -->
						
					</div>
					<a href="#popupExamplesearchResult" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnsearchResult"></a>
					<div data-role="popup" id="popupExamplesearchResult" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popupsearchResult" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
				</section><!-- /content -->
			</div>
		</div>
		
		
		<div data-role="page" id="truckDetails">
			<div class="pageContent ui-panel-wrapper threeColom">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Menu</a></h2>
					<a href="#" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				
				<section data-role="content">
					<div class="inner-content">
						<div class="ui-bar ui-bar-b">
							<div class="top-blue-bar adreesval" data-position="fixed">
								<!--<h2>75 Crosstown Ave, West Roxbury, MA 02132</h2>-->
							</div>
						</div>
						
						 <div id="searchrsltDetlsdropdown">
						    <!--<div class="bar">
							<div class="search-result-box">
								<h3><a href="#truckDetails" class="ui-link">Renula's Greek Kitchen</a></h3>
								<div class="inline-box">
									<span>Pickup: 35 min</span>
									<span>$0 Minimum</span>
								</div>
								<div class="right-small-box">
									<span class="big-calender"></span>
								</div>
							</div>
							<select name="select-choice-1" id="select-choice-1">
							   <option value="1">Lunch at City Hall Plaza,  7pm - 10pm</option>
							   <option value="2">Lunch at City Hall Plaza,  10pm - 12pm</option>
							   <option value="3">Lunch at City Hall Plaza,  8pm - 10pm</option>
							   <option value="4">Lunch at City Hall Plaza,  5pm - 7pm</option>
							</select>
							<div class="collapsed-schedule">
								<div class="schedule-box">
									<h3><span class="left">Weekly Schedule</span> Monday, November 17</h3>
									<div class="scroll-box">
										<ul class="list-date">
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
											<li>
												<span class="location-icon"></span>
												<h4>Wednesday <span>10:30am - 12:30pm</span></h4>
												<p>Lunch at Harvard Yard</p>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>-->
						</div>
					       <div id="searchrsltDetls">
						    <!--<div class="list-truck-price">
							    <div class="bar bar-default">
								    <div class="search-result-box">
									    <h4><a href="#truckdetailsPopup" class="ui-link" data-rel="popup" data-position-to="window" data-transition="pop">Smoked Salmon Crepe</a></h4>
									    <p>Nova lox salmon, cream cheese, red-onion caper mix served on a bed or arugula</p>
									    <div class="right-small-box">
										    <h5>$8.00+</h5>
									    </div>
								    </div>
							    </div>
							    
						    </div>-->
						</div>
						
						
						
						
						 
					</div>
					<div data-role="popup" id="truckdetailsPopupNot" data-theme="a" class="ui-corner-all">
                <div class="popUp">
                   <img style="max-width:63%;" src="img/sorry.png" alt="" class="sorry" />
                    <p style="font-size:18px;"><strong>This food truck is not registered with What The Trucks.</strong></p>
                       
                       <div class="text-center" style="padding: 10px 0;">
                           <img src="img/envelope.png" alt="" width="50" />
                           <img src="img/right-arrow2.png" alt="" width="30" style="margin: 10px 0;" />
                           <img src="img/truck-image.png" alt="" width="60" />
                       </div>
                       
                       <div class="text-center">
                           <a class="req-truck" href="mailto:example@mail.com" style="font-size:18px;">Request this Truck</a>    
                       </div>
                       
                       
                </div>
                <div class="popUpFooter">
                    <a href="javascript:void(0)" data-rel="back">OK</a>
                </div>
           </div>​
					<div data-role="popup" id="truckdetailsPopup" data-theme="a" class="ui-corner-all">
				        <div class="popUp">
				            
				            <div class="listGroup">
								<div class="bar bar-default">
									<form action="" method="post">
									    <div class="increase-btn">
									        <label for="name">Quantity</label>
									        <div class="right">
										        <div class="dec button">-</div>
										        <input type="text" data-role="none" data-theme="none" value="1" id="Quantity" name="french-hens">
										        <div class="inc button">+</div>
									        </div>
									    </div>
									</form>
								</div>
								<div class="bar bar-default">
									<a class="ui-link" href="#">Choice <small>Steak Tips</small></a>
								</div>
								<div class="bar bar-default">
									<a class="ui-link" href="#">Extras <small>Lettuce, Tomato, Pickles, Onions</small></a>
								</div>
								<div class="bar bar-default">
									<a class="ui-link" href="#">Special Instructions <small>(additional charges may apply)</small></a>
								</div>
							</div>
				            
				        </div>
				        <div class="popUpFooter">
				        	<a href="#" data-rel="back" >OK</a>
				        </div>
					</div>
					<a href="#popupExampletruckDetails" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtntruckDetails"></a>
					<div data-role="popup" id="popupExampletruckDetails" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popuptruckDetails" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
					
				</section><!-- /content -->
			
			</div>	
			<aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Menu</a></h2>
					<a onclick="loadsearchresult();" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th colspan="4" style="text-align: center; background: black;padding-top: 20px;padding-bottom: 20px;" class="truckname"></th>
									
								</tr>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody class="basktRed">
								<!-- <tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr> -->

							</tbody>
						</table>
					</div>


					<div class="total totalval"></div>
				</section>
				
				<footer data-role="footer" data-position="fixed" data-theme="a" data-tap-toggle="false">
					<a onclick="testIslogin();" class="ui-btn full-btn" >Proceed to checkout <span class="next-btn"></span></a>
				</footer><!-- /footer -->
				
			</aside>
			
			
			
			
			
			
			
		</div>

		<div data-role="page" id="termsOfUse">
			
			<div class="pageContent ui-panel-wrapper">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Privacy Policy &amp; Terms of Use</a></h2>
					<a href="#" data-rel="back" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
			
				<section data-role="content">
					<div class="inner-content">
						<div class="colOuter">
							<div class="col6">
								<div class="ui-bar ui-bar-b">
									<div class="top-blue-bar" data-position="fixed">
										<h2>Privacy Policy</h2>
									</div>
								</div>
								<div class="text-content">
									<p>Dookans LLC ("Dookans") collects certain information through its websites and mobile sites, located at www.Dookans.com and its blog, located at http://blog.Dookans.com and its Facebook page (collectively, the "Sites"). Your privacy is important to Dookans and this Privacy Policy lays out Dookans's policies and procedures surrounding the collection and handling of such information. This Privacy Policy applies only to the Sites. It does not apply to any restaurant sites, other third party services linked to Dookans Sites or offline activities related to Dookans services.</p>
									<h3>A.	Information Dookans Collects</h3>	
									<p>Dookans may collect the following information from users of our Sites: first name, last name, street address, city, state, zip code, cross streets, phone number, e-mail address, Sites-specific display name, GPS location (mobile site) and credit card information (collectively, "Personally Identifiable Information" or "PII"). The Sites are not intended for use by children under the age of 13 and Dookans does not knowingly collect PII from children under the age of 13. Use of Sites services requires that you register and/or create an account ("Account") or use the Sites as a guest. In addition to the PII set forth above, Dookans may collect information regarding Account holders' past Dookans orders, favorite restaurants, customer service inquiries, service/ restaurant reviews and certain social networking preferences relating to the Sites (e.g. pages or entities you like, recommend or follow). Dookans also uses web analytics software to track and analyze traffic on the Sites in connection with Dookans's advertising and promotion of Dookans services. Dookans may publish these statistics or share them with third parties without including PII. Dookans may collect additional PII in connection with blog submissions including professional title, business/personal website, social networking handle/username and the author's photograph.</p>
									<h3>B.	Dookans's Use Of Collected Information</h3>
									<p>Dookans uses PII to create users' Accounts, to communicate with users about the Sites' services, to offer users additional services, promotions and special offers and to charge for purchases made through the Sites. Users may opt to allow Dookans to store certain PII used to create users' Accounts, including, but not limited to, credit card information. Dookans uses stored PII to customize future order processing for you. You may request that Dookans cease storing certain PII at any time, but you might not be able to take advantage of certain customized features. [Users may affirmatively opt-out of receiving promotional communications from Dookans by visiting http://www.Dookans.com and providing Dookans with their e-mail address via the opt-out link. – Chris you need to think about this one] Dookans may also use PII to enforce the Sites' terms of use. Dookans uses cookies to remember users on the Sites and to enhance users' experience on the Sites. For example, when users with Accounts return to the Sites, cookies identify those users and allow the Sites to provide certain user-specific information such as Account information, past orders, favorite restaurants and user restaurant reviews. Dookans does not sell the information it collects to third parties. Dookans shares collected PII to third-party vendors and service providers with whom Dookans works to provide application programming interfaces ("APIs") and other functions for the Sites in connection with the delivery of Dookans services. In addition, Dookans shares users' Dookans order content, special order instructions, first and last name, street address and telephone number with restaurants where users' orders are placed to the extent necessary to process those orders. Dookans may also disclose PII to third parties such as attorneys, collection agencies, tribunals or law enforcement authorities pursuant to valid requests in connection with alleged violations of Dookans terms of use and service or other alleged contract violations, infringement or similar harm to persons or property. User generated content posted through the Sites such as service/restaurant reviews and certain social networking preferences relating to the Sites (e.g. pages or entities you like, recommend or follow") may be viewed by the general public. Accordingly, Dookans cannot ensure the privacy of any PII included in such user generated content.</p>
									<h3>C.	Dookans's Protection of PII</h3>
									<p>Dookans uses reasonable security measures equal to or exceeding industry standard to protect PII from unauthorized access, destruction, use, modification and disclosure. Unfortunately, even with these measures, Dookans cannot guarantee the security of PII. By using the Sites, you acknowledge and agree that Dookans makes no such guarantee, and that you use the Sites at your own risk.</p>
									<h3>D.	Accessing and Correcting Your PII</h3>
									<p>Registered Account holders can access and change their own PII using the "Edit" function on the Dookans website. If you have questions regarding Dookans's use or collection of your PII, please contact Dookans's privacy officer at: <a href="mailto:accounts@Dookans.com">accounts@Dookans.com</a>.</p>
									<h3>E.	Privacy Policy Amendments</h3>
									<p>Dookans may change this Privacy Policy at any time by posting a new version on this page or on a successor page. The new version will become effective on the posting date, which will be listed at the top of the page as the effective date.</p>
								</div>
							</div>
							<div class="col6">
								<div class="ui-bar ui-bar-b">
									<div class="top-blue-bar" data-position="fixed">
										<h2>Terms of Use</h2>
									</div>
								</div>
								<div class="text-content">
									<p>Please read the following Terms of Use carefully before using Dookans or any of the Sites linked through the Dookans.com web site (“Sites”). For inquiries relating to any food orders, see our Return Policy (insert link here). For information on advertising or promoting your restaurant through Dookans, visit Dookans Sign-up Form for Restaurants (insert link here).</p>
									<h3>1.	Applicability &amp; Acceptance of These Terms of Use</h3>
									<p>By viewing, using, accessing, browsing, or submitting any content or material on the Sites, you agree to these Terms of Use as a binding legal agreement between you and Dookans, without limitation or qualification. The term "you" or "You" shall refer to any person or entity who views, uses, accesses, browses or submits any content or material to the Sites. </p>
									<p>If you do not agree to these Terms of Use, then you may not use the Sites. Dookans reserves the right to modify these Terms of Use at any time without prior notice. </p>
								</div>
							</div>
						</div>
					</div>
					<a href="#popupExampletermsOfUse" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtntermsOfUse"></a>
					<div data-role="popup" id="popupExampletermsOfUse" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popuptermsOfUse" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
				</section><!-- /content -->
			</div>
		</div>
		
		
		
		
				
		<div data-role="page" id="howWorks">
			<div class="pageContent ui-panel-wrapper">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">How it works</a></h2>
					<a href="#" data-rel="back" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				
				<section data-role="content">
					<div class="inner-content">
						<div class="how-works-box">
							<h3>What The Trucks</h3>
							<ul class="works-steps">
								<li>
									<span class="order-icon"></span>
									<h4>Order and Pay</h4>
									<p>Order online or via the What The Trucks mobile apps.</p>
								</li>
								<li>
									<span class="skip-icon"></span>
									<h4>Skip The Line</h4>
									<p>Skip the food truck line and pickup your order at your desiered pickup time.</p>
								</li>
								<li>
									<span class="pick-icon"></span>
									<h4>Pick Up Your Order</h4>
									<p>Head to your food truck of choice and pickup your hot and ready order! Then enjoy.</p>
								</li>
							</ul>
						</div>
					</div>
					<a href="#popupExamplehowWorks" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnhowWorks"></a>
					<div data-role="popup" id="popupExamplehowWorks" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popuphowWorks" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
				</section><!-- /content -->
			</div>
		</div>
		
		
		<div data-role="page" id="logIn">
			<div class="pageContent ui-panel-wrapper">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Sign In</a></h2>
					<a href="#" data-rel="back" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				
				<section data-role="content">
					<div class="inner-content">
						<div class="logInBox">
							<h3>Select One</h3>
							<p>Please select your preferred sign in method, must sign in to check out.</p>
							<div class="logInList">
								<ul>
									<li>
										<a href="#" class="facebook" onclick="login('facebook');">facebook</a>
									</li>
									<li>
										<a href="#" class="twitter" onclick = "ridrect()">twitter</a>
									</li>
									<li>
										<a href="#" class="gPlus" onclick="logingoogle('googlePlus')">gPlus</a>
									</li>
									<!-- <li>
										<a href="#" class="yahoo">yahoo</a>
									</li> -->
								</ul>
							</div>
						</div>
						<img id="sign_in_loader" style="width: 32px; height: 25px;position: absolute;display:none;" src="img/loader.GIF">
					</div>
					<a href="#popupExamplelogIn" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnlogIn"></a>
					<div data-role="popup" id="popupExamplelogIn" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popuplogIn" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
				</section><!-- /content -->
			</div>
		</div>
		
		
		<div data-role="page" id="settings">
			<div class="pageContent ui-panel-wrapper">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Settings</a></h2>
					<!-- <a href="#" data-rel="back" data-position="left" class="back-btn" data-theme="none" ></a> -->
				</header><!-- /header -->
				
				<section data-role="content">
					<div class="inner-content">
						<div class="settingsBox">
							<div class="settingBorderRow">
								<span id="logoimg"></span>
								<h4>Signed in as</h4>
								<h6 id="signed_in_name"></h6>
							</div>
							<div class="listGroup">
								<!-- <div class="bar bar-default">
									<a href="#contactInfo">Manage Contact Info</a>
								</div>
								<div class="bar bar-default">
									<a href="#paymentMethod">Manage Credit Cards</a>
								</div> -->
								<div class="bar bar-default">
                                   <a onclick="redirect_settings_cnct('fromSettingscontact');">Manage Contact Info</a>
                               </div>
                               <div class="bar bar-default">
                                   <a onclick="redirect_settings_credits('fromSettingscards');">Manage Credit Cards</a>
                               </div>
							</div>
						</div>
					</div>
					<a href="#popupExamplesettings" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnsettings"></a>  
					<div data-role="popup" id="popupExamplesettings" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popupsettings" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
				</section><!-- /content -->
			</div>	
		</div>
		
		
		<div data-role="page" id="contactInfo">
			<div class="pageContent ui-panel-wrapper threeColom">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Add Contact</a></h2>
					<a onclick="back_function_cnct()" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				
				<section data-role="content">
					<div class="inner-content">
						<div class="ui-bar ui-bar-b" style="height:19px;">
							<div class="top-blue-bar adreesval" data-position="fixed">
								<!-- <h2>75 Crosstown Ave, West Roxbury, MA 02132</h2> -->
							</div>
						</div>
						<div class="contactInfoHeader">
							<div class="ui-bar ui-bar-white">
								<h2 onclick="opendiv();">Add Contact Info <span class="right plus-icon"></span></h2>
							</div>
							<div class="ui-bar ui-bar-pulple">
								<h2>Select Preferred Address</h2>
							</div>
						</div>
						<div class="contactInfoList" id="contacts-list">
							<!-- <div class="bar bar-default">
								<div class="addressBar">
									<h2><a href="#"><b>Christos Kyriakidis</b></a></h2>
									<p><a href="mailto:poakchris@gmail.com">poakchris@gmail.com</a></p>
									<p>75 Crosstown Ave</p>
									<p>West Roxbury, MA 02132</p>
									<span class="right-icon heart-icon active"></span>
								</div>
							</div> -->
							
						</div>
					</div>
					<a href="#popupExamplecontactInfo" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtncontactInfo"></a>
                	<a href="#popupDeletecontactInfo" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="deletebtncontactInfo"></a>
                	<div data-role="popup" id="popupExamplecontactInfo" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popupcontactInfo" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
		            <div data-role="popup" id="popupDeletecontactInfo" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2>Deleting...</h2>
		                    <p id="popupdeletecontactInfo"><img src="http://esolzdemos.com/lab1/whatthetrucks/www/img/loader.GIF" style="width: 32px; height: 25px; "></p>
		                </div>
		                <!-- <div class="popUpFooter">
		                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
		                </div> -->
		            </div>
				</section><!-- /content -->
			</div>
			<aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Add Contact</a></h2>
					<a onclick="back_function_cnct()" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th colspan="4" style="text-align: center; background: black;padding-top: 20px;padding-bottom: 20px;" class="truckname" id="contactinfotruckname"></th>
								</tr>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody class="checkouttop">
								<!-- <tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr> -->
							</tbody>
						</table>
					</div>
					<div class="total checkoutbottom">
						<!-- <p>
							<span class="left-label"><b>Subtotal:</b></span>
							<span class="right">$16.00</span>
						</p>
						<p>
							<span class="left-label"><b>Tax:</b></span>
							<span class="right">$1.25</span>
						</p>
						<p>
							<span class="left-label"><b>Tip:</b></span>
							<span class="right"><input type="text" data-role="none" class="tipBox"/></span>
						</p>
						<p style="font-size: 15px;">
							<span class="left-label"><b>Total:</b></span>
							<span class="right" style="font-size: 15px;"><b>$17.25</b></span>
						</p> -->
					</div>
				</section>
				<footer data-role="footer" data-position="fixed" data-theme="a">
					<a onclick="success_alert1()" class="ui-btn full-btn" >Place Order <span class="next-btn"></span></a>
				</footer><!-- /footer -->
			</aside>	
			<!-- <aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="total">
						<p>
							<span class="left-label"><b>Subtotal:</b></span>
							<span class="right">$16.00</span>
						</p>
						<p>
							<span class="left-label"><b>Tax:</b></span>
							<span class="right">$1.25</span>
						</p>
						<p>
							<span class="left-label"><b>Tip:</b></span>
							<span class="right"><input type="text" data-role="none" class="tipBox"/></span>
						</p>
						<p style="font-size: 15px;">
							<span class="left-label"><b>Total:</b></span>
							<span class="right" style="font-size: 15px;"><b>$17.25</b></span>
						</p>
					</div>
				</section>
			</aside> -->
			
			<!-- <footer data-role="footer" data-position="fixed" data-theme="b">
				<a href="#checkOut" class="ui-btn full-btn" >Place Order</a>
			</footer> --><!-- /footer -->
			
		</div>
		
		
		<div data-role="page" id="paymentMethod">
			<div class="pageContent ui-panel-wrapper threeColom">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Payment Method</a></h2>
					<a onclick="back_function_pay()" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				
				<section data-role="content">
					<div class="inner-content">
						<div class="ui-bar ui-bar-b">
							<div class="top-blue-bar adreesval" data-position="fixed" style="height:19px;">
								<!-- <h2>75 Crosstown Ave, West Roxbury, MA 02132</h2> -->
							</div>
						</div>
						<div class="contactInfoHeader">
							<div class="ui-bar ui-bar-white" onclick="gotonewcard()">
								<h2 onclick="gotonewcard()">Add Credit Card <span class="right plus-icon"></span></h2>
							</div>
							<div class="ui-bar ui-bar-pulple">
								<h2>Select Preferred Payment</h2>
							</div>
						</div>
						<div class="contactInfoList" id="paymentlist">
							<!-- <div class="bar bar-default">
								<div class="addressBar">
									<h2><b>Visa:</b> **** **** **** 1234</h2>
									<h2>Exp: 07/16</h2>
									<span class="right-icon heart-icon active"></span>
								</div>
							</div> -->
							
						</div>
					</div>
					<a href="#popupExamplepaymentMethod" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnpaymentMethod"></a>
        			<a href="#popupDeletepaymentMethod" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="deletebtnpaymentMethod"></a>
        			<div data-role="popup" id="popupExamplepaymentMethod" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popuppaymentMethod" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
		            <div data-role="popup" id="popupDeletepaymentMethod" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2>Deleting...</h2>
		                    <p id="popupdeletepaymentMethod"><img src="http://esolzdemos.com/lab1/whatthetrucks/www/img/loader.GIF" style="width: 32px; height: 25px; "></p>
		                </div>
		                <!-- <div class="popUpFooter">
		                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
		                </div> -->
		            </div>
				</section><!-- /content -->
			</div>	
			<aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Payment Method</a></h2>
					<a onclick="back_function_pay()" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th colspan="4" style="text-align: center; background: black;padding-top: 20px;padding-bottom: 20px;" class="truckname" id="paymentmethodtruckname"></th>
								</tr>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody class="checkouttop">
								<!-- <tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr> -->
							</tbody>
						</table>
					</div>
					<div class="total checkoutbottom">
						<!-- <p>
							<span class="left-label"><b>Subtotal:</b></span>
							<span class="right">$16.00</span>
						</p>
						<p>
							<span class="left-label"><b>Tax:</b></span>
							<span class="right">$1.25</span>
						</p>
						<p>
							<span class="left-label"><b>Tip:</b></span>
							<span class="right"><input type="text" data-role="none" class="tipBox"/></span>
						</p>
						<p style="font-size: 15px;">
							<span class="left-label"><b>Total:</b></span>
							<span class="right" style="font-size: 15px;"><b>$17.25</b></span>
						</p> -->
					</div>
				</section>
				<footer data-role="footer" data-position="fixed" data-theme="a">
					<a onclick="success_alert1()" class="ui-btn full-btn" >Place Order <span class="next-btn"></span></a>
				</footer><!-- /footer -->
			</aside>
			<!-- <aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a href="#" title="What The Trucks">Renula’s Greek Kitchen</a></h2>
					
				</header>
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="total">
						<p>
							<span class="left-label"><b>Subtotal:</b></span>
							<span class="right">$16.00</span>
						</p>
						<p>
							<span class="left-label"><b>Tax:</b></span>
							<span class="right">$1.25</span>
						</p>
						<p>
							<span class="left-label"><b>Tip:</b></span>
							<span class="right"><input type="text" data-role="none" class="tipBox"/></span>
						</p>
						<p style="font-size: 15px;">
							<span class="left-label"><b>Total:</b></span>
							<span class="right" style="font-size: 15px;"><b>$17.25</b></span>
						</p>
					</div>
				</section>
			</aside> -->
			
			<!-- <footer data-role="footer" data-position="fixed" data-theme="b">
				<a href="#checkOut" class="ui-btn full-btn" >Place Order</a>
			</footer>  --><!-- /footer -->
			
		</div>
		
		
		<div data-role="page" id="pickUp">
			<div class="pageContent ui-panel-wrapper threeColom">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Add Contact</a></h2>
					<a href="#" data-rel="back" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				
				<section data-role="content">
					<div class="inner-content">
						<div class="ui-bar ui-bar-b">
							<div class="top-blue-bar adreesval" data-position="fixed">
								<!-- <h2>75 Crosstown Ave, West Roxbury, MA 02132</h2> -->
							</div>
						</div>
						<div class="contactInfoHeader">
							<div class="ui-bar ui-bar-white">
								<h2 id="leftpartpickup"><!-- <b>Dinner at City Hall Plaza</b> --></h2>
								<h4 id="rightpartpickup"><!-- <b>10am - 6:30pm</b> --></h4>
							</div>
							<div class="ui-bar ui-bar-blue">
								<h2>Change Pick Up Time</h2>
							</div>
						</div>
						<div class="pickUpBox" id="change_pickup">
							<!-- <select name="pickUpTime" id="pickUpTime">
							   <option value="1">6:00 pm</option>
							   <option value="1">8:00 pm</option>
							   <option value="1">10:00 pm</option>
							   <option value="1">11:30 pm</option>
							</select> -->
						</div>
					</div>
					<a href="#popupExamplepickUp" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnpickUp"></a>
					<div data-role="popup" id="popupExamplepickUp" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popuppickUp" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
				</section><!-- /content -->
				<footer data-role="footer" data-position="fixed" data-theme="b">
					<a onclick="gotoCheckout()" class="ui-btn full-btn" >Save Selection</a>
				</footer><!-- /footer -->
			</div>	
			<aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Pickup</a></h2>
					<a href="#checkOut" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th colspan="4" style="text-align: center; background: black;padding-top: 20px;padding-bottom: 20px;" class="truckname"></th>
								</tr>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody class="checkouttop">
								<!-- <tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr> -->
							</tbody>
						</table>
					</div>
					<div class="total checkoutbottom">
						<!-- <p>
							<span class="left-label"><b>Subtotal:</b></span>
							<span class="right">$16.00</span>
						</p>
						<p>
							<span class="left-label"><b>Tax:</b></span>
							<span class="right">$1.25</span>
						</p>
						<p>
							<span class="left-label"><b>Tip:</b></span>
							<span class="right"><input type="text" data-role="none" class="tipBox"/></span>
						</p>
						<p style="font-size: 15px;">
							<span class="left-label"><b>Total:</b></span>
							<span class="right" style="font-size: 15px;"><b>$17.25</b></span>
						</p> -->
					</div>
				</section>
				<footer data-role="footer" data-position="fixed" data-theme="a">
					<a onclick="success_alert1()" class="ui-btn full-btn" >Place Order <span class="next-btn"></span></a>
				</footer><!-- /footer -->
			</aside>
			
			
			
		</div>


		<!-- Special Instruction Checkout -->

		<div data-role="page" id="specialInstructionsCheckout">
			<div class="pageContent ui-panel-wrapper threeColom">
	            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
	                <h2><a style="color:#ffffff;" title="What The Trucks">Food</a></h2>
	                <!-- <a href="#Basket" data-position="left" class="back-btn" data-theme="none" ></a> -->
	                <a onclick="gotoadditem()" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
	                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
	            </header><!-- /header -->
	            
	            <section data-role="content" id="specialDescriptioncheckout">
	                <!-- <div class="inner-content">
	                    <form action="">
	                        <ul class="listingRadio">
	                            <li>
	                                <div class="inputRadio">
	                                    <input type="radio" name="Item" id="Item" data-role="none" />
	                                    <label for="Item">Item</label>
	                                </div>
	                            </li>
	                            <li>
	                                <div class="inputRadio">
	                                    <input type="radio" name="Item" id="Item2" data-role="none" />
	                                    <label for="Item2">Item 2</label>
	                                </div>
	                            </li>
	                            <li>
	                                <div class="inputRadio">
	                                    <input type="radio" name="Item" id="Item3" data-role="none" />
	                                    <label for="Item3">Item 3</label>
	                                </div>
	                            </li>
	                            <li>
	                                <div class="inputRadio">
	                                    <input type="radio" name="Item" id="Item4" data-role="none" />
	                                    <label for="Item4">Item 4</label>
	                                </div>
	                            </li>
	                        </ul>
	                    </form>            
	                </div> -->
	                
	            </section><!-- /content -->

	            <a href="#popupExamplespecialInstructionsCheckout" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnspecialInstructionsCheckout"></a>
	                <div data-role="popup" id="popupExamplespecialInstructionsCheckout" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popupspecialInstructionsCheckout" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
	            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
	                <a onclick="save_desc_checkout();" class="ui-btn full-btn">Save</a>
	            </footer><!-- /footer -->
            </div>
			<aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Special Instruction</a></h2>
					<a href="#checkOut" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th colspan="4" style="text-align: center; background: black;padding-top: 20px;padding-bottom: 20px;" class="truckname"></th>
								</tr>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody class="checkouttop">
								<!-- <tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr> -->
							</tbody>
						</table>
					</div>
					<div class="total checkoutbottom">
						<!-- <p>
							<span class="left-label"><b>Subtotal:</b></span>
							<span class="right">$16.00</span>
						</p>
						<p>
							<span class="left-label"><b>Tax:</b></span>
							<span class="right">$1.25</span>
						</p>
						<p>
							<span class="left-label"><b>Tip:</b></span>
							<span class="right"><input type="text" data-role="none" class="tipBox"/></span>
						</p>
						<p style="font-size: 15px;">
							<span class="left-label"><b>Total:</b></span>
							<span class="right" style="font-size: 15px;"><b>$17.25</b></span>
						</p> -->
					</div>
				</section>
				<footer data-role="footer" data-position="fixed" data-theme="a">
					<a onclick="success_alert1()" class="ui-btn full-btn" >Place Order <span class="next-btn"></span></a>
				</footer><!-- /footer -->
			</aside>
			
			
			
		</div>

		<!-- Special Instruction Checkout -->
		
				
		<div data-role="page" id="newCard">
			<div class="pageContent ui-panel-wrapper">	
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">New Card</a></h2>
					<a href="#paymentMethod" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
			
				<section data-role="content">
					<div class="inner-content">
						<div class="extraPaddingContent stateaddress">
						
							<form role="form" class="defaultForm">
								<div class="textCenter">
									<label>Select Card Type</label>

									<fieldset data-mini="true" class="selectCardType" id="cardType">
		                                <div class="ui-block">
		                                    <a onclick="assing_value('Visa')" class="ui-btn visa-btn" id="visaimg">visa</a>
		                                </div>
		                                <div class="ui-block">
		                                    <a onclick="assing_value('American Express')" class="ui-btn americanExpress-btn" id="ameximg">AMEX</a>
		                                </div>
		                                <div class="ui-block">
		                                    <a onclick="assing_value('Master')" class="ui-btn masterCard-btn" id="masterimg">Master</a>
		                                </div>
		                                <div class="ui-block">
		                                    <a onclick="assing_value('Discover')" class="ui-btn discover-btn" id="discimg">discover</a>
		                                </div>
		                            </fieldset>
		                        </div>
								<label for="nameOnCard">Name on Card</label>
							    <input data-clear-btn="true" name="nameOnCard" id="nameOnCard" value="" type="text">
							    
							    <label for="cardNumber">Card Number</label>
							    <input data-clear-btn="true" name="cardNumber" id="cardNumber" value="" type="text" maxlength="16" pattern="\d*">
							    
							    
							    <fieldset class="ui-grid-a">

							    	<div class="ui-block-a" style="padding-right:10px;" id="expmonthdiv">
	                                    <label for="expMonth">Exp. Month</label>
	                                    <select name="expMonth" id="expMonth">
	                                        <option value="">Select</option>
	                                        <option value="01">01</option>
	                                        <option value="02">02</option>
	                                        <option value="03">03</option>
	                                        <option value="04">04</option>
	                                        <option value="05">05</option>
	                                        <option value="06">06</option>
	                                        <option value="07">07</option>
	                                        <option value="08">08</option>
	                                        <option value="09">09</option>
	                                        <option value="10">10</option>
	                                        <option value="11">11</option>
	                                        <option value="12">12</option>
	                                    </select>
	                                    <!-- <input type="text" pattern="\d*" name="expMonth" id="expMonth" maxlength="2" value="" data-clear-btn="true"> -->
	                                </div>

								   <div class="ui-block-b" id="expyeardiv">
	                                    <!-- <label for="expYear">Exp. Year</label>
	                                    <input type="text" pattern="\d*" name="expYear" id="expYear" value="" maxlength="4" data-clear-btn="true">  -->
	                                </div>
								</fieldset>
								<div id="testdiv"></div>
								<fieldset class="ui-grid-a">
                                <div class="ui-block-a">
                                    <label for="CVVCode">CVV Code</label>
                                    <input type="text" pattern="\d*" name="CVVCode" id="CVVCode" value="" maxlength="4" data-clear-btn="true">
                                </div>
                               <!--  <div class="ui-block-b">
                                    <label for="ZIP">ZIP</label>
                                    <input type="text" name="ZIP" id="ZIP" value="">
                                </div> -->
                            </fieldset>
                            <input type="hidden" name="card_Type" id="card_Type" value="">
							</form>
						
						</div>
					</div>
					<a href="#popupExamplenewCard" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnnewCard"></a>
                	<a href="#popupExampleaddnewCard" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnaddnewCard"></a>
                	<div data-role="popup" id="popupExamplenewCard" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popupnewCard" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
		            <div data-role="popup" id="popupExampleaddnewCard" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2 style="font-size:25px;">Adding...</h2>
		                    <p id="popupaddnewCard"><img src="http://esolzdemos.com/lab1/whatthetrucks/www/img/loader.GIF" style="width: 32px; height: 25px; "></p>
		                </div>
		                <!-- <div class="popUpFooter">
		                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
		                </div> -->
		            </div>
				</section><!-- /content -->
				<footer data-role="footer" data-position="fixed" data-theme="b">
					<a onclick="submit_card()" class="ui-btn full-btn" id="addpmtbtn">Add</a>
				</footer><!-- /footer -->
			</div>
		</div>
				
		
		<div data-role="page" id="newAddress">
			<div class="pageContent ui-panel-wrapper">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">New Address</a></h2>
					<a href="#contactInfo" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
			
				<section data-role="content">
					<div class="inner-content">
						<div class="extraPaddingContent stateaddress">
						
							<form role="form" class="defaultForm">
                                                        
                            <label for="Name">Name</label>
                            <input data-clear-btn="true" name="Name" id="Name" value="" type="text">
                            
                            <label for="Address">Address</label>
                            <input data-clear-btn="true" name="Address" id="Address" value="" type="text">
                            
                           

                            
                           <!--  <input data-clear-btn="true" name="State" id="State" value="" type="text"> -->

                            <!-- <div id="the-basics">
                              <input class="typeahead" type="text">
                            </div> -->

                             <!-- <div class="ui-widget"> -->
                             <!--  <label for="tags">Tags: </label>
                              <input id="tags" autocomplete="off" type="text" value=""> -->
                            <!-- </div> -->

                           <!--  <div id="the-basics">
                                  <input class="typeahead" type="text" placeholder="States of USA">
                                </div> -->
                            <fieldset class="ui-grid-a">
                                <div class="ui-block-a">
                                    <label for="City">City</label>
                            		<input data-clear-btn="true" name="City" id="City" value="" type="text">
                                </div>
                                <div class="ui-block-b" style="padding-left:9px;">
                                    <label for="State" style="margin-bottom:-2px;">State</label>
		                            <select name="State" id="State" style="width:100%;">
		                                <option value="">Select</option>
		                                <option value="Alabama">Alabama</option>
		                                <option value="Alaska">Alaska</option>
		                                <option value="Arizona">Arizona</option>
		                                <option value="Arkansas">Arkansas</option>
		                                <option value="California">California</option>
		                                <option value="Colorado">Colorado</option>
		                                <option value="Connecticut">Connecticut</option>
		                                <option value="Delaware">Delaware</option>
		                                <option value="Florida">Florida</option>
		                                <option value="Georgia">Georgia</option>
		                                <option value="Hawaii">Hawaii</option>
		                                <option value="Idaho">Idaho</option>
		                                <option value="Illinois">Illinois</option>
		                                <option value="Indiana">Indiana</option>
		                                <option value="Iowa">Iowa</option>
		                                <option value="Kansas">Kansas</option>
		                                <option value="Kentucky">Kentucky</option>
		                                <option value="Louisiana">Louisiana</option>
		                                <option value="Maine">Maine</option>
		                                <option value="Massachusetts">Massachusetts</option>
		                                <option value="Minnesota">Minnesota</option>
		                                <option value="Mississippi">Mississippi</option>
		                                <option value="Missouri">Missouri</option>
		                                <option value="Montana">Montana</option>
		                                <option value="Nebraska">Nebraska</option>
		                                <option value="Nevada">Nevada</option>
		                                <option value="New Hampshire">New Hampshire</option>
		                                <option value="New Jersey">New Jersey</option>
		                                <option value="New Mexico">New Mexico</option>
		                                <option value="New York">New York</option>
		                                <option value="North Carolina">North Carolina</option>
		                                <option value="North Dakota">North Dakota</option>
		                                <option value="Ohio">Ohio</option>
		                                <option value="Oklahoma">Oklahoma</option>
		                                <option value="Oregon">Oregon</option>
		                                <option value="Pennsylvania">Pennsylvania</option>
		                                <option value="Rhode Island">Rhode Island</option>
		                                <option value="South Carolina">South Carolina</option>
		                                <option value="South Dakota">South Dakota</option>
		                                <option value="Tennessee">Tennessee</option>
		                                <option value="Texas">Texas</option>
		                                <option value="Utah">Utah</option>
		                               
		                                <option value="Vermont">Vermont</option>
		                                <option value="Virginia">Virginia</option>
		                                <option value="Washington">Washington</option>
		                                <option value="West Virginia">West Virginia</option>
		                                <option value="Wisconsin">Wisconsin</option>
		                                <option value="Wyoming">Wyoming</option>
		                                
		                            </select>
                                </div>
                            </fieldset>
                            
                            <fieldset class="ui-grid-a">
                                <div class="ui-block-a">
                                    <label for="ZIP">ZIP</label>
                                    <input type="text" pattern="\d*" name="ZIP" id="ZIP" maxlength="5" value="" data-clear-btn="true">
                                </div>
                                <div class="ui-block-b">
                                    <label for="Mobile">Mobile</label>
                                    <input type="text" pattern="\d*" name="Mobile" id="Mobile" maxlength="10" value="" data-clear-btn="true" onfocusin="deformatphone1()" onfocusout="formatphoneonout()">
                                </div>
                            </fieldset>
                            
                            <label for="Email">Email</label>
                            <input data-clear-btn="true" name="Email" id="Email" value="" type="email">
                            
                        </form>

						
						</div>
					</div>
					<a href="#popupExamplenewAddress" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnnewAddress"></a>
                	<a href="#popupExampleaddnewAddress" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnaddnewAddress"></a>
                	<div data-role="popup" id="popupExamplenewAddress" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popupnewAddress" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
		            <div data-role="popup" id="popupExampleaddnewAddress" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2 style="font-size:25px;">Adding...</h2>
		                    <p id="popupaddnewAddress"><img src="http://esolzdemos.com/lab1/whatthetrucks/www/img/loader.GIF" style="width: 32px; height: 25px; "></p>
		                </div>
		                <!-- <div class="popUpFooter">
		                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
		                </div> -->
		            </div>
				</section><!-- /content -->
				<footer data-role="footer" data-position="fixed" data-theme="b">
					<a href="#" class="ui-btn full-btn" onclick="add_addressinfo();" id="addcnctbtn">Add</a>
				</footer><!-- /footer -->
			</div>
		</div>
			
		
		<div data-role="page" id="addItem">
			<div class="pageContent ui-panel-wrapper threeColom">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Food</a></h2>
					<a href="#" data-rel="back" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				
				<section data-role="content">
					<div class="inner-content">
						<div class="ui-bar ui-bar-b">
							<div class="top-blue-bar adreesval" data-position="fixed">
								<!-- <h2>75 Crosstown Ave, West Roxbury, MA 02132</h2> -->
							</div>
						</div>
						
						<div id="food_div">
							<!-- <div class="contactInfoHeader">	
								<div class="ui-bar ui-bar-white">
									<h2>Smoked Salmon Crepe <span class="right">$8.00</span></h2>
									<p>Nova lox salmon, red onion, cream cheese, caper mix</p>
								</div>				
								<div class="ui-bar ui-bar-pulple">
									<h2>Item Options</h2>
								</div>
							</div>
							
							
							<div class="listGroup">
								<div class="bar bar-default">
									<form method="post" action="">
									    <div class="increase-btn">
									        <label for="name">Quantity</label>
									        <div class="right">
										        <div class="dec button">-</div>
										        <input type="text" name="french-hens" id="french-hens" value="1" data-theme="none" data-role="none">
										        <div class="inc button">+</div>
									        </div>
									    </div>
									</form>
								</div>
								<div class="bar bar-default">
									<a href="#" class="ui-link">Choice <small>Steak Tips</small></a>
								</div>
								<div class="bar bar-default">
									<a href="#" class="ui-link">Extras <small>Lettuce, Tomato, Pickles, Onions</small></a>
								</div>
								<div class="bar bar-default">
									<a href="#" class="ui-link">Special Instructions <small>(additional charges may apply)</small></a>
								</div>
							</div> -->
						</div>
						
						
					</div>
					<a href="#popupExampleaddItem" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnaddItem"></a>
					<div data-role="popup" id="popupExampleaddItem" data-theme="a" class="ui-corner-all" style="width:400px;">
		                <div class="popUp">
		                    <h2></h2>
		                    <p id="popupaddItem" style="font-size:20px;"></p>
		                </div>
		                <div class="popUpFooter">
		                    <a href="#" onclick="closeok()">OK</a>
		                </div>
		            </div>
				</section><!-- /content -->
				<footer data-role="footer" data-position="fixed" data-theme="b">
					<a href="" onclick="storeVal2();" class="ui-btn full-btn" >Add to Basket</a>
				</footer><!-- /footer -->
			</div>	
			<aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Food</a></h2>
					<a href="#truckDetails" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th colspan="4" style="text-align: center; background: black;padding-top: 20px;padding-bottom: 20px;" class="truckname"></th>
									
								</tr>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody class="basktRed">
								<!-- <tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr> -->

							</tbody>
						</table>
					</div>
					<div class="total totalval"></div>
				</section>
				<footer data-role="footer" data-position="fixed" data-theme="a">
					<a onclick="testIslogin();" class="ui-btn full-btn" >Proceed to checkout <span class="next-btn"></span></a>
				</footer><!-- /footer -->
			</aside>
			
		</div>

		<div data-role="page" id="specialInstructions">
			<div class="pageContent ui-panel-wrapper threeColom">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a style="color:#ffffff;" title="What The Trucks">Food</a></h2>
                <!-- <a href="#Basket" data-position="left" class="back-btn" data-theme="none" ></a> -->
                <a onclick="gotoadditem()" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content" id="specialDescription">
                <!-- <div class="inner-content">
                    <form action="">
                        <ul class="listingRadio">
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item" data-role="none" />
                                    <label for="Item">Item</label>
                                </div>
                            </li>
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item2" data-role="none" />
                                    <label for="Item2">Item 2</label>
                                </div>
                            </li>
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item3" data-role="none" />
                                    <label for="Item3">Item 3</label>
                                </div>
                            </li>
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item4" data-role="none" />
                                    <label for="Item4">Item 4</label>
                                </div>
                            </li>
                        </ul>
                    </form>            
                </div> -->
                
            </section><!-- /content -->

            <a href="#popupExamplespecialInstructions" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnspecialInstructions"></a>
                <div data-role="popup" id="popupExamplespecialInstructions" data-theme="a" class="ui-corner-all" style="width:400px;">
	                <div class="popUp">
	                    <h2></h2>
	                    <p id="popupspecialInstructions" style="font-size:20px;"></p>
	                </div>
	                <div class="popUpFooter">
	                    <a href="#" onclick="closeok()">OK</a>
	                </div>
	            </div>
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a href="#addItem" onclick="save_desc();" class="ui-btn full-btn">Save</a>
            </footer><!-- /footer -->
            </div>
            <!-- <div data-role="popup" id="popupExamplelistingPage" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuplistingPage"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div> -->


            <aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Food</a></h2>
					<a href="#addItem" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th colspan="4" style="text-align: center; background: black;padding-top: 20px;padding-bottom: 20px;" class="truckname"></th>
									
								</tr>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody class="basktRed">
								<!-- <tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr> -->

							</tbody>
						</table>
					</div>
					<div class="total totalval"></div>
				</section>
				<footer data-role="footer" data-position="fixed" data-theme="a">
					<a onclick="testIslogin();" class="ui-btn full-btn" >Proceed to checkout <span class="next-btn"></span></a>
				</footer><!-- /footer -->
			</aside>
        </div>

		<div data-role="page" id="listingPage">
			<div class="pageContent ui-panel-wrapper threeColom">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a style="color:#ffffff;" title="What The Trucks">Food</a></h2>
                <!-- <a href="#Basket" data-position="left" class="back-btn" data-theme="none" ></a> -->
                <a onclick="gotoadditem()" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content" style="margin-top:10px;" id="listpageId">
                <!-- <div class="inner-content">
                    <form action="">
                        <ul class="listingRadio">
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item" data-role="none" />
                                    <label for="Item">Item</label>
                                </div>
                            </li>
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item2" data-role="none" />
                                    <label for="Item2">Item 2</label>
                                </div>
                            </li>
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item3" data-role="none" />
                                    <label for="Item3">Item 3</label>
                                </div>
                            </li>
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item4" data-role="none" />
                                    <label for="Item4">Item 4</label>
                                </div>
                            </li>
                        </ul>
                    </form>            
                </div> -->
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b" id="footersaveselection">
                <!-- <a href="#addItem" id="saveslctnbtn" class="ui-btn full-btn">Save Selection</a> -->
            </footer>
            <a href="#popupExamplelistingPage" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnlistingPage"></a>
            <div data-role="popup" id="popupExamplelistingPage" data-theme="a" class="ui-corner-all" style="width:400px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuplistingPage"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" onclick="closeok()">OK</a>
                </div>
            </div>
            
            <!-- <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a href="#addItem" onclick="get_extras();" class="ui-btn full-btn">Save Selection</a>
            </footer> --><!-- /footer -->
            </div>
            <


            <aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Food</a></h2>
					<a href="#addItem" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th colspan="4" style="text-align: center; background: black;padding-top: 20px;padding-bottom: 20px;" class="truckname"></th>
									
								</tr>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody class="basktRed">
								<!-- <tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr> -->

							</tbody>
						</table>
					</div>
					<div class="total totalval"></div>
				</section>
				<footer data-role="footer" data-position="fixed" data-theme="a">
					<a onclick="testIslogin();" class="ui-btn full-btn" >Proceed to checkout <span class="next-btn"></span></a>
				</footer><!-- /footer -->
			</aside>
        </div>
		
						
		<div data-role="page" id="Basket">
			<div class="pageContent ui-panel-wrapper">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Basket</a></h2>
					<a href="#truckDetails" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
			
				<section data-role="content" style="margin-left:0px;" id="basktRed_basket"></section><!-- /content -->
				<footer data-role="footer" data-position="fixed" data-theme="b">
					<!--<a href="#popupExample" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" >Proceed to checkout</a>-->
					<a onclick="testIslogin();" class="ui-btn full-btn" >Proceed to checkout</a>
				</footer><!-- /footer -->
				<a href="#popupExampleBasket" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnBasket"></a>
				<div data-role="popup" id="popupExampleBasket" data-theme="a" class="ui-corner-all" style="width:400px;">
	                <div class="popUp">
	                    <h2></h2>
	                    <p id="popupBasket" style="font-size:20px;"></p>
	                </div>
	                <div class="popUpFooter">
	                    <a href="#" onclick="closeok()">OK</a>
	                </div>
	            </div>
				<div data-role="popup" id="popupExample" data-theme="a" class="ui-corner-all">
			        <div class="popUp">
			            <h2>Benny’s Crepe Cafe</h2>
			            <p>Please use same copy for all pop ups as website and this design for all pop ups</p>
			        </div>
			        <div class="popUpFooter">
			        	<a href="#" data-rel="back" >OK</a>
			        </div>
				</div>
			</div>
		</div>
		
		
		<div data-role="page" id="checkOut">
			
			<div class="pageContent ui-panel-wrapper threeColom">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Checkout</a></h2>
					<a href="#truckDetails" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
			
				<section data-role="content">
					<div class="inner-content">						
						<div class="ui-bar ui-bar-b">
							<div data-position="fixed" class="top-blue-bar adreesval">
								<!-- <h2>75 Crosstown Ave, West Roxbury, MA 02132</h2> -->
							</div>
						</div>
						
						<div class="search-result-box">
							<h3><a class="ui-link truckname" href="#"></a></h3>
							<div class="inline-box">
								<span id="pickupcheckout"><!-- Pickup: 35 min --></span>
								<span id="mincheckout"><!-- $0 Minimum --></span>
							</div>
							
						</div>
						
						
						<div class="ui-bar ui-bar-pulple">
							<h2 class="block"><span id="leftpartcheckout">Lunch at City Hall Plaza</span><span class="right" id="rightpartcheckout">10:30am - 12:30pm</span></h2>
						</div>
						
						<div class="listGroup">
							<div class="bar bar-default">
								<a onclick="gotocontactinfo()" class="ui-link" id="checkoutcontactinfo">Add Contact Information</a>
							</div>
							<div class="bar bar-default">
								<a onclick="gotopaymentmethod()" class="ui-link" id="checkoutcardpayment">Add Payment Information</a>
							</div>
							<div class="bar bar-default">
								<a onclick="changepickup()" class="ui-link" id="show_pick">Change Pickup Time</a>
							</div>
							<div class="bar bar-default">
								<a onclick="instructions_checkout()" class="ui-link">Special Instructions <small>(additional charges may apply)</small></a>
							</div>
						</div>
											
					</div>
				</section><!-- /content -->
				<footer data-role="footer" data-position="fixed" data-theme="b">
					<a onclick="success_alert1()" class="ui-btn full-btn">Place Order</a>
				</footer><!-- /footer -->
				<a href="#popupExamplecheckOut" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtncheckOut"></a>
				<div data-role="popup" id="popupExamplecheckOut" data-theme="a" class="ui-corner-all" style="width:400px;">
	                <div class="popUp">
	                    <h2></h2>
	                    <p id="popupcheckOut" style="font-size:20px;"></p>
	                </div>
	                <div class="popUpFooter">
	                    <a href="#" onclick="closeok()">OK</a>
	                </div>
	            </div>
			</div>
			<aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Checkout</a></h2>
					<a href="#truckDetails" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
				<section data-role="content">
					<div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th colspan="4" style="text-align: center; background: black;padding-top: 20px;padding-bottom: 20px;" class="truckname"></th>
								</tr>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody class="checkouttop">
								<!-- <tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr> -->
							</tbody>
						</table>
					</div>
					<div class="total checkoutbottom">
						<!-- <p>
							<span class="left-label"><b>Subtotal:</b></span>
							<span class="right">$16.00</span>
						</p>
						<p>
							<span class="left-label"><b>Tax:</b></span>
							<span class="right">$1.25</span>
						</p>
						<p>
							<span class="left-label"><b>Tip:</b></span>
							<span class="right"><input type="text" data-role="none" class="tipBox"/></span>
						</p>
						<p style="font-size: 15px;">
							<span class="left-label"><b>Total:</b></span>
							<span class="right" style="font-size: 15px;"><b>$17.25</b></span>
						</p> -->
					</div>
				</section>
				<footer data-role="footer" data-position="fixed" data-theme="a">
					<a onclick="success_alert1()" class="ui-btn full-btn">Place Order<span class="next-btn"></span></a>
				</footer><!-- /footer -->
			</aside>
		</div>
		
		
		
		<div data-role="page" id="checkOutContact">
			
			<div class="pageContent ui-panel-wrapper threeColom">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Checkout</a></h2>
					<a href="#Basket" data-position="left" class="back-btn" data-theme="none" ></a>
				</header><!-- /header -->
			
				<section data-role="content">
					<div class="inner-content">						
						<div class="ui-bar ui-bar-b">
							<div data-position="fixed" class="top-blue-bar adreesval">
								<!-- <h2>75 Crosstown Ave, West Roxbury, MA 02132</h2> -->
							</div>
						</div>
						
						<div class="search-result-box">
							<h3><a class="ui-link" href="#">Renula's Greek Kitchen</a></h3>
							<div class="inline-box">
								<span>Pickup: 35 min</span>
								<span>$0 Minimum</span>
							</div>
							
						</div>
						
						
						<div class="ui-bar ui-bar-pulple">
							<h2 class="block">Lunch at City Hall Plaza <span class="right">10:30am - 12:30pm</span></h2>
						</div>
						
						<div class="listGroup">
							<div class="bar bar-default">
								<a class="addressBar" href="#">
									<h2><b>Christos Kyriakidis</b></h2>
									<p>poakchris@gmail.com</p>
									<p>75 Crosstown Ave</p>
									<p>West Roxbury, MA 02132</p>
								</a>
							</div>
							<div class="bar bar-default">
								<a class="addressBar" href="#">
									<p>Visa: **** **** **** 1234</p>
									<p>Exp: 07/16</p>
								</a>
							</div>
							<div class="bar bar-default">
								<a href="#" class="ui-link">Change Pickup Time <span>1:30pm</span></a>
							</div>
							<div class="bar bar-default">
								<a href="#" class="ui-link">Special Instructions</a>
							</div>
						</div>
											
					</div>
				</section><!-- /content -->
				<footer data-role="footer" data-position="fixed" data-theme="b">
					<a href="#checkOut" class="ui-btn full-btn">Checkout</a>
				</footer><!-- /footer -->
				<a href="#popupExamplecheckOutContact" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtncheckOutContact"></a>
				<div data-role="popup" id="popupExamplecheckOutContact" data-theme="a" class="ui-corner-all" style="width:400px;">
	                <div class="popUp">
	                    <h2></h2>
	                    <p id="popupcheckOutContact" style="font-size:20px;"></p>
	                </div>
	                <div class="popUpFooter">
	                    <a href="#" onclick="closeok()">OK</a>
	                </div>
	            </div>
			</div>
			<aside data-role="panel" data-position="right" data-dismissible="false" class="rightPanel">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Renula’s Greek Kitchen</a></h2>
					
				</header><!-- /header -->
				<section data-role="content">
					<!-- <div class="top-blue-bar" data-position="fixed">
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
									<td><a href="#" class="delete"></a></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="total">
						<p>
							<span class="left-label"><b>Subtotal:</b></span>
							<span class="right">$16.00</span>
						</p>
						<p>
							<span class="left-label"><b>Tax:</b></span>
							<span class="right">$1.25</span>
						</p>
						<p>
							<span class="left-label"><b>Tip:</b></span>
							<span class="right"><input type="text" data-role="none" class="tipBox"/></span>
						</p>
						<p style="font-size: 15px;">
							<span class="left-label"><b>Total:</b></span>
							<span class="right" style="font-size: 15px;"><b>$17.25</b></span>
						</p>
					</div> -->
				</section>
				<footer data-role="footer" data-position="fixed" data-theme="a">
					<a href="#checkOut" class="ui-btn full-btn" >Proceed to checkout <span class="next-btn"></span></a>
				</footer><!-- /footer -->
			</aside>
		</div>
		
		
		<div data-role="page" id="Confirmation">
			
			<div class="pageContent ui-panel-wrapper">
				<header data-role="header" data-id="my-header" data-position="fixed">
					<h2><a style="color:#ffffff;" title="What The Trucks">Thank You</a></h2>
					<!-- <a href="#Basket" data-position="left" class="back-btn" data-theme="none" ></a> -->
				</header><!-- /header -->
			
				<section data-role="content" id="success_confirmation">
					<!-- <div class="inner-content">
						<div class="contactInfoHeader">		
							<div class="headerTopBox">
								<h2><a class="ui-link" href="#">Benny’s Crepe Cafe</a></h2>
								<span>Rings Fountain at Milk Street</span>
								<div class="inline-icon">
									<span><b>Order:</b>123456</span>
									<span class="right"><b>Pickup: </b> 35 min</span>
								</div>
							</div>
						</div>
						
						<table data-role="table" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe table-stroke ui-responsive" data-column-btn-theme="b" >
							<thead>
								<tr class="ui-bar-d ui-bar-blue">
									<th>QTY</th>
									<th>ITEM</th>
									<th>PRICE</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
								</tr>
								<tr>
									<th>1</th>
									<td>
									<p class="split-text">
										Guacamole Taco Combo <small> + Medium Salsa</small>
									</p></td>
									<td>$8.00</td>
								</tr>
							</tbody>
						</table>
						
						<div class="total">
							<p>
								<span class="left-label"><b>Subtotal:</b></span>
								<span class="right">$16.00</span>
							</p>
							<p>
								<span class="left-label"><b>Tax:</b></span>
								<span class="right">$1.25</span>
							</p>
							<p>
								<span class="left-label"><b>Tip:</b></span>
								<span class="right">$2.00</span>
							</p>
							<p style="font-size: 15px;">
								<span class="left-label"><b>Total:</b></span>
								<span class="right" style="font-size: 15px;"><b>$17.25</b></span>
							</p>
							
						</div>
						
						<div class="listGroup">
							<div class="bar bar-default">
								<a class="addressBar" href="#">
									<h2><b>Christos Kyriakidis</b></h2>
									<p>poakchris@gmail.com</p>
									<p>75 Crosstown Ave</p>
									<p>West Roxbury, MA 02132</p>
								</a>
							</div>
							<div class="bar bar-default">
								<a class="addressBar" href="#">
									<p>Visa: **** **** **** 1234</p>
									<p>Exp: 07/16</p>
								</a>
							</div>
							<div class="bar bar-default">
								<a href="#" class="ui-link">Change Pickup Time <span>1:30pm</span></a>
							</div>
							<div class="bar bar-default">
								<a href="#" class="ui-link">Special Instructions</a>
							</div>
						</div>
											
					</div> -->
				</section><!-- /content -->
				<footer data-role="footer" data-position="fixed" data-theme="b">
					<a onclick="redirecttohome()" class="ui-btn full-btn">Home</a>
				</footer><!-- /footer -->
				<a href="#popupExampleConfirmation" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnConfirmation"></a>
				<div data-role="popup" id="popupExampleConfirmation" data-theme="a" class="ui-corner-all" style="width:400px;">
	                <div class="popUp">
	                    <h2></h2>
	                    <p id="popupConfirmation" style="font-size:20px;"></p>
	                </div>
	                <div class="popUpFooter">
	                    <a href="#" onclick="closeok()">OK</a>
	                </div>
	            </div>
			</div>
		</div>
		
		
		<aside data-role="panel" id="nav-panel" data-position="left" data-dismissible="false" data-display="reveal">
    		 <ul class="main-menu">
		    	<li><a onclick="redirecttohome()"><span class="menu-home"></span>Home</a></li>
		    	<li><a href="#howWorks"><span class="menu-howitworks"></span>How It Works</a></li>
		    	<li><a onclick="check_basredirect();"><span class="menu-basket"></span>Basket</a></li>
		    	<li><a href="#termsOfUse"><span class="menu-terms"></span>Terms</a></li>
		    	<li><a onclick="show_settings();"><span class="menu-settings"></span>Settings</a></li>
		    	<li id="show_login_li"><a onclick="redirecttologin()"><span class="menu-signin"></span>Sign In</a></li>
		    	<li id="show_logout" style="display:none;"><a onclick="logout_normal();"><span class="menu-signin"></span>Sign Out</a></li>
		    </ul>
		   
    	</aside>
		
		<input type="hidden" name="mandatory" id="mandatory" value="">

        <input type="hidden" name="totpriceval" id="totpriceval" value="">

        <input type="hidden" name="choiceval" id="choiceval" value="" />
        <input type="hidden" name="breadid" id="breadid" value="" />
        <input type="hidden" name="breadprice" id="breadprice" value="" />
        <input type="hidden" name="breadtype" id="breadtype" value="" />

        <input type="hidden" name="sauceval" id="sauceval" value="" />
         <input type="hidden" name="sauceid" id="sauceid" value="" />
        <input type="hidden" name="sauceprice" id="sauceprice" value="" />
        <input type="hidden" name="saucetype" id="saucetype" value="" />

        <input type="hidden" name="choicesval" id="choicesval" value="" />
         <input type="hidden" name="choicesid" id="choicesid" value="" />
        <input type="hidden" name="choicesprice" id="choicesprice" value="" />
        <input type="hidden" name="choicestype" id="choicestype" value="" />

        <input type="hidden" name="proteinval" id="proteinval" value="" />
         <input type="hidden" name="proteinid" id="proteinid" value="" />
        <input type="hidden" name="proteinprice" id="proteinprice" value="" />
        <input type="hidden" name="proteintype" id="proteintype" value="" />

        <input type="hidden" name="final_email" id="final_email" value="" />
        <input type="hidden" name="final_paymentprofId" id="final_paymentprofId" value="" />
        <input type="hidden" name="payment_info" id="payment_info" value="" />
        <input type="hidden" name="final_sendstr" id="final_sendstr" value="" />
        <input type="hidden" name="final_sendstr_payment" id="final_sendstr_payment" value="" />

         <input type="hidden" name="final_ppId" id="final_ppId" value="" />
         <input type="hidden" name="final_mailid" id="final_mailid" value="" />
         <input type="hidden" name="final_payment_info" id="final_payment_info" value="" />
         <input type="hidden" name="final_paymentprofId" id="final_paymentprofId" value="" />
         <input type="hidden" name="payment_expirydate" id="payment_expirydate" value="" />

         <input type="hidden" name="selected_truck_name" id="selected_truck_name" value="" />

         <input type="hidden" name="checkout_check" id="checkout_check" value="" />

         <input type="hidden" name="basket_check" id="basket_check" value="" />
            <input type="hidden" name="menu_check" id="menu_check" value="" />
            <input type="hidden" name="details_check" id="details_check" value="" />


         <input type="hidden" id="checkout_html_value" name="checkout_html_value" value="" />


         <input type="hidden" id="add_priceval" name="add_priceval" value="" />

         <input type="hidden" id="extrasvalue" name="extrasvalue" value="" />
         <input type="hidden" id="extrasnames" name="extrasnames" value="" />
         <input type="hidden" id="extrasprices" name="extrasprices" value="" />

         <input type="hidden" id="extrasvalue_toppings" name="extrasvalue_toppings" value="" />
         <input type="hidden" id="extrasnames_toppings" name="extrasnames_toppings" value="" />
         <input type="hidden" id="extrasprices_toppings" name="extrasprices_toppings" value="" />
     
     <input type="hidden" id="breadname" name="breadname" value="" />
     <input type="hidden" id="saucename" name="saucename" value="" />
     <input type="hidden" id="choicesoptname" name="choicesoptname" value="" />
     <input type="hidden" id="proteinname" name="proteinname" value="" />

     <input type="hidden" id="specialinsttext" name="specialinsttext" value="" />
     <input type="hidden" id="active_id" name="active_id" value="" />
     <input type="hidden" id="redirect_settings_val" name="redirect_settings_val" value="" />
    <input type="hidden" id="redirect_settings_val_cnct" name="redirect_settings_val_cnct" value="" />

    <input type="hidden" id="selectedpaymentheart" name="selectedpaymentheart" value="" />
    <input type="hidden" id="selectedaddressheart" name="selectedaddressheart" value="" />

    <input type="hidden" id="exist_payment" name="exist_payment" value="0" />
    <input type="hidden" id="exist_add" name="exist_add" value="0" />


    <input type="hidden" id="final_hrtidval" name="final_hrtidval" value="" />
    <input type="hidden" id="final_hrtpayment" name="final_hrtpayment" value="" />

    <input type="hidden" id="bread_clicked" name="bread_clicked" value="" />
    <input type="hidden" id="sauce_clicked" name="sauce_clicked" value="" />
    <input type="hidden" id="choice_clicked" name="choice_clicked" value="" />
    <input type="hidden" id="protein_clicked" name="protein_clicked" value="" />

    <input type="hidden" id="add_details_blank" name="add_details_blank" value="" />
    <input type="hidden" id="payment_details_blank" name="payment_details_blank" value="" />

    <input type="hidden" id="delete_recall_div" name="delete_recall_div" value="" />

    <input type="hidden" id="checkout_clicked" name="checkout_clicked" value="" />

    <input type="hidden" id="choice_limit" name="choice_limit" value="" />
    <input type="hidden" id="WTTpickup" name="WTTpickup" value="" />
    <input type="hidden" id="spclinst_checkout_text" name="spclinst_checkout_text" value="" />
		
		<script src="js/jquery-1.11.1.min.js"></script>
        <script type="text/javascript" src="js/retina.min.js"></script>

        <script src="js/jquery.mobile-1.4.5.min.js"></script>
        <script type="text/javascript" src="js/index.js"></script>


   
        <script type="text/javascript" src="js/jquery.cookie.js"></script>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/facebookConnectPlugin.js"></script>
        <script type="text/javascript" src="js/GooglePlus.js"></script>
            <script type="text/javascript" charset="utf-8" src="js/TwitterPlugin.js"></script>
             <script type="text/javascript" charset="utf-8" src="js/demo.js"></script>
             <script type="text/javascript" charset="utf-8" src="js/childbrowser.js"></script> 
             <script type="text/javascript" charset="utf-8" src="js/creditcard.js"></script>
        <script type="text/javascript">


        var selectedLanguage = new Array();
           var selectedPrice = new Array();
           var selectedExtrasName = new Array();

           var selectedLanguage_toppings = new Array();
           var selectedPrice_toppings = new Array();
           var selectedExtrasName_toppings = new Array();

           var radioarray=new Array();
           var ckboxarray=new Array();

           var globalcardtype="";

           var frompageval="";

           var d = new Date();
            var n = d.getFullYear();
            var mn=d.getMonth();
            mn=mn+1;
            //alert(n);

            var expyearinnerhtml="";
            expyearinnerhtml+="<label for='expYear'>Exp. Year</label><select name='expYear' id='expYear'><option value=''>Select</option>";
            for(var yr=n;yr<=(n+20);yr++){
                expyearinnerhtml+='<option value="'+yr+'">'+yr+'</option>';
            }
            expyearinnerhtml+="</select>";
            document.getElementById('expyeardiv').innerHTML=expyearinnerhtml;

            // var expmonthinnerhtml="";
            // expmonthinnerhtml+="<label for='expMonth'>Exp. Month</label><select name='expMonth' id='expMonth'><option value=''>Select</option>";
            // for(var m=mn;m<=12;m++){
            // 	var opt='';
            // 	if(m<10){
            // 		opt='0'+m;
            // 	}else{
            // 		opt=m;
            // 	}
            //     expmonthinnerhtml+='<option value="'+opt+'">'+opt+'</option>';
            // }
            // expmonthinnerhtml+="</select>";
            // document.getElementById('expmonthdiv').innerHTML=expmonthinnerhtml;

            //alert('expyearinnerhtml - '+expyearinnerhtml);

           //var expyearinnerhtml="";
        
			app.initialize();
			
			$('#submit-btn').click(function() {
			    geocoder = new google.maps.Geocoder();
			     var address = document.getElementById("whereYou").value;
			     //var limit_address=address.substring(0,40)+'..';
			     if(address.length>100){
				var limit_address=address.substring(0,100)+'..';
			    }else{
				var limit_address=address.substring(0,100);
			    }
			    var keyword = document.getElementById("foodTruckName").value;

			    //alert(limit_address);
					  
			     $('.adreesval').html("<h2>"+limit_address+"</h2>");
			     //$('#addrval').html("<h2>"+limit_address+"</h2>");
			    geocoder.geocode( { 'address': address}, function(results, status) {
			    if (status == google.maps.GeocoderStatus.OK) {
	
				    searchResult(results[0].geometry.location.lat(),results[0].geometry.location.lng(),keyword);
			     } 
	
			     else {
				//alert('eeeee');
				//alert($.mobile.activePage.attr('id'));
				//alert("Please Choose an Address first");
				 //jAlert("Please Choose an Address first");
				 var pageid=$.mobile.activePage.attr('id');
                 document.getElementById('popup'+pageid).innerHTML="Please Choose an Address first";
                 document.getElementById('alertbtn'+pageid).click();
			 }
		     });
				//$.mobile.changePage("#searchResult");
			});
			
			$('.right-small-box').click(function() {
				$(this).parent().parent().find(".collapsed-schedule").slideToggle();
			});
			
			$(".contactInfoList .addressBar").click(function(){
			  if ($(this).find(".heart-icon").is(".active")) {
			   		$(this).removeClass("active");
			  }
			  else {
			   	$(".contactInfoList .bar .heart-icon").removeClass("active");
			   	$(this).find(".heart-icon").addClass("active");
			  }
		 	});
		 	
		 	$("#cardType .ui-btn").click(function(){
			  if ($(this).is(".active")) {
			   		$(this).removeClass("active");
			  }
			  else {
			   	$("#cardType .ui-btn").removeClass("active");
			   	$(this).addClass("active");
			  }
		 	});
		 	
		 	
		 		 	
		 	$(".button").on("click", function() {
			  var $button = $(this);
			  var oldValue = $button.parent().find("input").val();
			
			  if ($button.text() == "+") {
				  var newVal = parseFloat(oldValue) + 1;
				} else {
			   // Don't allow decrementing below zero
			    if (oldValue > 0) {
			      var newVal = parseFloat(oldValue) - 1;
			    } else {
			      newVal = 0;
			    }
			  }
			
			  $button.parent().find("input").val(newVal);
			
			});
			
			
			$('.delete').click(function() {
				$(this).parent().parent().remove();
			});
			
			
			$(function() {
				$( "body>[data-role='panel']" ).panel();
			});
			
			
			var login = function (value) {
   
                var date = new Date();
                var minutes = 1440;
                 date.setTime(date.getTime() + (minutes * 60 * 1000));

                $.cookie("fbvalue", value, { expires: date });
    
                if (!window.cordova) {

                    var appId = prompt("899987186706780", "");
                    facebookConnectPlugin.browserInit(appId);
                }
                // }else{
                // 	alert('pppp');
                // }
                facebookConnectPlugin.login( ["email"], 
                    function (response) {
                    	//alert('ppppp');
                    	//alert(response);
                                            
                                            facebookConnectPlugin.api("me/", [], function(result) {
                                                                      //alert("Result: " + JSON.stringify(result));
                                                                      var res = JSON.stringify(result);
                                                                      var responseData = JSON.parse(res);
                                                                      //alert(res);
                                                                      
                                                                      $.cookie("fbname", responseData.first_name, { expires: date });
                                                                      $.cookie("fblname", responseData.last_name, { expires: date });
                                                                      $.cookie("fbeml", responseData.email, { expires: date });
                                                                      document.getElementById("logoimg").className="fbSttings";
                                                                      
                                                                      // //alert('sendfacebookcnct1('+$.cookie("fbname")+','+$.cookie("fblname")+','+$.cookie("fbeml")+')');
                                                                      sendfacebookcnct($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                                                                      
                                                                      
                                                                      
                                                                      facebookConnectPlugin.logout(function(response) {
                                                                                                   //alert(response);
                                                                                                   }, function(error) {
                                                                                                   //alert("Logout failed: " + error);
                                                                                                   });
                                                                      }, function(error) {
                                                                      // login();
                                                                        jAlert("Failed: " + error);
                                                                      
                                                                      //alert('2');
                                                                     // sendfacebookcnct($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                                                                      //alert("Failed: " + error);
                                                                      });
                      						},
                    function (response) {  });
                    
            }

            function ridrect(){

	            //alert(nameL);
	            
	            // JavaScript to send an action to your Objective-C code
	            
	            var myAppName = 'myFakeAppName';
	            
	            var myActionType = 'myJavascriptActionType';
	            
	            var myActionParameters = {}; // put extra info into a dict if you need it
	            
	            
	            
	            // (separating the actionType from parameters makes it easier to parse in ObjC.)
	            
	            var jsonString = (JSON.stringify(myActionParameters));
	            
	            var escapedJsonParameters = escape(jsonString);
	            
	            var url = myAppName + '://' + myActionType + "#" + escapedJsonParameters;
	            
	            document.location.href = url;
	            
	            if(nameL == "noaccount"){
	                
	                //jAlert('Please set up your twitter account from settings');
	                //alert("Please set up your twitter account from settings");
	                var pageid=$.mobile.activePage.attr('id');
	                document.getElementById('popup'+pageid).innerHTML="Please set up your twitter account from settings";
	                document.getElementById('alertbtn'+pageid).click();
	                
	                
	            }else{

	                var date = new Date();
	                var minutes = 1440;
	                date.setTime(date.getTime() + (minutes * 60 * 1000));
	            
	            //alert(nameL);
	            $.cookie("fbname", nameL, { expires: date });
	            $.cookie("fblname", "", { expires: date });
	            $.cookie("fbeml", nameL, { expires: date });
	            document.getElementById("logoimg").className="twSttings";
	           sendfacebookcnct(nameL,"",nameL);
	            }
	            
	            
	        }

	        function check_basredirect(){
	        	//alert('pppppppppp');
	        	// alert(typeof $.cookie("count"));
	        	// alert($.cookie("islogin"));
	        	// alert($.cookie("prevsName"));

                if (typeof $.cookie("prevsName") == "undefined" || $.cookie("prevsName") =="")
                {
                  // alert("Basket is empty");
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Basket is empty";
                    document.getElementById('alertbtn'+pageid).click();
                }
                else
                {
                    if(($.cookie("islogin")== "yes") && ((typeof $.cookie("prevsName") != "undefined") || $.cookie("prevsName") != "") && fb_html!="")
                    {
                    	//alert('pppppp');
                        basketredirect_basket();
                    }

                    else
                    {
                        //alert(3);
                        frompageval="Basket";
                        $.mobile.changePage("#logIn");
                        //basketredirect_basket();
                    }
                }
	        }

	        function logingoogle(value) {

			    var date = new Date();
			    var minutes = 1440;
			     date.setTime(date.getTime() + (minutes * 60 * 1000));

			    $.cookie("fbvalue", value, { expires: date });
			    window.plugins.googleplus.login(
			        {
			          'iOSApiKey': '1008791507678-ec8chuj2lkbqo2vo7ejvj9ri7t8870gd.apps.googleusercontent.com'
			        },
			        function (obj) {
			            //alert(obj.displayName);
			            //alert(obj);
			            var n = obj.displayName.lastIndexOf(" ");
			            var fname=obj.displayName.substring(0, n);
			            var lname=obj.displayName.substring(n+1);
			            //alert(fname+' '+lname+', '+obj.email);

			            $.cookie("fbname", fname, { expires: date });
			            $.cookie("fblname", lname, { expires: date });
			            $.cookie("fbeml", obj.email, { expires: date });
			              document.getElementById("logoimg").className="gpSttings";
			             sendfacebookcnct(fname,lname,obj.email);
			            // alert(obj.displayName.substring(0, n) + "," + obj.displayName.substring(n+1));
			            // alert(n);
			            // console.log('ppppp----'+JSON.parse(obj));
			            //alert(obj.imageUrl +"Hi, " + obj.displayName + ", " + obj.email);
			          // document.querySelector("#image").src = obj.imageUrl;
			          // document.querySelector("#image").style.visibility = 'visible';
			          // document.querySelector("#feedback").innerHTML = "Hi, " + obj.displayName + ", " + obj.email;
			        },
			        function (msg) {
			          //document.querySelector("#feedback").innerHTML = "error: " + msg;
			        }
			    );
			  }
			
			function seeAdreesa(){
			    if(typeof street == "undefined"){
				//jAlert("We are not able to drag your location,please enter your location");
				//alert('We are not able to drag your location,please enter your location');
				var pageid=$.mobile.activePage.attr('id');
                document.getElementById('popup'+pageid).innerHTML="We are not able to drag your location,please enter your location";
                document.getElementById('alertbtn'+pageid).click();
			    }
			    else if(street=="(null)")
			    {
				//jAlert("We are not able to drag your location,please enter your location");
				//alert('We are not able to drag your location,please enter your location');
				var pageid=$.mobile.activePage.attr('id');
                document.getElementById('popup'+pageid).innerHTML="We are not able to drag your location,please enter your location";
                document.getElementById('alertbtn'+pageid).click();
			    }
			    else
			    {
				document.getElementById('whereYou').value = street;
		
			    }
		
			}
			var searchresulthtml="";

			function loadsearchresult()
			{
 					$('#searchrslt').fadeOut(2,function(){
					     $(this).html(searchresulthtml);
					     $(this).fadeIn(2);
		    
							$('.right-small-box').click(function() {
							    $(this).parent().parent().find(".collapsed-schedule").slideToggle();
							});
					    
					 });
				$.mobile.changePage("#searchResult");
			}
			
			function searchResult(lat,longt,keyword){

				//$("#basktRed").html('');
				//alert(lat);
				//alert(longt);
				//alert(keyword);
				
		    
				$("#searchrslt").html('');
		    
				 $.mobile.changePage("#searchResult");
			    
			    $("#searchrslt").fadeOut(20,function(){
				 $(this).html('<img src="img/loader.GIF" class="loaderimage" style="position:absolute; width:32px; height:25px; top:50%; transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
			    });
				
			    
			    $.ajax({
				type: "POST",
				url: "http://esolzdemos.com/lab1/whatthetrucks/searchresultipad.php",
				data: "lat="+lat+"&longt="+longt+"&keywrd="+keyword,
				cache: false,
					success: function(html){
					var allval=html;
					searchresulthtml=html;
					//alert(allval);
				       
					 $('#searchrslt').fadeOut(20,function(){
					     $(this).html(allval);
					     $(this).fadeIn(20);
		    
							$('.right-small-box').click(function() {
							    $(this).parent().parent().find(".collapsed-schedule").slideToggle();
							});
					    
					 });
		    
					},
					error: function(xhr, status, error) {
					      var err = eval("(" + xhr.responseText + ")");
					      alert(err.Message);
					    }
				});
			    
			    
			    
			}

			function save_desc()
            {
                    var specialinst=document.getElementById('speInstruction').value;
                //alert('save_desc='+specialinst);
                document.getElementById('specialinsttext').value=specialinst;

                var thought = jQuery("textarea#speInstruction").val();

                //alert(thought);
                var date = new Date();
                        var minutes = 1440;
                         date.setTime(date.getTime() + (minutes * 60 * 1000));
                        $.cookie("descriptionsp", thought, { expires: date });
            }
			
			function gotoDetailsRes(idv,lat,longt,busid,name,addr,time,pickuptime,minorderamt,deliveryCharge,deliveryMethod,deliveryTime,minDeliveryOrd,locationId,taxRate,tandcversion,tandc,rp,loc_id,show_loc){

				$("#searchrsltDetls").html('');
				$("#searchrsltDetlsdropdown").html('');
			
				//alert(time);
			
				//alert(rp);
			
				//$.mobile.changePage("#truckDetails");
			
				var date = new Date();
			    var minutes = 1440;
			     date.setTime(date.getTime() + (minutes * 60 * 1000));
			
			    $.cookie("busnsid", busid, { expires: date });
			    $.cookie("showname", name, { expires: date });
			    $.cookie("showaddr", addr, { expires: date });
			    $.cookie("showtime", time, { expires: date });
			    $.cookie("pickuptime", pickuptime, { expires: date });
			    $.cookie("minorderamt", minorderamt, { expires: date });
			    $.cookie("deliveryCharge", deliveryCharge, { expires: date });
			    $.cookie("deliveryMethod", deliveryMethod, { expires: date });
			    $.cookie("deliveryTime", deliveryTime, { expires: date });
			    $.cookie("minDeliveryOrd", minDeliveryOrd, { expires: date });
			    $.cookie("locationId", locationId, { expires: date });
			    $.cookie("loc_id", loc_id, { expires: date });
			
			    $.cookie("taxRate", taxRate, { expires: date });
			    $.cookie("tandcversion", tandcversion, { expires: date });
			    $.cookie("tandc", tandc, { expires: date });
			
			    //cookies for redirection on dropdown change
			
			    $.cookie("other_lat", lat, { expires: date });
			    $.cookie("other_longt", longt, { expires: date });
			    $.cookie("other_idv", idv, { expires: date });
			    $.cookie("other_rp", rp, { expires: date });
			    $.cookie("other_show_loc", show_loc, { expires: date });
			    $.cookie("other_time", time, { expires: date });
			    $.cookie("other_addr", addr, { expires: date });
			
				//alert(name);
			    //document.getElementById('truckname').innerHTML='<h3>'+name+'</h3>';
			    $(".truckname").html('<h3>'+name+'</h3>');
			     $("#searchrsltDetls").fadeOut(200,function(){
				     // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
				     // $(this).show("fast");
				     $(this).html('<img src="img/loader.GIF" class="loaderotherimage"  style="position:absolute; width:32px; height:25px; top:50%; transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
				});
				    
				geocoder = new google.maps.Geocoder();
				var address = document.getElementById("whereYou").value;
			
				//alert("ori"+address);
				if(address.length>40){
				    var limit_address=address.substring(0,40)+'..';
				}else{
				    var limit_address=address.substring(0,40);
				}
			
				//alert("after"+limit_address);
				var keyword = document.getElementById("foodTruckName").value;
			
				//alert(address);
					//alert(busid);   
				//$('.adreesval').html("<h2 >"+limit_address+"</h2>");
			
				$.ajax({
				    type: "POST",
				    url: "http://esolzdemos.com/lab1/whatthetrucks/searchdetailsipad.php",
				    data: "lat="+lat+"&longt="+longt+"&id="+idv+"&busid="+busid+"&rp="+rp+"&show_loc="+encodeURIComponent(show_loc)+"&show_time="+encodeURIComponent(time)+"&addr="+addr,
				    cache: false,
					    success: function(html){
			
						//alert(html);
						var splithtml=html.split('########');
			
						$('#searchrsltDetls').html('');
						$("#searchrsltDetlsdropdown").html('');
					    var allval=html;
					    document.getElementById('details_check').value="1";
					    //alert(html);
			
					    // var splitArray = allval.split('@@');
					    // var itemJson=splitArray[1];
			
					    // alert(itemJson);
					    //$("#searchrsltDetlsdropdown").html(splithtml[0]);
					    $('#searchrsltDetlsdropdown').fadeOut(10,function(){
						 $(this).html(splithtml[0]);
						 $(this).fadeIn(10);
			
							$('.right-small-box').click(function() {
								$(this).parent().parent().find(".collapsed-schedule").slideToggle();
							    }); 
			
							$('select').selectmenu();
						    $('select').selectmenu('refresh', true);
						
					     });
					    
					     $('#searchrsltDetls').fadeOut(200,function(){
						 $(this).html(splithtml[1]);
						 $(this).fadeIn(500);
			
						    //     $('.right-small-box1').click(function() {
						    //             $(this).parent().parent().find(".collapsed-schedule").slideToggle();
						    //         }); 
			
						    //     $('select').selectmenu();
						    // $('select').selectmenu('refresh', true);
						
					     });

					     //alert('pppppppp');

					    

                		// alert('selectedText  -  '+selectedText);
                		// alert('lllllll');

					    }
				    });
			
				$.mobile.changePage("#truckDetails");
			    }


			    // recall_div

			    function recall_div(fname,lname,email){
		            //alert('eeeeee');
		            //document.getElementById('sign_in_loader').style.display='';
		            //alert('sendfacebookcnct-'+document.getElementById("checkout_check").value);
		             //alert(fname+'.......'+lname+'......'+email);
			        $.ajax({
			            type: "POST",
			            url: "http://esolzdemos.com/lab1/whatthetrucks/facebookcoonecnt.php",
			            data: "fname="+fname+"&lname="+lname+"&email="+email,
			            cache: false,
			                    success: function(html){
			                    	console.log(html);
			                    	var date = new Date();
			                        var minutes = 1440;
			                         date.setTime(date.getTime() + (minutes * 60 * 1000));
			                        $.cookie("islogin", "yes", { expires: date });
			                        document.getElementById("show_logout").style.display="";
                 					document.getElementById("show_login_li").style.display="none";
                 					 var splitArray = html.split('@@');
				                    var profId=splitArray[1];
				                    var Email1=splitArray[2];
				                    var Name1=splitArray[3];
				                    var Address1=splitArray[4];
				                    var City1=splitArray[5];
				                    var State1=splitArray[6];
				                    var Zipcode1=splitArray[7];
				                    var Phone1=splitArray[8];

				                    $.cookie("profId", profId , { expires: date });
				                   $.cookie("Email1", Email1 , { expires: date });
				                   $.cookie("Name1", Name1 , { expires: date });
				                   $.cookie("Address1", Address1 , { expires: date });
				                   $.cookie("City1", City1 , { expires: date });
				                   $.cookie("State1", State1 , { expires: date });
				                   $.cookie("Zipcode1", Zipcode1 , { expires: date });
				                   $.cookie("Phone1", Phone1 , { expires: date });

				                    //$.cookie('the_cookie', 'the_value');

				                    
				                    var name=fname+" "+lname;
				                    $.cookie("fb_uname", name , { expires: date });
				                    fb_html=splitArray[0];

				                   // alert(fb_html);
				                   var obj = JSON.parse(fb_html);
					                 // alert(obj.pmtList.length);
					                
					                var i=0;
					                var innerhtmltext='';
					                var name='';
					                    var email='';
					                    var city='';
					                    var state='';
					                    var zipcode='';
					                    var address='';
					                    var id='';
					                    var phone='';
					                    var hrtid='';

					                    if (typeof obj.addressList != "undefined") {
					                    	//alert('pppp');
					                    	if (typeof obj.addressList.length == "undefined") {
					                    		//alert('llll');
					                    		if (typeof obj.addressList.name != "undefined")
						                        {
						                        name=obj.addressList.name;
						                        }else{
						                        name='';
						                        }
						                       // alert(name);
						                        if (typeof obj.addressList.email != "undefined")
						                        {
						                        email=obj.addressList.email;
						                        }else{
						                        email='';
						                        }
						                        //alert(email);
						                        if (typeof obj.addressList.city != "undefined")
						                        {
						                        city=obj.addressList.city;
						                        }else{
						                        city='';
						                        }
						                        //alert(city);
						                        if (typeof obj.addressList.state != "undefined")
						                        {
						                        state=obj.addressList.state;
						                        }else{
						                        state='';
						                        }
						                        //alert(state);
						                        if (typeof obj.addressList.zipcode != "undefined")
						                        {
						                        zipcode=obj.addressList.zipcode;
						                        }else{
						                        zipcode='';
						                        }
						                       // alert(zipcode);
						                        if (typeof obj.addressList.address1 != "undefined")
						                        {
						                        address=obj.addressList.address1;
						                        }else{
						                        address='';
						                        }
						                        //alert(address);
						                        if (typeof obj.addressList.id != "undefined")
						                        {
						                        id=obj.addressList.id;
						                        }else{
						                        id='';
						                        }
						                        //alert(id);

						                        if (typeof obj.addressList.phone1 != "undefined")
						                        {
						                        phone=obj.addressList.phone1;
						                        phone=returnphoneformat(phone);
						                        }else{
						                        phone='';
						                        }
						                        //alert(phone);

						                        hrtid=i+'heart';
						                        //alert(hrtid);
						    
						                var string="'"+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+'=='+id+'=='+phone+"'";
						                        //alert(string);
						                       
						                         // innerhtmltext+='<div class="bar bar-default"><div class="addressBar"><h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p><span class="right-icon heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span><span class="delete1" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​</div></div>';
						                          innerhtmltext+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span>​<span class="top-icon-2 delete1" style="padding-right:30px;" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​<h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p></div></div>';
						                        
					                    	}else{
					                    		//alert('mmmm');
					                    		for(i=0;i<obj.addressList.length;i++)
								                {
								                    
								                    
								                    if (typeof obj.addressList[i].name != "undefined")
								                    {
								                    name=obj.addressList[i].name;
								                    }else{
								                    name='';
								                    }
								                    
								                    if (typeof obj.addressList[i].email != "undefined")
								                    {
								                    email=obj.addressList[i].email;
								                    }else{
								                    email='';
								                    }
								                    
								                    if (typeof obj.addressList[i].city != "undefined")
								                    {
								                    city=obj.addressList[i].city;
								                    }else{
								                    city='';
								                    }
								                    
								                    if (typeof obj.addressList[i].state != "undefined")
								                    {
								                    state=obj.addressList[i].state;
								                    }else{
								                    state='';
								                    }
								                    
								                    if (typeof obj.addressList[i].zipcode != "undefined")
								                    {
								                    zipcode=obj.addressList[i].zipcode;
								                    }else{
								                    zipcode='';
								                    }
								                    
								                    if (typeof obj.addressList[i].address1 != "undefined")
								                    {
								                    address=obj.addressList[i].address1;
								                    }else{
								                    address='';
								                    }

								                    if (typeof obj.addressList[i].id != "undefined")
								                        {
								                        id=obj.addressList[i].id;
								                        }else{
								                        id='';
								                        }

								                        if (typeof obj.addressList[i].phone1 != "undefined")
								                        {
								                        phone=obj.addressList[i].phone1;
								                        phone=returnphoneformat(phone);
								                        }else{
								                        phone='';
								                        }

								                        hrtid=i+'heart';

								                     var string="'"+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+'=='+id+'=='+phone+"'";
								                    
								                    // innerhtmltext+='<div class="bar bar-default"><div class="addressBar"><h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p><span class="right-icon heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span><span class="delete1" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​</div></div>';
								                    innerhtmltext+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span>​<span class="top-icon-2 delete1" style="padding-right:30px;" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​<h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p></div></div>';

								                    
								                    
								                    
								                }
					                    	}

					                    }
					                    //alert('innerhtmltext  -  '+innerhtmltext);

					                     var innerhtmltext2='';
						                var lasfour='';
						                var payment_profid='';
						                var payment_info='';
						                var payment_expdate='';
						                var payment_id='';
						                var hrtpaymnt='';
						                var cardtype='';
								//alert('iiii');
						                 if (typeof obj.pmtList != "undefined") {
						                    if (typeof obj.pmtList.length == "undefined") {

						                        //alert('pppp');
						                    lasfour=obj.pmtList.lastFour;
								    //alert(lasfour);
						                        payment_profid=obj.pmtList.paymentProfileId;
									//alert(payment_profid);
						                        payment_info=obj.pmtList.lastFour;
									//alert(payment_info);
						                        payment_expdate=obj.pmtList.expDate;
									//alert(payment_expdate);
						                        payment_id=obj.pmtList.id;
									//alert(payment_id);
						                        hrtpaymnt=i+'heart1';
									//alert(hrtpaymnt);
						                        cardtype=obj.pmtList.cardtype;
						                        if(cardtype=="American Express"){
						                            cardtype="AMEX";
						                        }
									//alert(cardtype);

						                        var string_payment="'"+lasfour+'=='+payment_expdate+'=='+cardtype+"'";
									//alert(string_payment);
						    
						             // innerhtmltext2+='<div class="bar bar-default"><div class="addressBar"><h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+obj.pmtList.expDate+'</h2><span class="right-icon heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="top-icon-2 delete1" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​</div></div>';
						              // innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+obj.pmtList.expDate+'</h2></div></div>';
						              innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" style="padding-right:30px;" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+payment_expdate+'</h2></div></div>';

						             //alert('oo - '+innerhtmltext2);
						                    }else{
						                        //ssss
						                    //alert('hhhhh');
						                    for(i=0;i<obj.pmtList.length;i++)
						                    {
						                        //alert(obj.pmtList[i].lastFour);
						                        lasfour=obj.pmtList[i].lastFour;
						                        payment_profid=obj.pmtList[i].paymentProfileId;
						                        payment_info=obj.pmtList[i].lastFour;
						                        payment_expdate=obj.pmtList[i].expDate;
						                        payment_id=obj.pmtList[i].id;
						                        cardtype=obj.pmtList[i].cardtype;
						                        if(cardtype=="American Express"){
						                            cardtype="AMEX";
						                        }
						                        hrtpaymnt=i+'heart1';

						                        var string_payment="'"+lasfour+'=='+payment_expdate+'=='+cardtype+"'";
						    
						            innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" style="padding-right:30px;" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+payment_expdate+'</h2></div></div>';
						                             //alert(innerhtmltext2);
						                        
						                    }
						                 }
						                 }

					                  //alert('innerhtmltext2  -  '+innerhtmltext2);
					                    $("#contacts-list").html(innerhtmltext);
					                     if(innerhtmltext!=""){
						                    document.getElementById(hrtid).className = "top-icon-1 heart-icon active";
						                }
						                //alert(hrtid);
						                document.getElementById("final_hrtidval").value=hrtid;
						                //alert('iiii');

						                $("#paymentlist").html(innerhtmltext2);
					                     if(innerhtmltext2!=""){
						                    document.getElementById(hrtpaymnt).className = "top-icon-1 heart-icon active";
						                }
						                //alert();
						                document.getElementById("final_hrtpayment").value=hrtpaymnt;
						                //alert('llllll');
								
								
								var finlhrt=hrtid;
								
								var final_email=email;
								var name1=name;
								var email1=email;
								var city1=city;
								var state1=state;
								var zipcode1=zipcode;
								var address1=address;
								var id1=id;
								var phone1=phone;
								
								document.getElementById("final_sendstr").value="'"+name1+'=='+email1+'=='+address1+'=='+city1+'=='+state1+'=='+zipcode1+'=='+id1+'=='+phone1+"'";
								if(email1!=""){
									document.getElementById('checkoutcontactinfo').innerHTML='<span style="font-weight: 600; font-size: larger;">'+name1+'</span><br/><span>'+email1+'</span><br/><span>'+address1+'</span><br/><span>'+city1+', '+state1+' '+zipcode1+'</span><br/><span>'+phone1+'</span>';
								}else{
									document.getElementById('checkoutcontactinfo').innerHTML='Add Contact Information';
								}
								

								document.getElementById("final_email").value=final_email;
								var ddd="'"+name1+'=='+email1+'=='+address1+'=='+city1+'=='+state1+'=='+zipcode1+'=='+id1+'=='+phone1+"'";
								
								 var final_paymentprofId=payment_profid;
								var final_payment_info=lasfour;
							       var final_payment_expdate=payment_expdate;
								var final_payment_cardtype=cardtype;
						
						
							       document.getElementById("final_sendstr_payment").value="'"+final_payment_info+'=='+final_payment_expdate+'=='+final_payment_cardtype+"'";
									
									if(final_payment_cardtype!=""){
										document.getElementById('checkoutcardpayment').innerHTML='<span>'+final_payment_cardtype+': **** **** **** '+final_payment_info+'</span><br><span>Exp: '+final_payment_expdate+'</span>';
									}else{
										document.getElementById('checkoutcardpayment').innerHTML='Add Payment Information';
									}
							       

							       //alert(final_paymentprofId);
							       document.getElementById("final_paymentprofId").value=final_paymentprofId;
							      // alert('function sendfacebookcnct - '+final_payment_info);
							       document.getElementById("payment_info").value=final_payment_info;
								document.getElementById("payment_expirydate").value=final_payment_expdate;

								if(document.getElementById('delete_recall_div').value=="1"){
					                document.getElementById('homepagebtn').href="#"+$.mobile.activePage.attr('id')
					                document.getElementById('homepagebtn').click();
					                document.getElementById('delete_recall_div').value="";
					            }


                 					 //$.mobile.changePage("#home");
			                    }
			        });
			    }

			    //recall_div


			     var fb_html='';
		        function sendfacebookcnct(fname,lname,email){
		            //alert('eeeeee');
		            document.getElementById('sign_in_loader').style.display='';
		            //alert('sendfacebookcnct-'+document.getElementById("checkout_check").value);
		             //alert(fname+'.......'+lname+'......'+email);
			        $.ajax({
			            type: "POST",
			            url: "http://esolzdemos.com/lab1/whatthetrucks/facebookcoonecnt.php",
			            data: "fname="+fname+"&lname="+lname+"&email="+email,
			            cache: false,
			                    success: function(html){
			                    	console.log(html);
			                    	var date = new Date();
			                        var minutes = 1440;
			                         date.setTime(date.getTime() + (minutes * 60 * 1000));
			                        $.cookie("islogin", "yes", { expires: date });
			                        document.getElementById("show_logout").style.display="";
                 					document.getElementById("show_login_li").style.display="none";
                 					 var splitArray = html.split('@@');
				                    var profId=splitArray[1];
				                    var Email1=splitArray[2];
				                    var Name1=splitArray[3];
				                    var Address1=splitArray[4];
				                    var City1=splitArray[5];
				                    var State1=splitArray[6];
				                    var Zipcode1=splitArray[7];
				                    var Phone1=splitArray[8];

				                    $.cookie("profId", profId , { expires: date });
				                   $.cookie("Email1", Email1 , { expires: date });
				                   $.cookie("Name1", Name1 , { expires: date });
				                   $.cookie("Address1", Address1 , { expires: date });
				                   $.cookie("City1", City1 , { expires: date });
				                   $.cookie("State1", State1 , { expires: date });
				                   $.cookie("Zipcode1", Zipcode1 , { expires: date });
				                   $.cookie("Phone1", Phone1 , { expires: date });

				                    //$.cookie('the_cookie', 'the_value');

				                    
				                    var fullname=fname+" "+lname;
				                    $.cookie("fb_uname", fullname , { expires: date });
				                    $("#signed_in_name").html(fullname);
				                    fb_html=splitArray[0];

				                   // alert(fb_html);
				                   var obj = JSON.parse(fb_html);
					                 // alert(obj.pmtList.length);
					                
					                var i=0;
					                var innerhtmltext='';
					                var name='';
					                    var email='';
					                    var city='';
					                    var state='';
					                    var zipcode='';
					                    var address='';
					                    var id='';
					                    var phone='';
					                    var hrtid='';

					                    if (typeof obj.addressList != "undefined") {
					                    	//alert('pppp');
					                    	if (typeof obj.addressList.length == "undefined") {
					                    		//alert('llll');
					                    		if (typeof obj.addressList.name != "undefined")
						                        {
						                        name=obj.addressList.name;
						                        }else{
						                        name='';
						                        }
						                       // alert(name);
						                        if (typeof obj.addressList.email != "undefined")
						                        {
						                        email=obj.addressList.email;
						                        }else{
						                        email='';
						                        }
						                        //alert(email);
						                        if (typeof obj.addressList.city != "undefined")
						                        {
						                        city=obj.addressList.city;
						                        }else{
						                        city='';
						                        }
						                        //alert(city);
						                        if (typeof obj.addressList.state != "undefined")
						                        {
						                        state=obj.addressList.state;
						                        }else{
						                        state='';
						                        }
						                        //alert(state);
						                        if (typeof obj.addressList.zipcode != "undefined")
						                        {
						                        zipcode=obj.addressList.zipcode;
						                        }else{
						                        zipcode='';
						                        }
						                       // alert(zipcode);
						                        if (typeof obj.addressList.address1 != "undefined")
						                        {
						                        address=obj.addressList.address1;
						                        }else{
						                        address='';
						                        }
						                        //alert(address);
						                        if (typeof obj.addressList.id != "undefined")
						                        {
						                        id=obj.addressList.id;
						                        }else{
						                        id='';
						                        }
						                        //alert(id);

						                        if (typeof obj.addressList.phone1 != "undefined")
						                        {
						                        phone=obj.addressList.phone1;
						                        phone=returnphoneformat(phone);
						                        }else{
						                        phone='';
						                        }
						                        //alert(phone);

						                        hrtid=i+'heart';
						                        //alert(hrtid);
						    
						                var string="'"+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+'=='+id+'=='+phone+"'";
						                        //alert(string);
						                       
						                         // innerhtmltext+='<div class="bar bar-default"><div class="addressBar"><h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p><span class="right-icon heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span><span class="delete1" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​</div></div>';
						                          innerhtmltext+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span>​<span class="top-icon-2 delete1" style="padding-right:30px;" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​<h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p></div></div>';
						                        
					                    	}else{
					                    		//alert('mmmm');
					                    		for(i=0;i<obj.addressList.length;i++)
								                {
								                    
								                    
								                    if (typeof obj.addressList[i].name != "undefined")
								                    {
								                    name=obj.addressList[i].name;
								                    }else{
								                    name='';
								                    }
								                    
								                    if (typeof obj.addressList[i].email != "undefined")
								                    {
								                    email=obj.addressList[i].email;
								                    }else{
								                    email='';
								                    }
								                    
								                    if (typeof obj.addressList[i].city != "undefined")
								                    {
								                    city=obj.addressList[i].city;
								                    }else{
								                    city='';
								                    }
								                    
								                    if (typeof obj.addressList[i].state != "undefined")
								                    {
								                    state=obj.addressList[i].state;
								                    }else{
								                    state='';
								                    }
								                    
								                    if (typeof obj.addressList[i].zipcode != "undefined")
								                    {
								                    zipcode=obj.addressList[i].zipcode;
								                    }else{
								                    zipcode='';
								                    }
								                    
								                    if (typeof obj.addressList[i].address1 != "undefined")
								                    {
								                    address=obj.addressList[i].address1;
								                    }else{
								                    address='';
								                    }

								                    if (typeof obj.addressList[i].id != "undefined")
								                        {
								                        id=obj.addressList[i].id;
								                        }else{
								                        id='';
								                        }

								                        if (typeof obj.addressList[i].phone1 != "undefined")
								                        {
								                        phone=obj.addressList[i].phone1;
								                        phone=returnphoneformat(phone);
								                        }else{
								                        phone='';
								                        }

								                        hrtid=i+'heart';

								                     var string="'"+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+'=='+id+'=='+phone+"'";
								                    
								                    // innerhtmltext+='<div class="bar bar-default"><div class="addressBar"><h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p><span class="right-icon heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span><span class="delete1" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​</div></div>';
								                    innerhtmltext+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span>​<span class="top-icon-2 delete1" style="padding-right:30px;" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​<h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p></div></div>';

								                    
								                    
								                    
								                }
					                    	}

					                    }
					                    //alert('innerhtmltext  -  '+innerhtmltext);

					                     var innerhtmltext2='';
						                var lasfour='';
						                var payment_profid='';
						                var payment_info='';
						                var payment_expdate='';
						                var payment_id='';
						                var hrtpaymnt='';
						                var cardtype='';
								//alert('iiii');
						                 if (typeof obj.pmtList != "undefined") {
						                    if (typeof obj.pmtList.length == "undefined") {

						                        //alert('pppp');
						                    lasfour=obj.pmtList.lastFour;
								    //alert(lasfour);
						                        payment_profid=obj.pmtList.paymentProfileId;
									//alert(payment_profid);
						                        payment_info=obj.pmtList.lastFour;
									//alert(payment_info);
						                        payment_expdate=obj.pmtList.expDate;
									//alert(payment_expdate);
						                        payment_id=obj.pmtList.id;
									//alert(payment_id);
						                        hrtpaymnt=i+'heart1';
									//alert(hrtpaymnt);
						                        cardtype=obj.pmtList.cardtype;
						                        if(cardtype=="American Express"){
						                            cardtype="AMEX";
						                        }
									//alert(cardtype);

						                        var string_payment="'"+lasfour+'=='+payment_expdate+'=='+cardtype+"'";
									//alert(string_payment);
						    
						             // innerhtmltext2+='<div class="bar bar-default"><div class="addressBar"><h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+obj.pmtList.expDate+'</h2><span class="right-icon heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="top-icon-2 delete1" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​</div></div>';
						              // innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+obj.pmtList.expDate+'</h2></div></div>';
						               innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" style="padding-right:30px;" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+payment_expdate+'</h2></div></div>';

						             //alert('oo - '+innerhtmltext2);
						                    }else{
						                        //ssss
						                    //alert('hhhhh');
						                    for(i=0;i<obj.pmtList.length;i++)
						                    {
						                        //alert(obj.pmtList[i].lastFour);
						                        lasfour=obj.pmtList[i].lastFour;
						                        payment_profid=obj.pmtList[i].paymentProfileId;
						                        payment_info=obj.pmtList[i].lastFour;
						                        payment_expdate=obj.pmtList[i].expDate;
						                        payment_id=obj.pmtList[i].id;
						                        cardtype=obj.pmtList[i].cardtype;
						                        if(cardtype=="American Express"){
						                            cardtype="AMEX";
						                        }
						                        hrtpaymnt=i+'heart1';

						                        var string_payment="'"+lasfour+'=='+payment_expdate+'=='+cardtype+"'";
						    
						            innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" style="padding-right:30px;" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+payment_expdate+'</h2></div></div>';
						                             //alert(innerhtmltext2);
						                        
						                    }
						                 }
						                 }

					                  //alert('innerhtmltext2  -  '+innerhtmltext2);
					                    $("#contacts-list").html(innerhtmltext);
					                     if(innerhtmltext!=""){
						                    document.getElementById(hrtid).className = "top-icon-1 heart-icon active";
						                }
						                //alert(hrtid);
						                document.getElementById("final_hrtidval").value=hrtid;
						                //alert('iiii');

						                $("#paymentlist").html(innerhtmltext2);
					                     if(innerhtmltext2!=""){
						                    document.getElementById(hrtpaymnt).className = "top-icon-1 heart-icon active";
						                }
						                //alert();
						                document.getElementById("final_hrtpayment").value=hrtpaymnt;
						                //alert('llllll');
								
								
								var finlhrt=hrtid;
								
								var final_email=email;
								var name1=name;
								var email1=email;
								var city1=city;
								var state1=state;
								var zipcode1=zipcode;
								var address1=address;
								var id1=id;
								var phone1=phone;
								
								document.getElementById("final_sendstr").value="'"+name1+'=='+email1+'=='+address1+'=='+city1+'=='+state1+'=='+zipcode1+'=='+id1+'=='+phone1+"'";
								document.getElementById("final_email").value=final_email;
								var ddd="'"+name1+'=='+email1+'=='+address1+'=='+city1+'=='+state1+'=='+zipcode1+'=='+id1+'=='+phone1+"'";
								
								 var final_paymentprofId=payment_profid;
								var final_payment_info=lasfour;
							       var final_payment_expdate=payment_expdate;
								var final_payment_cardtype=cardtype;
						
						
							       document.getElementById("final_sendstr_payment").value="'"+final_payment_info+'=='+final_payment_expdate+'=='+final_payment_cardtype+"'";
						
							       //alert(final_paymentprofId);
							       document.getElementById("final_paymentprofId").value=final_paymentprofId;
							      // alert('function sendfacebookcnct - '+final_payment_info);
							       document.getElementById("payment_info").value=final_payment_info;
								document.getElementById("payment_expirydate").value=final_payment_expdate;

									
									if(frompageval=="Basket")
									{
										//$.mobile.changePage("#checkOut");
										frompageval="";
										check_basredirect();
									}else if(frompageval=="checkOut")
									{
										frompageval="";
										testIslogin();
									}else if(frompageval!=""){
										$.mobile.changePage("#"+frompageval);
										frompageval="";
									}else{
										redirecttohome();
										//$.mobile.changePage("#home");
									}
									document.getElementById('sign_in_loader').style.display='none';

                 					 
			                    }
			        });
			    }

			    function send_email(val,obj)
	            {		
	            	if(document.getElementById("final_hrtidval").value!=obj.id){
			                document.getElementById(obj.id).className = "top-icon-1 heart-icon active";
			                document.getElementById(document.getElementById("final_hrtidval").value).className = "top-icon-1 heart-icon";
			                document.getElementById("final_hrtidval").value=obj.id;
			           }
			        document.getElementById("final_sendstr").value=val;
               
	                if(document.getElementById("redirect_settings_val_cnct").value=="")
	                {

	                    var splitvals=val.split('==');
	                    var name_final=splitvals[0];
	                    var email_final=splitvals[1];
	                    var addr_final=splitvals[2];
	                    var city_final=splitvals[3];
	                    var state_final=splitvals[4];
	                    var zipcode_final=splitvals[5];
	                    var address_id=splitvals[6];
	                    var phone1_final=splitvals[7];

	                     name_final=name_final.replace("'","");
                    	phone1_final=phone1_final.replace("'","");

	                    document.getElementById('checkoutcontactinfo').innerHTML='<span style="font-weight: 600; font-size: larger;">'+name_final+'</span><br/><span>'+email_final+'</span><br/><span>'+city_final+'</span><br/><span>'+state_final+', '+address_id+' '+zipcode_final+'</span><br/><span>'+phone1_final+'</span>';

	                    $.mobile.changePage("#checkOut");
	                }

	           }

	           function payment_proflid(ppid,paymentinfo,payment_expdate,obj,value)
	           {

	            
	                   if(document.getElementById("final_hrtpayment").value!=obj.id){
	                        document.getElementById(obj.id).className = "top-icon-1 heart-icon active";
	                        document.getElementById(document.getElementById("final_hrtpayment").value).className = "top-icon-1 heart-icon";
	                        document.getElementById("final_hrtpayment").value=obj.id;
	                   }

	            document.getElementById("final_sendstr_payment").value=value;

                if(document.getElementById("redirect_settings_val").value=="")
                {

                    var splitvals=value.split('==');
                    var last_four=splitvals[0];
                    var expdate=splitvals[1];
                    var pmtcardtype=splitvals[2];

                    //alert(last_four);

                    var lastfour_new=last_four.replace("'","");
                    var expdate_new=expdate.replace("'","");
                    var pmtcardtype_new=pmtcardtype.replace("'","");

                   document.getElementById('checkoutcardpayment').innerHTML='<span>'+pmtcardtype_new+': **** **** **** '+lastfour_new+'</span><br><span>Exp: '+expdate_new+'</span>';
                    $.mobile.changePage("#checkOut");
                }


	           }

	           function formatphone()
	            {
	                if(document.getElementById('Mobile').value.search(/\S/) != -1){
	                    if(document.getElementById('Mobile').value.length==10){
	                        document.getElementById('Mobile').value=document.getElementById('Mobile').value.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
	                    }else{
	                        document.getElementById('Mobile').value=document.getElementById('Mobile').value.replace(/-/g, "");
	                    }
	                }
	            }
	            function formatphoneonout()
	            {
	                if(document.getElementById('Mobile').value.search(/\S/) != -1){
	                    if(document.getElementById('Mobile').value.length==10){
	                        document.getElementById('Mobile').value= document.getElementById('Mobile').value.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
	                    }
	                }
	            }

	            function deformatphone1()
	            {
	                document.getElementById('Mobile').value= document.getElementById('Mobile').value.replace(/-/g, "");
	            }

	            function deformatphone()
	            {
	                return document.getElementById('Mobile').value.replace(/-/g, "");
	            }


			    function returnphoneformat(phone)
	            {
	                if(phone!=""){
	                    if(phone.length==10){
	                        return phone.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
	                    }
	                }
	            }

			    function onBodyLoad()
               {


                     

                //alert("hiiiiii");
                     // var date = new Date();
                     //    var minutes = 30;
                     //     date.setTime(date.getTime() + (minutes * 60 * 1000));
                     //    $.cookie("islogin", "no", { expires: date });

                     //alert($.cookie("islogin"));
            
                        if($.cookie("islogin") == "yes" && fb_html!="")
                        {
                            document.getElementById("show_logout").style.display="";
                            document.getElementById("show_login_li").style.display="none";
                        }

                      

                        //alert($.cookie("islogin"));
               }

               function logout_normal()
				{
				    
				        document.getElementById("show_logout").style.display="none";
				        document.getElementById("show_login_li").style.display="";
				        fb_html="";
				    
				        document.getElementById('whereYou').value="";
				        document.getElementById('foodTruckName').value="";
				         var date = new Date();
				        var minutes = 1440;
				         date.setTime(date.getTime() + (minutes * 60 * 1000));
				        $.cookie("islogin", "no", { expires: date });
				         $.cookie("prevsName", "");
					    $.cookie("descriptionsp",'');
					    $.cookie("descriptiontm",'');
					    if(typeof $.cookie("pickuptm") != "undefined"){
					                            $.cookie("pickuptm",'undefined');
					                     }
					    //alert("count-cookie : "+$.cookie("count"));
					    $.cookie("count", 0);
					    var countcart=parseInt($.cookie("count"));
					    document.getElementById('mandatory').value="";
				        radioarray = [];
				        ckboxarray=[];
				        var str="";
                 		$('.basktRed').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });

                          $('.totalval').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });
                          document.getElementById('selected_truck_name').value="";
						    document.getElementById('add_details_blank').value="";
						    document.getElementById('payment_details_blank').value="";
						    document.getElementById("final_sendstr_payment").value="";
						    document.getElementById("final_sendstr").value="";
						    document.getElementById("WTTpickup").value="";
                          document.getElementById("redirect_settings_val").value="";
                          document.getElementById("redirect_settings_val_cnct").value="";
                          document.getElementById('spclinst_checkout_text').value="";
                          document.getElementById('checkout_clicked').value="";
                          document.getElementById('contactinfotruckname').innerHTML="";
                          document.getElementById('paymentmethodtruckname').innerHTML="";
                           if($("#card_Type").val()=="Visa"){
		                        document.getElementById('visaimg').className="ui-btn visa-btn";
		                    }else if($("#card_Type").val()=="American Express"){
		                        document.getElementById('ameximg').className="ui-btn americanExpress-btn";
		                        
		                    }else if($("#card_Type").val()=="Master"){
		                        document.getElementById('masterimg').className="ui-btn masterCard-btn";
		                        
		                    }else if($("#card_Type").val()=="Discover"){
		                        document.getElementById('discimg').className="ui-btn discover-btn";
		                        
		                    }

		                	$("#card_Type").val('');
		                    $("#nameOnCard").val('');
		                    $("#cardNumber").val('');
		                    $("#expMonth").val('');
		                    //$('#expMonth>option:eq(0)').attr('selected', true);
		                    // $('select').selectmenu();
		                    //         $('select').selectmenu('refresh', true);
		                    $("#expYear").val('');
		                    $("#CVVCode").val('');
            }
                          frompageval="";
                          redirecttohome();
				       // $.mobile.changePage("#home");
				         

				}

				function show_settings()
	            {
	                // alert($.mobile.activePage.attr('id'));
	                // alert('frompageval - '+frompageval);
	                
	                    //alert('***** - '+fb_html);

	                    if(fb_html==''){
	                       $.mobile.changePage("#logIn");
	                       frompageval="settings";
	                        return false;
	                    }else{

	                var loginvalue = $.cookie("fbvalue");
	                var fb_uname=$.cookie("fb_uname");
	                
	                
	                $("#signed_in_name").html(fb_uname);
	                if($("#card_Type").val()=="Visa"){
                        document.getElementById('visaimg').className="ui-btn visa-btn";
                    }else if($("#card_Type").val()=="American Express"){
                        document.getElementById('ameximg').className="ui-btn americanExpress-btn";
                        
                    }else if($("#card_Type").val()=="Master"){
                        document.getElementById('masterimg').className="ui-btn masterCard-btn";
                        
                    }else if($("#card_Type").val()=="Discover"){
                        document.getElementById('discimg').className="ui-btn discover-btn";
                        
                    }

                $("#card_Type").val('');
                    $("#nameOnCard").val('');
                    $("#cardNumber").val('');
                    $("#expMonth").val('');
                    //$('#expMonth>option:eq(0)').attr('selected', true);
                    // $('select').selectmenu();
                    //         $('select').selectmenu('refresh', true);
                    $("#expYear").val('');
                    $("#CVVCode").val('');

                    $("#Name").val('');
	                $("#Address").val('');
	                $("#City").val('');
	                //$("#State").val('');
	                $("#State").val($("#State option:first").val());
	                $("#ZIP").val('');
	                $("#Mobile").val('');
	                $("#Email").val('');

	                $.mobile.changePage("#settings");
	                
	                }
	                
	                
	                //alert(loginvalue);
	                //alert(fb_uname);
	            }
			
			
			//$(document).on('pagecreate', function() {
			    //$("#nav-panel").panel("open");
			//});

			
			function show_radio_lists(itemid,choiceLimit,choicecat)
        {

            // alert(mode);

            

            $("#listpageId").html('');

            // var selected_val=document.getElementById('choiceval').value;
            // alert('selectid - '+selectid);
            // alert('selected_val - '+selected_val);
            //alert('show_radio_lists - '+radioarray.join('========'));
            var selectids='';
            if(radioarray.length>0){
                var i=0;
                var selectidsarr=new Array();
                for(i=0;i<radioarray.length;i++){
                    var eachsplit=radioarray[i].split('####');
                    selectidsarr.push(eachsplit[0]);
                }
                selectids=selectidsarr.join(',');
            }
            //alert('selectids - '+selectids);

            $("#listpageId").fadeOut(200,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF" class="loaderotherimage"  style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
            });
            $("#footersaveselection").html('');
            //alert(document.getElementById(selectid).value);
            // $("#footersaveselection").html('<a onclick="get_extras_radio()" class="ui-btn full-btn">Save SelectionRadio</a>');
            $("#footersaveselection").html('<a onclick="get_extras_radio()" class="ui-btn full-btn">Save Selection</a>');
            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/all_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&choicecat="+choicecat+"&selectids="+selectids,
                cache: false,
                        success: function(html){
                        var allval=html;
                        //alert(allval);
                        $('#listpageId').fadeOut(200,function(){
                         $(this).html(allval);
                         $(this).fadeIn(500);
                        $('.delete').click(function() {
                                    $(this).parent().parent().remove();
                            });
                     });
                       
                         //$('#listpageId').html(allval);
                        }
                });



        }



        function show_checkbox_lists(itemid,choiceLimit,choicecat)
        {

            // alert(mode);

            

            $("#listpageId").html('');

            // var selected_val=document.getElementById('choiceval').value;
            // alert('selectid - '+selectid);
            // alert('selected_val - '+selected_val);
            //alert(ckboxarray.join('========'));
            var i=0;
            var selectids='';
            var selectidsarr=new Array();
            if(ckboxarray.length>0){
                
                for(i=0;i<ckboxarray.length;i++){

                    var eachckboxarraystr=ckboxarray[i];
                    var spliteach=eachckboxarraystr.split('******');
                   for(var x=0;x<spliteach.length;x++){
                        var split_spliteach=spliteach[x].split('####');
                        selectidsarr.push(split_spliteach[0]);
                   }

                }
                selectids=selectidsarr.join(',');
            }
            //alert('selectidsarrckbox - '+selectidsarr);

            $("#listpageId").fadeOut(200,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF" class="loaderotherimage"  style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
            });
             $("#footersaveselection").html('');
            //alert(document.getElementById(selectid).value);
            // $("#footersaveselection").html('<a onclick="get_extras_checkbox()" class="ui-btn full-btn">Save SelectionCheckbox</a>');
            $("#footersaveselection").html('<a onclick="get_extras_checkbox()" class="ui-btn full-btn">Save Selection</a>');

            //alert(document.getElementById(selectid).value);
            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/all_listing_checkbox.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&choicecat="+choicecat+"&selectids="+selectids,
                cache: false,
                        success: function(html){
                        var allval=html;

                        $('#listpageId').fadeOut(200,function(){
                         $(this).html(allval);
                         $(this).fadeIn(500);
                        $('.delete').click(function() {
                                    $(this).parent().parent().remove();
                            });
                     });
                       
                         //$('#listpageId').html(allval);
                        }
                });



        }

        function get_extras_radio(){
        // alert('radiooooooo');
        // alert($('input[name="Item"]:checked').val());
        if(typeof $('input[name="Item"]:checked').val() != "undefined")
        {
            var val=$('input[name="Item"]:checked').val();
            var val_split=val.split('####');
            var category=val_split[3];
            var spliceid=-1;
             var noofitems=Number(document.getElementById('quantity').value);
            for(var i=0;i<radioarray.length;i++){
                var arrsplit=radioarray[i].split('####');
                if(category==arrsplit[3]){
                    spliceid=i;
                    //alert('hhhhh');
                    //deduct price code

                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    //alert(mainprice);
                    mainprice=mainprice-(Number(arrsplit[2])*noofitems);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(arrsplit[2])));
                    //alert('MyRadio1='+mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));
                }
            }
            if(spliceid > -1){
                radioarray.splice(spliceid, 1);
            }

            // add price code

            var mainpricehtml=$('#set_price').html();
            mainpricehtml=mainpricehtml.replace('$','');
            var mainprice=Number(mainpricehtml);
            document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(val_split[2])));
            //alert(mainprice);
            mainprice=mainprice+(Number(val_split[2])*noofitems);
            //alert('MyRadio1='+mainprice);
            $('#set_price').html('$'+mainprice.toFixed(2));

            radioarray.push($('input[name="Item"]:checked').val());
            var typeid=document.getElementById('type').value;
            var valsplit=val.split('####');
            document.getElementById(typeid+'div').innerHTML= valsplit[4];
        }
        $.mobile.changePage("#addItem");
      }

      function get_extras_checkbox(){
        var noofitems=Number(document.getElementById('quantity').value);
        //alert('checkboxxxxxxxxx');
        var valuesarr=new Array();
        var chkcatg='';
        $('input[name="extraItem"]:checked').each(function() {
           valuesarr.push(this.value);
           var val=this.value;
           var valsplit=val.split('####');
           chkcatg=valsplit[3];
        });
        var values=valuesarr.join('******');
        var minusprice=0;
        var addprice=0;
        //alert(values);
        if(values!=""){

            var spliceid=-1;
            
           // alert(values);
            for(var i=0;i<ckboxarray.length;i++){
                if(ckboxarray[i].indexOf("####"+chkcatg+"####") > -1){
                    //alert('pppp - '+ckboxarray[i]);
                    spliceid=i;
                    var splarray=ckboxarray[i].split('******');
                    //alert('length - '+splarray.length);
                    for(var x=0;x<splarray.length;x++){
                        var elem=splarray[x];
                        var elem_split=elem.split('####');
                        minusprice=minusprice+Number(elem_split[2]);
                    }

                }
            }
            //alert(spliceid);
            if(spliceid > -1){
                var mainpricehtml=$('#set_price').html();
                mainpricehtml=mainpricehtml.replace('$','');
                var mainprice=Number(mainpricehtml);
                //alert(mainprice);
                mainprice=mainprice-(minusprice*noofitems);
                document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(minusprice));
                //alert('MyRadio1='+mainprice);
                $('#set_price').html('$'+mainprice.toFixed(2));
                ckboxarray.splice(spliceid, 1);
            }   

            var namesarrckbox=new Array();
            for(var x=0;x<valuesarr.length;x++){
                var innerval=valuesarr[x];
                var innervalarr=innerval.split('####');
                namesarrckbox.push(innervalarr[4]);
                addprice=addprice+Number(innervalarr[2]);
            }
            var typeid=document.getElementById('type').value;
            document.getElementById(typeid+'div').innerHTML= namesarrckbox.join(',');

            var mainpricehtml=$('#set_price').html();
            mainpricehtml=mainpricehtml.replace('$','');
            var mainprice=Number(mainpricehtml);
            document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(addprice));
            //alert(mainprice);
            mainprice=mainprice+(addprice*noofitems);
            //alert('MyRadio1='+mainprice);
            $('#set_price').html('$'+mainprice.toFixed(2));

            ckboxarray.push(values);
        }else{
            // alert('ghhhh');
            // alert('ooooo - '+document.getElementById('type').value);
            chkcatg=document.getElementById('type').value;
            var spliceid=-1;
            for(var i=0;i<ckboxarray.length;i++){
                if(ckboxarray[i].indexOf("####"+chkcatg+"####") > -1){
                    spliceid=i;
                    //alert('ooooo - '+ckboxarray[i]);
                    var splarray=ckboxarray[i].split('******');
                    //alert('length - '+splarray.length);
                    for(var x=0;x<splarray.length;x++){
                        var elem=splarray[x];
                        var elem_split=elem.split('####');
                        minusprice=minusprice+Number(elem_split[2]);
                    }
                }
            }
            //alert(spliceid);
            if(spliceid > -1){
                var mainpricehtml=$('#set_price').html();
                mainpricehtml=mainpricehtml.replace('$','');
                var mainprice=Number(mainpricehtml);
                //alert(mainprice);
                mainprice=mainprice-(minusprice*noofitems);
                document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(minusprice));
                //alert('MyRadio1='+mainprice);
                $('#set_price').html('$'+mainprice.toFixed(2));
                ckboxarray.splice(spliceid, 1);
            }
            document.getElementById(chkcatg+'div').innerHTML= '';
        }

        $.mobile.changePage("#addItem");
        //alert($('input[name="extraItem"]:checked').serialize());
       // alert($('input[name="extraItem"]:checked').val());
      }


			function savename(name,priceval,itemid,choiceLimit,description,rp,business_name){

         // alert('cookie - '+$.cookie("item_id"));
         // alert('itemid - '+itemid);
        // if($.cookie("item_id")==)

        //alert('choiceLimit - '+choiceLimit);
        //alert(description);



        if (typeof $.cookie("item_id") != "undefined")
        {
            if($.cookie("item_id") != itemid){
                document.getElementById('choiceval').value="";
                document.getElementById('breadid').value="";
                document.getElementById('breadtype').value="";
                document.getElementById('breadprice').value="";
                document.getElementById('choicesval').value="";
                document.getElementById('choicesid').value="";
                document.getElementById('choicestype').value="";
                document.getElementById('choicesprice').value="";
                document.getElementById('sauceval').value="";
                document.getElementById('sauceid').value="";
                document.getElementById('saucetype').value="";
                document.getElementById('sauceprice').value="";

                document.getElementById('proteinval').value="";
                document.getElementById('proteinid').value="";
                document.getElementById('proteintype').value="";
                document.getElementById('proteinprice').value="";

                document.getElementById('extrasprices').value="";
                document.getElementById('extrasvalue').value="";
                document.getElementById('extrasnames').value="";
                document.getElementById('extrasprices_toppings').value="";
                document.getElementById('extrasvalue_toppings').value="";
                document.getElementById('extrasnames_toppings').value="";
                document.getElementById('breadname').value="";
                document.getElementById('saucename').value="";

                document.getElementById('proteinname').value="";

                document.getElementById('choicesoptname').value="";
                document.getElementById("add_priceval").value="";
                document.getElementById('specialinsttext').value="";
                selectedLanguage = [];
                selectedPrice = [];
                selectedExtrasName=[];

                selectedLanguage_toppings = [];
                        selectedPrice_toppings = [];
                        selectedExtrasName_toppings=[];

                        radioarray = [];
                        ckboxarray=[];
                        document.getElementById('mandatory').value='';
            }
        }


		var date = new Date();
	    var minutes = 1440;
	    date.setTime(date.getTime() + (minutes * 60 * 1000));
        var skillsSelect = document.getElementById("select-choice-1");
		var selectedText = skillsSelect.options[skillsSelect.selectedIndex].text;
		//alert('savenameselectedText - '+selectedText);
		$.cookie("selectedText", selectedText, { expires: date });
         

    //alert(business_name);
    $("#food_div").html('');
        if(rp == 'no'){


        }else{
        
        if (document.getElementById('selected_truck_name').value=="") {
        
        document.getElementById('selected_truck_name').value=business_name;
        document.getElementById("WTTpickup").value="";
        document.getElementById('choice_clicked').value="";
            document.getElementById('bread_clicked').value="";
            document.getElementById('sauce_clicked').value=""; 
            document.getElementById('protein_clicked').value=""; 
        $(".show_itemname").text(name);
        $(".item_val_class").val(name);
        $.cookie("priceval", priceval);
        $.cookie("description", description);
        $.cookie("foodname", name);
        $.cookie("item_id", itemid);
        
         $("#food_div").fadeOut(500,function(){
         // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
         // $(this).show("fast");
         $(this).html('<img src="img/loader.GIF" class="loaderotherimage"  style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
         });
     
        
        //alert("1 - "+description);
        //alert('iiiii');
        $.ajax({
        type: "POST",
        url: "http://esolzdemos.com/lab1/whatthetrucks/addtoBasket_new_ipad.php",
        data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value+"&proteinname="+document.getElementById('proteinname').value,
        cache: false,
        success: function(html){
        var allval=html;
         var splitres=allval.split('^^^^^^');
            document.getElementById('mandatory').value=splitres[1];
        //alert(allval);
         document.getElementById('choice_limit').value=choiceLimit;
           $('#food_div').fadeOut(500,function(){
         $(this).html(splitres[0]);
         $(this).fadeIn(500);
        $('.delete').click(function() {
        $(this).parent().parent().remove();
        });
         });
           
         //$('#food_div').html(allval);
        }
        });
        
        $.mobile.changePage("#addItem");
        }
        else{
        
        if (document.getElementById('selected_truck_name').value!=business_name) {
            
           //alert('different names');
            //alert($.cookie("count"));
        if (typeof $.cookie("count") == "undefined" || $.cookie("count")=="0"){
            document.getElementById('selected_truck_name').value=business_name;
            document.getElementById("WTTpickup").value="";
            document.getElementById('choice_clicked').value="";
            document.getElementById('bread_clicked').value="";
            document.getElementById('sauce_clicked').value=""; 
            document.getElementById('protein_clicked').value=""; 
            radioarray = [];
            ckboxarray=[];
            document.getElementById('mandatory').value='';
        $(".show_itemname").text(name);
        $(".item_val_class").val(name);
        $.cookie("priceval", priceval);
        $.cookie("description", description);
        $.cookie("foodname", name);
        $.cookie("item_id", itemid);
        
         $("#food_div").fadeOut(500,function(){
         // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
         // $(this).show("fast");
         $(this).html('<img src="img/loader.GIF" class="loaderotherimage"  style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
         });
     
        
        //alert("2 - "+description);
        //alert('vvvv');
        $.ajax({
        type: "POST",
        url: "http://esolzdemos.com/lab1/whatthetrucks/addtoBasket_new_ipad.php",
        data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value+"&proteinname="+document.getElementById('proteinname').value,
        cache: false,
        success: function(html){
        var allval=html;
         var splitres=allval.split('^^^^^^');
            document.getElementById('mandatory').value=splitres[1];
        //alert(allval);
        document.getElementById('choice_limit').value=choiceLimit;
           $('#food_div').fadeOut(500,function(){
         $(this).html(splitres[0]);
         $(this).fadeIn(500);
        $('.delete').click(function() {
        $(this).parent().parent().remove();
        });
         });

           if(typeof $.cookie("pickuptm") != "undefined"){
                            $.cookie("pickuptm",'undefined');
                     }
           
         //$('#food_div').html(allval);
        }
        });
        
        $.mobile.changePage("#addItem");
        }else{
        //alert('@@@@');

            jConfirm('You have items in your basket for a different business, selecting this business will empty your basket. Do you want to continue?', 'Confirmation Dialog', function(r) {
                    if(r==true)
                    {
                        document.getElementById('selected_truck_name').value=business_name;
                        document.getElementById("WTTpickup").value="";
                        document.getElementById('choice_clicked').value="";
                        document.getElementById('spclinst_checkout_text').value="";
            document.getElementById('bread_clicked').value="";
            document.getElementById('sauce_clicked').value=""; 
            document.getElementById('protein_clicked').value=""; 
            document.getElementById('checkout_clicked').value="";
            radioarray = [];
            ckboxarray=[];
            document.getElementById('mandatory').value='';
            $.cookie("prevsName", "");
             var str="";
                 $('.basktRed').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });

                          $('.totalval').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });
            if(typeof $.cookie("pickuptm") != "undefined"){
                            $.cookie("pickuptm",'undefined');
                     }
            //alert("count-cookie : "+$.cookie("count"));
            $.cookie("count", 0);
            var countcart=parseInt($.cookie("count"));
        
            //$("#countval").val = countcart;
    //         document.getElementById('show_cart').style.display='';
    //         document.getElementById('show_cart1').style.display='';
    //         document.getElementById('show_cartpayment').style.display='';
    // document.getElementById('show_cartcnctinfo').style.display='';
    //         document.getElementById('cartval').style.display='';
    //         document.getElementById('cartval1').style.display='';
    //         document.getElementById('cartval2').style.display='';
    //         $(".footer-cart .cart_value").text(countcart);
        
            if(countcart==0)
            {
                //alert("remove");
    //             document.getElementById('show_cart').style.display='none';
    //             document.getElementById('show_cart1').style.display='none';
    //             document.getElementById('show_cartpayment').style.display='none';
    // document.getElementById('show_cartcnctinfo').style.display='none';
    //             document.getElementById('cartval').style.display='none';
    //             document.getElementById('cartval1').style.display='none';
    //             document.getElementById('cartval2').style.display='none';
            }
            //shwetaa
            
            
            $(".show_itemname").text(name);
            $(".item_val_class").val(name);
            $.cookie("priceval", priceval);
            $.cookie("description", description);
            $.cookie("foodname", name);
            $.cookie("item_id", itemid);
            
             $("#food_div").fadeOut(500,function(){
             // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
             // $(this).show("fast");
             $(this).html('<img src="img/loader.GIF" class="loaderotherimage"  style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
             });
         
            
            //alert("3 - "+description);
           // alert('bbbb');
            $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/addtoBasket_new_ipad.php",
            data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value+"&proteinname="+document.getElementById('proteinname').value,
            cache: false,
            success: function(html){
            var allval=html;
            //alert(allval);
            var splitres=allval.split('^^^^^^');
            document.getElementById('mandatory').value=splitres[1];
            document.getElementById('choice_limit').value=choiceLimit;
               $('#food_div').fadeOut(500,function(){
             $(this).html(splitres[0]);
             $(this).fadeIn(500);
            $('.delete').click(function() {
            $(this).parent().parent().remove();
            });
             });
               
             //$('#food_div').html(allval);
            }
            });
            
            $.mobile.changePage("#addItem");
            
            
            //shwetaa
                    }
            });

            
        }
        
    
            
        }else{
            
            //shwetaa
            document.getElementById('choice_clicked').value="";
            document.getElementById('bread_clicked').value="";
            document.getElementById('sauce_clicked').value=""; 
            document.getElementById('protein_clicked').value=""; 
            radioarray = [];
            ckboxarray=[];
            document.getElementById('mandatory').value='';
            
            $(".show_itemname").text(name);
            $(".item_val_class").val(name);
            $.cookie("priceval", priceval);
            $.cookie("description", description);
            $.cookie("foodname", name);
            $.cookie("item_id", itemid);
            
             $("#food_div").fadeOut(500,function(){
             // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
             // $(this).show("fast");
             $(this).html('<img src="img/loader.GIF" class="loaderotherimage" style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
             });
            
            var breadname=document.getElementById('breadname').value;

            
            
            //alert("4 - "+description);
            //alert('eeee');
            $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/addtoBasket_new_ipad.php",
            data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+breadname+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value+"&proteinname="+document.getElementById('proteinname').value,
            cache: false,
            success: function(html){
            var allval=html;
             var splitres=allval.split('^^^^^^');
            document.getElementById('mandatory').value=splitres[1];
            //alert(allval);
            document.getElementById('choice_limit').value=choiceLimit;
               $('#food_div').fadeOut(500,function(){
             $(this).html(splitres[0]);
             $(this).fadeIn(500);
            $('.delete').click(function() {
            $(this).parent().parent().remove();
            });
             });
               
             //$('#food_div').html(allval);
            }
            });
            
            $.mobile.changePage("#addItem");
            
            
            //shwetaa
            
        }
        }
           
           
           }


     
        
        

        

       }

       function updatetipvalue(val)
       {
            var tipval="0";
            if(val.value!=""){
               tipval=val.value;
            }

            $.cookie("tip_amount", tipval);
            // alert('tip_amount - '+$.cookie("tip_amount"));
            // alert('tax_price - '+document.getElementById('tax_price').innerHTML);
            // alert('tot_price - '+document.getElementById('tot_price').innerHTML);
            var taxprice=$(".tax_price").html();
            taxprice=taxprice.replace("$","");
            //alert('taxprice - '+taxprice);

            var totprice=$(".tot_price").html();
            totprice=totprice.replace("$","");
            //alert('totprice - '+totprice);

            var totprice=Number(taxprice)+Number(totprice)+Number(tipval);

            //totprice=Math.round(totprice * 100) / 100;
            totprice=totprice.toFixed(2)
            totprice=parseFloat(totprice);

            $(".total_final").html("$"+totprice.toFixed(2));
            $(".tipBox").val(val.value);
            //alert(totprice);

        }


     function button_val(value,price1)
            {
                var price=Number(document.getElementById("main_price_actual_value").value);

                //alert(price);
                //$("#card_Type").val(value);
                
                  var oldValue = $("#quantity").val();
            
                  if (value == "plus") {
                    
                    
                    
                      var newVal = parseFloat(oldValue) + 1;
                      var newprice=price * newVal;

                      document.getElementById("totpriceval").value=newprice;
                      //$.cookie("totpriceval", newprice);
                      $("#set_price").html('$'+newprice.toFixed(2));
                      
                      //alert(newprice);

                    } else {
                   // Don't allow decrementing below zero
                    if (oldValue > 0) {
                      var newVal = parseFloat(oldValue) - 1;
                      if(newVal==0)
                      {
                        newVal=1;
                      }
                      //alert(price);
                      var newprice=price * newVal;
                      //alert(newprice);
                      document.getElementById("totpriceval").value=newprice;
                      $("#set_price").html('$'+newprice.toFixed(2));
                      
                      //alert(newprice);
                    } else {
                      newVal = 1;
                    }
                  }
                
                  $("#quantity").val(newVal);
            }


			function show_choices(itemid,choiceLimit,selectid,mode)
      		{

            // alert(mode);

            $("#listpageId").html('');

            var selected_val=document.getElementById('choiceval').value;
            // alert('selectid - '+selectid);
            // alert('selected_val - '+selected_val);

            $("#listpageId").fadeOut(200,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF" class="loaderotherimage" style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/item_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_val="+selected_val+"&selectid="+selectid+"&mode="+mode,
                cache: false,
                        success: function(html){
                        var allval=html;

                        $('#listpageId').fadeOut(200,function(){
                         $(this).html(allval);
                         $(this).fadeIn(500);
                        $('.delete').click(function() {
                                    $(this).parent().parent().remove();
                            });
                     });
                       
                         //$('#listpageId').html(allval);
                        }
                });



        }

        function show_topping(itemid,choiceLimit)
        {

            $("#listpageId").html('');

            var selected_items=document.getElementById('extrasvalue_toppings').value;
            //alert(selected_items);

             $("#listpageId").fadeOut(200,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF"  style="position:absolute; width:32px; height:25px; top:50%; left:50%; transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/toppings_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_items="+selected_items,
                cache: false,
                        success: function(html){
                        var allval=html;

                        //alert(allval);

                        $('#listpageId').fadeOut(200,function(){
                         $(this).html(allval);
                         $(this).fadeIn(500);
                        $('.delete').click(function() {
                                    $(this).parent().parent().remove();
                            });
                     });
                       
                         //$('#listpageId').html(allval);
                        }
                });



        }

        function show_extras(itemid,choiceLimit)
        {

            $("#listpageId").html('');

            var selected_items=document.getElementById('extrasvalue').value;

             $("#listpageId").fadeOut(200,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF"  style="position:absolute; width:32px; height:25px; top:50%; left:50%; transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/extras_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_items="+selected_items,
                cache: false,
                        success: function(html){
                        var allval=html;

                        //alert(allval);

                        $('#listpageId').fadeOut(200,function(){
                         $(this).html(allval);
                         $(this).fadeIn(500);
                        $('.delete').click(function() {
                                    $(this).parent().parent().remove();
                            });
                     });
                       
                         //$('#listpageId').html(allval);
                        }
                });



        }

        function firefunc(){
                    //alert('eee');
                var skillsSelect = document.getElementById("select-choice-1");
                var selectedText = skillsSelect.options[skillsSelect.selectedIndex].text;

                $.cookie("selectedText", selectedText);
                //alert(selectedText);
                var splittext=selectedText.split(',');
                var firstpart=splittext[0];
                var firstpartsplit=firstpart.split(' at ');
                // alert(firstpartsplit[1]);
                //  alert(splittext[1]);
                 var place=firstpartsplit[1];
                 place=place.replace(/\s+$/g, '');
                 place=place.replace(/^\s+/g, '');
                //alert('place - '+place);

                var time=splittext[1];
               
                 //alert(time);

                // alert('other_lat - '+$.cookie("other_lat"));
                // alert('other_longt - '+$.cookie("other_longt"));
                // alert('other_idv - '+$.cookie("other_idv"));
                // alert('other_rp - '+$.cookie("other_rp"));
                // alert('other_show_loc - '+$.cookie("other_show_loc"));
                // alert('other_time - '+$.cookie("other_time"));
                // alert('other_addr - '+$.cookie("other_addr"));
                // alert('busnsid - '+$.cookie("busnsid"));

                // $.cookie("other_lat", lat, { expires: date });
                // $.cookie("other_longt", longt, { expires: date });
                // $.cookie("other_idv", idv, { expires: date });
                // $.cookie("other_rp", rp, { expires: date });
                // $.cookie("other_show_loc", show_loc, { expires: date });
                // $.cookie("other_time", time, { expires: date });
                // $.cookie("other_addr", addr, { expires: date });
                // $.cookie("busnsid", busid, { expires: date });

                 time=time.replace(/\s+$/g, '');
                 time=time.replace(/^\s+/g, '');
                 //alert(time);
                $.cookie("showaddr", place);
                if(time=="Closed for the day"){
                    document.getElementById('searchrsltDetls').style.display='none';
                }else{
                    document.getElementById('searchrsltDetls').style.display='';
                    $.cookie("showtime", time);
                }
                

                // alert('time - '+time);

                // var date = new Date();
                // var minutes = 1440;
                // date.setTime(date.getTime() + (minutes * 60 * 1000));

                // $.cookie("showaddr", place, { expires: date });
                // $.cookie("showtime", time, { expires: date });

                

                // alert('cookieaddr - '+$.cookie("showaddr"));
                // alert('cookietime - '+$.cookie("showtime"));

                }

        function redirect_settings_credits(value)
            {
               //alert(value);

               document.getElementById("redirect_settings_val").value=value;
               $.mobile.changePage("#paymentMethod");

            }

            function redirect_settings_cnct(value)
            {
               //alert(value);

               document.getElementById("redirect_settings_val_cnct").value=value;
               //alert('checkout_stat_set '+document.getElementById("redirect_settings_val_cnct").value)
               $.mobile.changePage("#contactInfo");

            }

        function show_Sauce(itemid,choiceLimit,selectid,mode)
        {

            $("#listpageId").html('');
             var selected_val=document.getElementById('sauceval').value; 

            $("#listpageId").fadeOut(200,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF"  style="position:absolute; width:32px; height:25px; top:50%; left:50%; transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/sauce_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_val="+selected_val+"&selectid="+selectid+"&mode="+mode,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                       
                            $('#listpageId').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(200);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }

        function show_Protein(itemid,choiceLimit,selectid,mode)
        {

            $("#listpageId").html('');
             var selected_val=document.getElementById('proteinval').value; 

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/protein_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_val="+selected_val+"&selectid="+selectid+"&mode="+mode,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                       
                            $('#listpageId').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(200);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }

        function show_Choice(itemid,choiceLimit,selectid,mode)
        {
            $("#listpageId").html('');
            var selected_val=document.getElementById('choicesval').value;
            //alert(selected_val);
            // alert(itemid);
            // alert(choiceLimit);

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });
            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/choice_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selectid="+selectid+"&mode="+mode+"&selected_val="+selected_val,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                        $('#listpageId').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(500);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }

        // function signout()
        // {
        //     alert("successfully logout");
        // }

        function show_Size(itemid,choiceLimit)
        {

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/size_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                       
                          $('#listpageId').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(200);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }

        function show_Drinks(itemid,choiceLimit)
        {

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/drinks_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                       
                          $('#listpageId').fadeOut(500,function(){
                             $(this).html(allval);
                             $(this).fadeIn(500);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }	



        function MyRadio1(value,choiceid,choiceprice,choicetype,name)
            {

                document.getElementById('bread_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;

                
        //alert(mainprice);
                
            }

            function MyRadio2(value,choiceid,choiceprice,choicetype,name)
            {
                 document.getElementById('choice_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;
                //alert('choice-'+name);
                
        
        //alert(mainprice);
            }

            function MyRadio3(value)
            {

                var sizeval=value;
                var date = new Date();
                        var minutes = 1440;
                         date.setTime(date.getTime() + (minutes * 60 * 1000));
                        $.cookie("sizeval", sizeval, { expires: date });
                
            }

            function MyRadio4(value)
            {

                var drinksval=value;
                var date = new Date();
                        var minutes = 1440;
                         date.setTime(date.getTime() + (minutes * 60 * 1000));
                        $.cookie("drinksval", drinksval, { expires: date });
                
            }

            function MyRadio5(value,sauceid,sauceprice,saucetype,name)
            {
                 document.getElementById('sauce_clicked').value=value+"####"+sauceid+"####"+sauceprice+"####"+saucetype+"####"+name;
                 
        
        //alert(mainprice);
            }


		function MyRadioProtein(value,proteinid,proteinprice,proteintype,name)
           {
                document.getElementById('protein_clicked').value=value+"####"+proteinid+"####"+proteinprice+"####"+proteintype+"####"+name;
                
       
       //alert(mainprice);
           }

           function show_cross()
            {
               

                document.getElementById("spcl_inst").style.display="block";
            }

            function clear_text()
            {
                $('#speInstruction').val('');
                document.getElementById("spcl_inst").style.display="none";
            }

        function instructions(itemname,description,price)
        {
        	//alert('pppp');

            $("#specialDescription").fadeOut(200,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF" class="loaderotherimage" style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
            });
            var specialinst=document.getElementById('specialinsttext').value;
            //alert('show_instruction= '+specialinst);

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/show_instructionipad.php",
                data: "itemname="+itemname+"&description="+description+"&price="+price+"&specialinst="+specialinst,
                cache: false,
                        success: function(html){
                        var allval=html;
                        //alert(allval);

                            $('#specialDescription').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(200);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
            
                       
                         //$('#specialDescription').html(allval);
                        }
                });



        }

        function instructions_checkout()
        {
        	//alert('pppp');

            $("#specialDescriptioncheckout").html(" ");

                $.mobile.changePage("#specialInstructionsCheckout");

                var showname_pickup=$.cookie("showname");
                var showaddr_pickup=$.cookie("showaddr");
                //alert(showaddr_pickup);
                var showtime_pickup=$.cookie("showtime");

                var description= document.getElementById('spclinst_checkout_text').value;

                $("#specialDescriptioncheckout").fadeOut(500,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF" class="loaderotherimage"  style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
                 });
             
                
                
                    $.ajax({
                    type: "POST",
                    url: "http://esolzdemos.com/lab1/whatthetrucks/save_desc_ipad.php",
                    data: "showname_pickup="+showname_pickup+"&showaddr_pickup="+encodeURIComponent(showaddr_pickup)+"&showtime_pickup="+showtime_pickup+"&description="+description,
                    cache: false,
                    success: function(html){
                    var allval=html;

                    //alert(allval);
                    
                    $('#specialDescriptioncheckout').fadeOut(500,function(){
                    $(this).html(allval);
                    $(this).fadeIn(500);
                    $('.delete').click(function() {
                    $(this).parent().parent().remove();
                    });
                     });
                       
                     //$('#food_div').html(allval);
                    }
                    });



        }




        function OnChangeCheckboxtoppings (checkbox) {

               var count=0;
               var x=document.getElementsByName("extraItemtoppings");
               for (var i=0; i < x.length; i++)
                  {
                  if(x[i].checked)
                     {
                     count = count + 1;
                     }
                  }


                  //alert(count);

                if((Number(document.getElementById('choice_limit').value)!=0) && (count>Number(document.getElementById('choice_limit').value)))
                {
                    alert("Maximum Selection is limited to "+document.getElementById('choice_limit').value);
                    // var pageid=$.mobile.activePage.attr('id');
                    // document.getElementById('popup'+pageid).innerHTML="Maximum Selection is limited to "+document.getElementById('choice_limit').value;
                    // document.getElementById('alertbtn'+pageid).click();
                    checkbox.checked = false;
                }
                else
                {
                    var noofitems=Number(document.getElementById('quantity').value);
                    if (checkbox.checked) {
                    selectedLanguage_toppings.push(checkbox.id);
                    var chkvalue=checkbox.value;
                    var chkvaluearr=chkvalue.split('++');
                    selectedPrice_toppings.push(chkvaluearr[0]);
                    selectedExtrasName_toppings.push(chkvaluearr[1]);
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(chkvaluearr[0])));
                    //alert(mainprice);
                    mainprice=mainprice+(Number(chkvaluearr[0])*noofitems);
                    //alert(this.value);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));
                    //document.getElementById('main_price_actual_value').value=mainprice;
                    
                    //alert ("check-id-"+checkbox.id);
                    //alert ("check-value-"+checkbox.value);
                    }
                    else {
                    //alert('index of id '+checkbox.id+' - '+selectedLanguage.indexOf(checkbox.id));
                    //alert('index of value '+checkbox.value+' - '+selectedPrice.indexOf(checkbox.value));
                    var indexofid=selectedLanguage_toppings.indexOf(checkbox.id);


                    var chkvalue=checkbox.value;
                    var chkvaluearr=chkvalue.split('++');
                    //selectedPrice.push(chkvaluearr[0]);
                    //selectedExtrasName.push(chkvaluearr[1]);
                     var indexofname=selectedExtrasName_toppings.indexOf(chkvaluearr[1]);
                    var indexofprice=selectedPrice_toppings.indexOf(chkvaluearr[0]);
                    selectedLanguage_toppings.splice(indexofid, 1);
                    selectedPrice_toppings.splice(indexofprice, 1);
                    selectedExtrasName_toppings.splice(indexofname, 1);
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(chkvaluearr[0])));
                    //alert(mainprice);
                    mainprice=mainprice-(Number(chkvaluearr[0])*noofitems);
                    //alert(this.value);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));
                    //document.getElementById('main_price_actual_value').value=mainprice;
                    //arr.splice(index, 1);
                    //alert ("uncheck-id-"+checkbox.id);
                    //alert ("uncheck-value-"+checkbox.value);
                    }
                }
                
            }

        function get_extras()
            {

            	//alert("hiiii");

                if(document.getElementById('bread_clicked').value!=""){
                        //document.getElementById('bread_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;
                        var bread_clicked_text=document.getElementById('bread_clicked').value;
                        var bread_clicked_arr=bread_clicked_text.split("####");
                        var value=bread_clicked_arr[0];
                        var choiceid=bread_clicked_arr[1];
                        var choiceprice=bread_clicked_arr[2];
                        var choicetype=bread_clicked_arr[3];
                        var name=bread_clicked_arr[4];
                        var noofitems=Number(document.getElementById('quantity').value);
                        //alert(noofitems);
                        //alert('bread-'+name);
                        //alert('shwetaa-'+value);
                        document.getElementById('breadname').value=name;
                        document.getElementById('food_bread').innerHTML=name;
                        var choiceval=value;
                        // var date = new Date();
            //             var minutes = 30;
            //             date.setTime(date.getTime() + (minutes * 60 * 1000));
                        //$.cookie("choiceval", choiceval, { expires: date });

                        if(document.getElementById('breadprice').value!=""){
                            var mainpricehtml=$('#set_price').html();
                            mainpricehtml=mainpricehtml.replace('$','');
                            var mainprice=Number(mainpricehtml);
                            //alert(mainprice);
                            mainprice=mainprice-(Number(document.getElementById('breadprice').value)*noofitems);
                            document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(document.getElementById('breadprice').value)));
                            //alert('MyRadio1='+mainprice);
                            $('#set_price').html('$'+mainprice.toFixed(2));
                        }

                        document.getElementById('choiceval').value=choiceval;
                        document.getElementById('breadid').value=choiceid;
                        document.getElementById('breadprice').value=choiceprice;
                        //alert(choiceprice);
                        //alert($('#set_price').html());
                        var mainpricehtml=$('#set_price').html();
                        mainpricehtml=mainpricehtml.replace('$','');
                        var mainprice=Number(mainpricehtml);
                        document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(choiceprice)));
                        //alert(mainprice);
                        mainprice=mainprice+(Number(choiceprice)*noofitems);
                        //alert('MyRadio1='+mainprice);
                        $('#set_price').html('$'+mainprice.toFixed(2));


                
                        document.getElementById('breadtype').value=choicetype;

                        document.getElementById('bread_clicked').value="";
                }


                if(document.getElementById('choice_clicked').value!=""){
                        //document.getElementById('bread_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;
                        //document.getElementById('choice_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;

                        var choice_clicked_text=document.getElementById('choice_clicked').value;
                        var choice_clicked_arr=choice_clicked_text.split("####");
                        var value=choice_clicked_arr[0];
                        var choiceid=choice_clicked_arr[1];
                        var choiceprice=choice_clicked_arr[2];
                        var choicetype=choice_clicked_arr[3];
                        var name=choice_clicked_arr[4];


                //alert('choice-'+name);
                 var noofitems=Number(document.getElementById('quantity').value);
                document.getElementById('choicesoptname').value=name;
                document.getElementById('food_choice').innerHTML=name;
                var choicesval=value;

                if(document.getElementById('choicesprice').value!=""){
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    //alert(mainprice);
                    mainprice=mainprice-(Number(document.getElementById('choicesprice').value)*noofitems);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(document.getElementById('choicesprice').value)));
                    //alert('MyRadio1='+mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));
                }
                
                document.getElementById('choicesval').value=choicesval;
                document.getElementById('choicesid').value=choiceid;
                document.getElementById('choicesprice').value=choiceprice;
                document.getElementById('choicestype').value=choicetype;
        
        
        var mainpricehtml=$('#set_price').html();
        mainpricehtml=mainpricehtml.replace('$','');
        var mainprice=Number(mainpricehtml);
        document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(choiceprice)));
        //alert(mainprice);
        mainprice=mainprice+(Number(choiceprice)*noofitems);
        //alert(mainprice);
        $('#set_price').html('$'+mainprice.toFixed(2));

                        document.getElementById('choice_clicked').value="";
                }

                if(document.getElementById('sauce_clicked').value!="")
                {
                    //document.getElementById('sauce_clicked').value=value+"####"+sauceid+"####"+sauceprice+"####"+saucetype+"####"+name;

                         var sauce_clicked_text=document.getElementById('sauce_clicked').value;
                        var sauce_clicked_arr=sauce_clicked_text.split("####");
                        var value=sauce_clicked_arr[0];
                        var sauceid=sauce_clicked_arr[1];
                        var sauceprice=sauce_clicked_arr[2];
                        var saucetype=sauce_clicked_arr[3];
                        var name=sauce_clicked_arr[4];


                             var noofitems=Number(document.getElementById('quantity').value);
                            //alert('sauce-'+name);
                            document.getElementById('saucename').value=name;
                            document.getElementById('food_sauce').innerHTML=name;
                            var sauceval=value;

                            if(document.getElementById('sauceprice').value!=""){
                                var mainpricehtml=$('#set_price').html();
                                mainpricehtml=mainpricehtml.replace('$','');
                                var mainprice=Number(mainpricehtml);
                                //alert(mainprice);
                                mainprice=mainprice-(Number(document.getElementById('sauceprice').value)*noofitems);
                                document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(document.getElementById('sauceprice').value)));
                                //alert('MyRadio1='+mainprice);
                                $('#set_price').html('$'+mainprice.toFixed(2));
                            }

                            document.getElementById('sauceval').value=sauceval;
                            document.getElementById('sauceid').value=sauceid;
                            document.getElementById('sauceprice').value=sauceprice;
                            document.getElementById('saucetype').value=saucetype;
                            
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(sauceprice)));
                    //alert(mainprice);
                    mainprice=mainprice+(Number(sauceprice)*noofitems);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));

                    document.getElementById('sauce_clicked').value="";
                }


                if(document.getElementById('protein_clicked').value!="")
                {
                    //document.getElementById('sauce_clicked').value=value+"####"+sauceid+"####"+sauceprice+"####"+saucetype+"####"+name;

                     // alert('val - '+document.getElementById('protein_clicked').value);
                         var protein_clicked_text=document.getElementById('protein_clicked').value;
                        var protein_clicked_arr=protein_clicked_text.split("####");
                        var value=protein_clicked_arr[0];
                        var proteinid=protein_clicked_arr[1];
                        var proteinprice=protein_clicked_arr[2];
                        var proteintype=protein_clicked_arr[3];
                        var name=protein_clicked_arr[4];


                             var noofitems=Number(document.getElementById('quantity').value);
                            //alert('sauce-'+name);
                            document.getElementById('proteinname').value=name;
                            document.getElementById('food_protein').innerHTML=name;
                            var proteinval=value;
                           // alert('price-'+document.getElementById('proteinprice').value);
                            if(document.getElementById('proteinprice').value!=""){
                                var mainpricehtml=$('#set_price').html();
                                mainpricehtml=mainpricehtml.replace('$','');
                                var mainprice=Number(mainpricehtml);
                                //alert(mainprice);
                                mainprice=mainprice-(Number(document.getElementById('proteinprice').value)*noofitems);
                                document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(document.getElementById('proteinprice').value)));
                                //alert('MyRadio1='+mainprice);
                                $('#set_price').html('$'+mainprice.toFixed(2));
                            }

                            document.getElementById('proteinval').value=proteinval;
                            document.getElementById('proteinid').value=proteinid;
                            document.getElementById('proteinprice').value=proteinprice;
                            document.getElementById('proteintype').value=proteintype;
                            
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(proteinprice)));
                    //alert(mainprice);
                    mainprice=mainprice+(Number(proteinprice)*noofitems);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));

                    document.getElementById('protein_clicked').value="";
                }



                var allextras='';
                var allextrasprice='';
                var allextrasname='';

                var allextras_toppings='';
                var allextrasprice_toppings='';
                var allextrasname_toppings='';
                



                if((selectedLanguage.length > 0) && (selectedPrice.length > 0) && (selectedExtrasName.length > 0)){
            //alert('continue');
                allextras=selectedLanguage;
//
                 allextrasprice=selectedPrice.join(",");
                 allextrasname=selectedExtrasName.join(",");
                 //alert('==== '+allextrasname);
                //alert(allextrasprice);
                document.getElementById('food_extras').innerHTML=allextrasname;

                

         
            }else{
                if (document.getElementById('food_extras') != null){
                    document.getElementById('food_extras').innerHTML="";
                }   
            }


            if((selectedLanguage_toppings.length > 0) && (selectedPrice_toppings.length > 0) && (selectedExtrasName_toppings.length > 0)){
            //alert('continue');
                allextras_toppings=selectedLanguage_toppings;
//
                 allextrasprice_toppings=selectedPrice_toppings.join(",");
                 allextrasname_toppings=selectedExtrasName_toppings.join(",");

                //alert(allextrasprice);

                document.getElementById('food_toppings').innerHTML=allextrasname_toppings;
                

         
            }else{
                if (document.getElementById('food_toppings') != null){
                    document.getElementById('food_toppings').innerHTML="";
                }
            }

        //alert(allextras);
        //alert(allextrasprice);
        document.getElementById("extrasvalue").value=allextras;
                document.getElementById("extrasprices").value=allextrasprice;
                document.getElementById("extrasnames").value=allextrasname;
                

                document.getElementById("extrasvalue_toppings").value=allextras_toppings;
                document.getElementById("extrasprices_toppings").value=allextrasprice_toppings;
                document.getElementById("extrasnames_toppings").value=allextrasname_toppings;

                        //alert($.cookie(allextras));

                //alert("Number of selected Languages: "+selectedLanguage.length+"\n"+"And, they are: "+selectedLanguage);
            }

            function remove_item2(val,arr)
            {
                //alert(val);
                //alert('ppp');
                //$.mobile.changePage("#checkOut");
                arr=$.cookie("prevsName");
                //alert(arr);
                var splitarr = arr.split("=====");
                var arrlength=splitarr.length;
                //alert(arrlength);

                splitarr.splice(val, 1);




            //alert('after splice'+splitarr.length);

                            // for(var i=0;i<((splitarr.length)-1);i++)
                            // {

                            //    alert(splitarr[i]);
                            //    var newpricearr=splitarr[i].split("##");

                            //    var newprice=newpricearr[5];

                            //    alert(newprice);



                            // }

            var newarr = splitarr.join("=====");
            $.cookie("prevsName", newarr);

                            var newarr_split=newarr.split("=====");

                            //alert(varnewarr_split.length);

                            var newprice=0;
               var i=0;
                            for(i=0;i<((newarr_split.length)-1);i++)
                            {

                               //alert(newarr_split[i]);
                               var newpricearr=newarr_split[i].split("##");
               var delprice=newpricearr[5];
               if (delprice.indexOf('$') != -1) {
            delprice=delprice.replace("$", "");
               }

                               newprice=newprice+parseFloat(delprice);
               //alert(newprice);

                           }

                           //alert('newprice  -  '+newprice.toFixed(2));

                           $(".tot_price").html('$'+newprice.toFixed(2));
                           //alert('newprice - '+newprice);

                            //alert(newprice);
            var tax_rate=$.cookie("taxRate");

            //alert('tax_rate  -  '+tax_rate);

            tax_rate=parseFloat(tax_rate);
            newprice=newprice+((tax_rate/100)*newprice);

           // alert('newprice after tax  -  '+newprice);
            var tipstr=$(".tipBox").val();
            //alert('tipstr  -  '+tipstr);
            var tip=0;
            if(tipstr!=""){
                tip=Number(tipstr);
            }
            //alert('tip  -  '+tip);
            newprice=newprice+tip;
            //alert('newprice after tip  -  '+newprice);
                            
            $(".total_final").html('$'+newprice.toFixed(2));
            $("#final_price").val(newprice.toFixed(2));
            //alert(newarr);

                            //var newpricearr=arr.split("##");


                            //var newprice=newpricearr[5];

                            //alert(newprice);





            




            $.cookie("count", parseInt($.cookie("count"))-1);

            var totcount=parseInt($.cookie("count"));

            if(totcount<0)
            {
            countcart=0;
            }
            else
            {
            countcart=totcount;
            }   

            if(newarr=="" || countcart==0)
            {
                // alert($.cookie("count"));
                 $.cookie("count", 0);
                 var str="";
                 $('.basktRed').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });

                          $('.totalval').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });

                          $('.checkouttop').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });

                          $('.checkoutbottom').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });
                 
                          document.getElementById('contactinfotruckname').innerHTML="";
                          document.getElementById('paymentmethodtruckname').innerHTML="";
 
                 
                 if(typeof $.cookie("pickuptm") != "undefined"){
                            $.cookie("pickuptm",'undefined');
                           
                     }
                     document.getElementById('checkout_clicked').value="";
                      $.mobile.changePage("#truckDetails");
            }else{
            	var showname=$.cookie("showname");
            var showaddr=$.cookie("showaddr");
            var showtime=$.cookie("showtime");
            var pickuptime=$.cookie("pickuptime");
            var minorderamt=$.cookie("minorderamt");

            // alert(showaddr);
            // alert(showtime);

            //alert($.cookie("prevsName"));
            $.cookie("mode", "");
            //alert(showaddr);
            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/basketpageipad.php",
                data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt,
                cache: false,
                        success: function(html){
                        var allval=html;
                        //alert('allval  ---  '+allval);
                        var split = allval.split("++++++++++");
                        //alert(split[1]);

                        //alert(allval);
                       
                         $('.basktRed').fadeOut(2,function(){
                             $(this).html(allval);
                             $(this).fadeIn(2);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                            
                         });

                          $('.totalval').fadeOut(2,function(){
                             $(this).html(split[1]);
                             $(this).fadeIn(2);
                            
                            
                         });

                         $.cookie("descriptionsp","");

                          //$.mobile.changePage("#truckDetails");
                         //$( "table" ).table( "refresh" );
                        }


                });

				// var showname=$.cookie("showname");
    //                 var showaddr=$.cookie("showaddr");
    //                 var showtime=$.cookie("showtime");
    //                 var pickuptime=$.cookie("pickuptime");
    //                 var minorderamt=$.cookie("minorderamt");

                    // alert(showaddr);
                    // alert(showtime);

                    //alert($.cookie("prevsName"));
                    $.cookie("mode", "");
                    //alert(showaddr);
                    //alert('hhhhhhh');
                    $.ajax({
                        type: "POST",
                        url: "http://esolzdemos.com/lab1/whatthetrucks/basketpage_basket.php",
                        data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt,
                        cache: false,
                                success: function(html){
                                var allval=html;
                               // alert('ooooo');
                                //alert(allval);
                               
                                 $('#basktRed_basket').fadeOut(2,function(){
                                     $(this).html(allval);
                                     $(this).fadeIn(2);
                                    $('.delete').click(function() {
                                                $(this).parent().parent().remove();
                                        });
                                    
                                 });

                                 

                                 $.cookie("descriptionsp","");

                                  //$.mobile.changePage("#Basket");
                                 //$( "table" ).table( "refresh" );
                                }


                        });

						// var showname=$.cookie("showname");
			   //          var showaddr=$.cookie("showaddr");
			   //          var showtime=$.cookie("showtime");
			   //          var pickuptime=$.cookie("pickuptime");
			   //          var minorderamt=$.cookie("minorderamt");

			            // alert(showaddr);
			            // alert(showtime);

			            //alert($.cookie("prevsName"));
			            $.cookie("mode", "");
			            //alert(showaddr);
			            $.ajax({
			                type: "POST",
			                url: "http://esolzdemos.com/lab1/whatthetrucks/basketpageipadcheckout.php",
			                data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt+"&taxRate="+$.cookie("taxRate"),
			                cache: false,
			                        success: function(html){
			                        var allval=html;
			                       // alert('allval  ---  '+allval);
			                        var split = allval.split("++++++++++");
			                        // //alert(split[1]);

			                        // //alert(allval);
			                       
			                         $('.checkouttop').fadeOut(2,function(){
			                             $(this).html(split[0]);
			                             $(this).fadeIn(2);
			                            $('.delete').click(function() {
			                                        $(this).parent().parent().remove();
			                                });
			                            
			                         });

			                          $('.checkoutbottom').fadeOut(2,function(){
			                             $(this).html(split[1]);
			                             $(this).fadeIn(2);
			                            
			                            
			                         });

			                        //  $.cookie("descriptionsp","");

			                          //$.mobile.changePage("#truckDetails");
			                         //$( "table" ).table( "refresh" );
			                        }


			                });
			

            }



            

        }

            function remove_item(val,arr)
            {
            	//alert('val  -  '+val);
            //alert('string - '+arr);
            arr=$.cookie("prevsName");
            //alert(arr);
            var splitarr = arr.split("=====");
            var arrlength=splitarr.length;
            //alert(arrlength);

            splitarr.splice(val, 1);




            //alert('after splice'+splitarr.length);

                            // for(var i=0;i<((splitarr.length)-1);i++)
                            // {

                            //    alert(splitarr[i]);
                            //    var newpricearr=splitarr[i].split("##");

                            //    var newprice=newpricearr[5];

                            //    alert(newprice);



                            // }

            var newarr = splitarr.join("=====");

                            var newarr_split=newarr.split("=====");

                            //alert(varnewarr_split.length);

                            var newprice=0;
               var i=0;
                            for(i=0;i<((newarr_split.length)-1);i++)
                            {

                               //alert('newarr_split[i] - '+newarr_split[i]);
                               var newpricearr=newarr_split[i].split("##");
                               var delprice=newpricearr[5];
                               //alert(delprice);
                               if (delprice.indexOf('$') != -1) {
                            delprice=delprice.replace("$", "");
                               }

                               newprice=newprice+parseFloat(delprice);
               //alert(newprice);

                           }

                           // alert('newarr  -  '+newarr);
                           // alert('newprice  -  '+newprice);

                            //alert(newprice);

                            $("#total_price").html('$'+newprice.toFixed(2));
                            $("#final_price").val(newprice.toFixed(2));
            //alert(newarr);
            //alert('gggg');

                            //var newpricearr=arr.split("##");


                            //var newprice=newpricearr[5];

                            //alert(newprice);





            $.cookie("prevsName", newarr);




            $.cookie("count", parseInt($.cookie("count"))-1);

            var totcount=parseInt($.cookie("count"));

            if(totcount<0)
            {
            countcart=0;
            }
            else
            {
            countcart=totcount;
            }   


            

    //         $("#countval").val = countcart;
    //         document.getElementById('show_cart').style.display='';
    //         document.getElementById('show_cart1').style.display='';
    //         document.getElementById('show_cartpayment').style.display='';
    // document.getElementById('show_cartcnctinfo').style.display='';
    //         document.getElementById('cartval').style.display='';
    //         document.getElementById('cartval1').style.display='';
    //         document.getElementById('cartval2').style.display='';
    //         $(".footer-cart .cart_value").text(countcart);

            if(countcart==0)
            {
                //alert("remove");
    //             document.getElementById('show_cart').style.display='none';
    //             document.getElementById('show_cart1').style.display='none';
    //             document.getElementById('show_cartpayment').style.display='none';
    // document.getElementById('show_cartcnctinfo').style.display='none';
    //             document.getElementById('cartval').style.display='none';
    //             document.getElementById('cartval1').style.display='none';
    //             document.getElementById('cartval2').style.display='none';
            }



                  
           // alert('countcart - '+countcart);
            if(newarr=="" || countcart==0)
            {
                // alert($.cookie("count"));
                 $.cookie("count", 0);
                 var str="";
                 $('.basktRed').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });

                          $('.totalval').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });
    //              document.getElementById('show_cart').style.display='none';
    //             document.getElementById('show_cart1').style.display='none';
    //             document.getElementById('show_cartpayment').style.display='none';
    // document.getElementById('show_cartcnctinfo').style.display='none';
    //             document.getElementById('cartval').style.display='none';
    //              $.mobile.changePage("#truckDetails");
                 if(typeof $.cookie("pickuptm") != "undefined"){
                            $.cookie("pickuptm",'undefined');
                     }
            }else{
            	 var showname=$.cookie("showname");
            var showaddr=$.cookie("showaddr");
            var showtime=$.cookie("showtime");
            var pickuptime=$.cookie("pickuptime");
            var minorderamt=$.cookie("minorderamt");

            // alert(showaddr);
            // alert(showtime);

            //alert($.cookie("prevsName"));
            $.cookie("mode", "");
            //alert(showaddr);
            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/basketpageipad.php",
                data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt,
                cache: false,
                        success: function(html){
                        var allval=html;
                        //alert('allval  ---  '+allval);
                        var split = allval.split("++++++++++");
                        //alert(split[1]);

                        //alert(allval);
                       
                         $('.basktRed').fadeOut(2,function(){
                             $(this).html(allval);
                             $(this).fadeIn(2);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                            
                         });

                          $('.totalval').fadeOut(2,function(){
                             $(this).html(split[1]);
                             $(this).fadeIn(2);
                            
                            
                         });

                         $.cookie("descriptionsp","");

                          //$.mobile.changePage("#truckDetails");
                         //$( "table" ).table( "refresh" );
                        }


                });
            }

            }

            function remove_item_full(val,arr)
            {
            //alert('string - '+arr);
            arr=$.cookie("prevsName");
            //alert(arr);
            var splitarr = arr.split("=====");
            var arrlength=splitarr.length;
            //alert(arrlength);

            splitarr.splice(val, 1);




            //alert('after splice'+splitarr.length);

                            // for(var i=0;i<((splitarr.length)-1);i++)
                            // {

                            //    alert(splitarr[i]);
                            //    var newpricearr=splitarr[i].split("##");

                            //    var newprice=newpricearr[5];

                            //    alert(newprice);



                            // }

           					var newarr = splitarr.join("=====");

                            var newarr_split=newarr.split("=====");

                            //alert(varnewarr_split.length);

                            var newprice=0;
               				var i=0;
                            for(i=0;i<((newarr_split.length)-1);i++)
                            {

                               //alert('newarr_split[i] - '+newarr_split[i]);
                               var newpricearr=newarr_split[i].split("##");
                               var delprice=newpricearr[5];
                               //alert(delprice);
                               if (delprice.indexOf('$') != -1) {
                            delprice=delprice.replace("$", "");
                               }

                               newprice=newprice+parseFloat(delprice);
               //alert(newprice);

                           }



                            //alert(newprice);

                            $("#total_pricehhh").html('$'+newprice.toFixed(2));
                            $("#final_price").val(newprice.toFixed(2));
            //alert(newarr);
            // alert('gggg');
            // alert($("#final_price").val());

                            //var newpricearr=arr.split("##");


                            //var newprice=newpricearr[5];

                            //alert(newprice);





            $.cookie("prevsName", newarr);

            if(newarr=="" || countcart==0)
            {
                // alert($.cookie("count"));
                 $.cookie("count", 0);
                 var str="";
                 $('.basktRed').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });

                          $('.totalval').fadeOut(2,function(){
                             $(this).html(str);
                             $(this).fadeIn(2);
                            
                            
                         });
                 

    //              document.getElementById('show_cart').style.display='none';
    //             document.getElementById('show_cart1').style.display='none';
    //             document.getElementById('show_cartpayment').style.display='none';
    // document.getElementById('show_cartcnctinfo').style.display='none';
    //             document.getElementById('cartval').style.display='none';
                 
                 if(typeof $.cookie("pickuptm") != "undefined"){
                            $.cookie("pickuptm",'undefined');
                           
                     }
                      $.mobile.changePage("#truckDetails");
            }else{

            var showname=$.cookie("showname");
            var showaddr=$.cookie("showaddr");
            var showtime=$.cookie("showtime");
            var pickuptime=$.cookie("pickuptime");
            var minorderamt=$.cookie("minorderamt");

            // alert(showaddr);
            // alert(showtime);

            //alert($.cookie("prevsName"));
            $.cookie("mode", "");
            //alert(showaddr);
            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/basketpageipad.php",
                data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt,
                cache: false,
                        success: function(html){
                        var allval=html;
                        //alert('allval  ---  '+allval);
                        var split = allval.split("++++++++++");
                        //alert(split[1]);

                        //alert(allval);
                       
                         $('.basktRed').fadeOut(2,function(){
                             $(this).html(allval);
                             $(this).fadeIn(2);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                            
                         });

                          $('.totalval').fadeOut(2,function(){
                             $(this).html(split[1]);
                             $(this).fadeIn(2);
                            
                            
                         });

                         $.cookie("descriptionsp","");

                          //$.mobile.changePage("#truckDetails");
                         //$( "table" ).table( "refresh" );
                        }


                });
}




            $.cookie("count", parseInt($.cookie("count"))-1);

            var totcount=parseInt($.cookie("count"));

            if(totcount<0)
            {
            countcart=0;
            }
            else
            {
            countcart=totcount;
            }   


            

    //         $("#countval").val = countcart;
    //         document.getElementById('show_cart').style.display='';
    //         document.getElementById('show_cart1').style.display='';
    //         document.getElementById('show_cartpayment').style.display='';
    // document.getElementById('show_cartcnctinfo').style.display='';
    //         document.getElementById('cartval').style.display='';
    //         document.getElementById('cartval1').style.display='';
    //         document.getElementById('cartval2').style.display='';
    //         $(".footer-cart .cart_value").text(countcart);

            if(countcart==0)
            {
                //alert("remove");
    //             document.getElementById('show_cart').style.display='none';
    //             document.getElementById('show_cart1').style.display='none';
    //             document.getElementById('show_cartpayment').style.display='none';
    // document.getElementById('show_cartcnctinfo').style.display='none';
    //             document.getElementById('cartval').style.display='none';
    //             document.getElementById('cartval1').style.display='none';
    //             document.getElementById('cartval2').style.display='none';
            }



                  
           // alert('countcart - '+countcart);
            

            }

            function basketredirect_basket (){ 

            	//alert("hiiii");

            //$(".basktRed").html('');
            $("#basktRed_basket").html('');

            // if($.cookie("islogin") === "yes")
            // {
                
                 //$("#mypanel").panel("close");

                 //var itemval=$( "#item_val" ).val();
                 //alert(itemval);

                $("#basktRed_basket").fadeOut(2,function(){
                //  $(this).html('<img src="img/loader.GIF"  style="left:190%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                // $(this).show("fast");
                $(this).html('<img src="img/loader.GIF"  style="position:absolute; width:32px; height:25px; top:50%; left:50%; transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
                });
            
        	//alert('mmmmmmm');
        
                //  $.cookie("showname", name, { expires: date });
                //$.cookie("showaddr", addr, { expires: date });
                //$.cookie("showtime", time, { expires: date });
                    var showname=$.cookie("showname");
                    var showaddr=$.cookie("showaddr");
                    var showtime=$.cookie("showtime");
                    var pickuptime=$.cookie("pickuptime");
                    var minorderamt=$.cookie("minorderamt");

                    // alert(showaddr);
                    // alert(showtime);

                    //alert($.cookie("prevsName"));
                    $.cookie("mode", "");
                    //alert(showaddr);
                    //alert('hhhhhhh');
                    $.ajax({
                        type: "POST",
                        url: "http://esolzdemos.com/lab1/whatthetrucks/basketpage_basket.php",
                        data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt,
                        cache: false,
                                success: function(html){
                                var allval=html;
                               // alert('ooooo');
                                //alert(allval);
                               
                                 $('#basktRed_basket').fadeOut(2,function(){
                                     $(this).html(allval);
                                     $(this).fadeIn(2);
                                    $('.delete').click(function() {
                                                $(this).parent().parent().remove();
                                        });
                                    
                                 });

                                 

                                 $.cookie("descriptionsp","");

                                  //$.mobile.changePage("#Basket");
                                   $.mobile.changePage("#truckDetails");
                                 //$( "table" ).table( "refresh" );
                                }


                        });
            //}

            // else
            // {
            //      $.mobile.changePage("#logIn");
            // }

                


// Code to add


        }


            function basketredirect (){ 

            	//alert("hiiii");

            //$(".basktRed").html('');

            // if($.cookie("islogin") === "yes")
            // {
                
                 //$("#mypanel").panel("close");

                 //var itemval=$( "#item_val" ).val();
                 //alert(itemval);

                 if($(".totalval").html()==""){
                 	$(".basktRed").fadeOut(500,function(){
		                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
		                 // $(this).show("fast");
		                 $(this).html('<img src="img/loader.GIF"  style="position:absolute; width:32px; height:25px; top:30%; left:50%; transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 		$(this).show("fast");
                 	});
                 }

              //   $(".basktRed").fadeOut(1,function(){
              //    	$(this).html('<img src="img/loader.GIF"  style="left:190%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
              //   	$(this).show("fast");
              //   });
             	// $(".totalval").fadeOut(1,function(){
              //    	$(this).html('');
              //   	$(this).show("fast");
              //   });
            
        
        
                //  $.cookie("showname", name, { expires: date });
                //$.cookie("showaddr", addr, { expires: date });
                //$.cookie("showtime", time, { expires: date });
                    var showname=$.cookie("showname");
                    var showaddr=$.cookie("showaddr");
                    var showtime=$.cookie("showtime");
                    var pickuptime=$.cookie("pickuptime");
                    var minorderamt=$.cookie("minorderamt");

                    // alert(showaddr);
                    // alert(showtime);

                    //alert($.cookie("prevsName"));
                    $.cookie("mode", "");
                    //alert(showaddr);
                    $.ajax({
                        type: "POST",
                        url: "http://esolzdemos.com/lab1/whatthetrucks/basketpageipad.php",
                        data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt,
                        cache: false,
                                success: function(html){
                                var allval=html;

                                var split = allval.split("++++++++++");
                                //alert(split[1]);

                                //alert(allval);

                                $('.basktRed').html(allval);
                                $('.delete').click(function() {
                                                $(this).parent().parent().remove();
                                        });
                                  $('.totalval').html(split[1]);
                               
                                 // $('.basktRed').fadeOut(1,function(){
                                 //     $(this).html(allval);
                                 //     $(this).fadeIn(1);
                                 //    $('.delete').click(function() {
                                 //                $(this).parent().parent().remove();
                                 //        });
                                    
                                 // });

                                 //  $('.totalval').fadeOut(1,function(){
                                 //     $(this).html(split[1]);
                                 //     $(this).fadeIn(1);
                                    
                                    
                                 // });

                                 $.cookie("descriptionsp","");

                                  $.mobile.changePage("#truckDetails");
                                 //$( "table" ).table( "refresh" );
                                }


                        });
            //}

            // else
            // {
            //      $.mobile.changePage("#logIn");
            // }

                


// Code to add


        }


        	function storeVal2()
            {
                // alert(document.getElementById('mandatory').value);
                // alert(radioarray.join('========'));
                var mandatory=document.getElementById('mandatory').value;
                
                if(mandatory!=''){
                    var mandatorysplit=mandatory.split(',');
                    var present_type_arr=new Array();
                    for(var i=0;i<radioarray.length;i++){
                        var split_radioarr=radioarray[i].split('####');
                        present_type_arr.push(split_radioarr[3]);
                    }
                    //alert('present arr - '+present_type_arr.join(','));

                    for(var j=0;j<mandatorysplit.length;j++){
                        if(!(present_type_arr.indexOf(mandatorysplit[j]) > -1))
                        {
                            //alert('Select a '+mandatorysplit[j]+' option');
                            var pageid=$.mobile.activePage.attr('id');
                            document.getElementById('popup'+pageid).innerHTML='Select a '+mandatorysplit[j]+' option';
                            document.getElementById('alertbtn'+pageid).click();
                            return false;
                        }
                    }
                }

                var stringarr=new Array();
                var additionalextras=new Array();
                var additionalextrastr=""; 
              
                for(var i=0;i<radioarray.length;i++){
                    var split_radioarr=radioarray[i].split('####');
                    var eachstring=split_radioarr[0]+"^"+split_radioarr[1]+"^"+split_radioarr[3]+"^"+split_radioarr[2]+"^"+split_radioarr[4]+"^"+split_radioarr[5];
                    stringarr.push(eachstring);
                    additionalextras.push(split_radioarr[4]);
                }

                //alert(ckboxarray.join('=========='));

                for(var a=0;a<ckboxarray.length;a++){

                    var eachckboxarraystr=ckboxarray[a];
                    var spliteach=eachckboxarraystr.split('******');
                    var ckbox_id_arr=new Array();
                    var ckbox_choiceid_arr=new Array();
                    var ckbox_price_arr=new Array();
                    var ckbox_type_arr='';
                    var ckbox_name_arr=new Array();
                    var ckbox_group_arr='';

                   for(var x=0;x<spliteach.length;x++){
                        var split_spliteach=spliteach[x].split('####');
                        ckbox_id_arr.push(split_spliteach[0]);
                        ckbox_choiceid_arr.push(split_spliteach[1]);
                        ckbox_price_arr.push(split_spliteach[2]);
                        ckbox_type_arr=split_spliteach[3];
                        ckbox_name_arr.push(split_spliteach[4]);
                       ckbox_group_arr=split_spliteach[5];
                   }
                   var eachstring=(ckbox_id_arr.join(','))+"^"+(ckbox_choiceid_arr.join(','))+"^"+ckbox_type_arr+"^"+(ckbox_price_arr.join(','))+"^"+(ckbox_name_arr.join(','))+"^"+ckbox_group_arr;
                   //alert('storeval2 - '+eachstring);
                   stringarr.push(eachstring);
                    additionalextras.push(ckbox_name_arr.join(','));
                }

                //alert(stringarr.join('@@'));
                 var catgstring='blank';
                 if(stringarr.length>0){
                    catgstring=stringarr.join('~~~~');
                 }
               



                if(catgstring!=''){
                    catgstring=catgstring+"@@";
                }

                var finalchoice_string=catgstring+('descriptionsp$$$'+$.cookie("descriptionsp"))+"@@"+('description$$$'+$.cookie("description"))+"@@"+('choice_limit$$$'+document.getElementById('choice_limit').value);

                //alert('storeval2 - '+finalchoice_string);
                var date = new Date();
                var minutes = 1440;
                date.setTime(date.getTime() + (minutes * 60 * 1000));
                $.cookie("finalchoice_string", finalchoice_string, { expires: date });
                var extraval = $.cookie("extraval");
                //alert('extraval - '+extraval);
                var descprtn = $.cookie("description");
                //alert('description - '+descprtn);
                var quty = $("#quantity").val();
               // alert('quantity - '+quty);
                var foodname = $.cookie("foodname");
                // alert('foodname - '+foodname);

                //alert(foodname);
                var item_id = $.cookie("item_id");

                //alert(item_id);
                var pricevaln;

                //alert($.cookie("totpriceval"));
                var error=0;
               additionalextrastr=additionalextras.join(', ');
               //alert(additionalextrastr);
               var mode1=$.cookie("mode");
               var edit_index_new=$.cookie("edit_indexval");
               var pricevalue=document.getElementById("set_price").innerHTML;
               if(document.getElementById("totpriceval").value!="")
                {
                    
                    pricevaln = document.getElementById("totpriceval").value;
                    
                }
                else
                {
                    
                    pricevaln =pricevalue;
                    
                }

                if(pricevaln.indexOf("$") > -1)
                {
                    var final_priceval=pricevaln.replace('$','');

                     //var final_priceval=split_priceval[1];
                    
                }
                else
                {
                     var final_priceval=pricevaln;
                }

                
                var addprice_val=0;
                    pricevaln=Number(final_priceval)+addprice_val;
        //alert(pricevaln);
            
               document.getElementById("add_priceval").value=addprice_val;
               

                var sendfinalprice=document.getElementById('set_price').innerHTML;
                sendfinalprice=sendfinalprice.replace("$","");
                    if(mode1=="edit")
                    {

                        //alert("hiiii");
                        var arr=$.cookie("prevsName");
                        var newarr=new Array();
        //alert(arr);
                        var splitarr = arr.split("=====");
                        var arrlength=splitarr.length;

                        for(var i=0;i<arrlength;i++)
                        {
                            //alert(splitarr[i]);

                            if(i==edit_index_new)
                            {

                                //alert("indexmatch");
                               // alert('finalchoice_string - '+finalchoice_string);
                               //alert(descprtn);
                                var string = quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+sendfinalprice+"##"+item_id+"##"+finalchoice_string;

                                //alert(string);
                                newarr.push(string);
                            }
                            else
                            {
                                // if (splitarr[i] != "")
                                // {
                                    newarr.push(splitarr[i]);
                                //}
                                
                            }
                        }

                        //alert(newarr.length);


                        //alert(newarr);

                        var newarrjoin = newarr.join("=====");

                        //alert(newarrjoin);


                        //alert('prevsname_edit - '+newarrjoin);
                        $.cookie("prevsName", newarrjoin);
                           
                           
                          
                        //alert(mode1);
                       
                        
                        //alert('storeVal - '+$.cookie("mode"));
                     $.cookie("edit_indexval","");
                    }
                    else
                    {

                       // alert("hello");
                        if (typeof $.cookie("prevsName") == "undefined") {
        
                        var string = quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+sendfinalprice+"##"+item_id+"##"+finalchoice_string+"=====";
                        }else{

                            var string = $.cookie("prevsName")+quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+sendfinalprice+"##"+item_id+"##"+finalchoice_string+"=====";
                        }

                       // alert('prevsname - '+string);

                         $.cookie("prevsName", string);
                         if (typeof $.cookie("count") == "undefined")
                        {
                        $.cookie("count", 1);
                        }else{
                        $.cookie("count", parseInt($.cookie("count"))+1);
                        }
                        //alert(parseInt($.cookie("count")));
                        

                    }
                    // $("#countval").val = parseInt($.cookie("count"));

                    //     document.getElementById('show_cart').style.display='';
                    //     document.getElementById('show_cart1').style.display='';
                    //     document.getElementById('show_cartpayment').style.display='';
                    //     document.getElementById('show_cartcnctinfo').style.display='';
                    //     document.getElementById('cartval').style.display='';
                    //     document.getElementById('cartval1').style.display='';
                    //     document.getElementById('cartval2').style.display='';
                    //     $(".footer-cart .cart_value").text(parseInt($.cookie("count")));

                    
                    //alert(string);
                    //$.cookie("prevsName", "");
                    
                   

                    document.getElementById("totpriceval").value="";
        //alert('@@@@');
                     
                     document.getElementById('choiceval').value="";
                    document.getElementById('breadid').value="";
                    document.getElementById('breadtype').value="";
                    document.getElementById('breadprice').value="";
                    document.getElementById('choicesval').value="";
                    document.getElementById('choicesid').value="";
                    document.getElementById('choicestype').value="";
                    document.getElementById('choicesprice').value="";
                    document.getElementById('sauceval').value="";
                    document.getElementById('sauceid').value="";
                    document.getElementById('saucetype').value="";
                    document.getElementById('sauceprice').value="";

                    document.getElementById('proteinval').value="";
                    document.getElementById('proteinid').value="";
                    document.getElementById('proteintype').value="";
                    document.getElementById('proteinprice').value="";

                    document.getElementById('extrasprices').value="";
                     document.getElementById('extrasvalue').value="";
                     document.getElementById('extrasnames').value="";
                     document.getElementById('extrasprices_toppings').value="";
                     document.getElementById('extrasvalue_toppings').value="";
                     document.getElementById('extrasnames_toppings').value="";
                    document.getElementById('breadname').value="";
                    document.getElementById('saucename').value="";
                    document.getElementById('proteinname').value="";
                    document.getElementById('choicesoptname').value="";
                    document.getElementById("add_priceval").value="";
                    document.getElementById('specialinsttext').value="";
                    selectedLanguage = [];
                    selectedPrice = [];
                    selectedExtrasName=[];

                    selectedLanguage_toppings = [];
                    selectedPrice_toppings = [];
                    selectedExtrasName_toppings=[];

                    radioarray = [];
                    ckboxarray=[];
                    document.getElementById('mandatory').value='';

                    //alert('prevsname - '+$.cookie("prevsName"));
                    //alert('redirect to basket');
                    basketredirect();


            }


            function storeVal()
            {

            	//alert("hiii");

                //$.mobile.changePage("#popupExample");
                var mode1=$.cookie("mode");

                //alert(mode1);
                        //alert(mode1);
                var edit_index_new=$.cookie("edit_indexval");

                //alert('hiiii');
            var addprice_val=0;
            document.getElementById("basket_check").value="1";

            var choiceval = document.getElementById('choiceval').value;
            //alert(choiceval);
            var breadid= document.getElementById('breadid').value;
            var breadtype= document.getElementById('breadtype').value;
            var breadprice= document.getElementById('breadprice').value;
            var breadname= document.getElementById('breadname').value;

            
            //addprice_val=addprice_val+Number(breadprice);


           

            var choicesval = document.getElementById('choicesval').value;
            var choicesid= document.getElementById('choicesid').value;
            var choicestype= document.getElementById('choicestype').value;
            var choicesprice= document.getElementById('choicesprice').value;
            var choicesname= document.getElementById('choicesoptname').value;

            //addprice_val=addprice_val+Number(choicesprice);
            
            

            var sauceval = document.getElementById('sauceval').value;
            var sauceid= document.getElementById('sauceid').value;
            var saucetype= document.getElementById('saucetype').value;
            var sauceprice= document.getElementById('sauceprice').value;
            var saucename=document.getElementById('saucename').value;

             var proteinval = document.getElementById('proteinval').value;
            var proteinid= document.getElementById('proteinid').value;
            var proteintype= document.getElementById('proteintype').value;
            var proteinprice= document.getElementById('proteinprice').value;
            var proteinname=document.getElementById('proteinname').value;

            //addprice_val=addprice_val+Number(sauceprice);

            var extras_selected_id=document.getElementById("extrasvalue").value;
            var extras_selected_names=document.getElementById("extrasnames").value;
            var extras_selected_prices=document.getElementById("extrasprices").value;

            var extras_selected_id_toppings=document.getElementById("extrasvalue_toppings").value;

            //alert('extras_selected_id_toppings - '+extras_selected_id_toppings);
            var extras_selected_names_toppings=document.getElementById("extrasnames_toppings").value;
            var extras_selected_prices_toppings=document.getElementById("extrasprices_toppings").value;

            var extrasprice1= document.getElementById('extrasprices').value;

            //alert(extrasprice1);

            var splitvalue=extrasprice1.split(",");
            var pricevalues=0;

            for(var i=0;i<splitvalue.length;i++)
            {
                pricevalues=pricevalues+Number(splitvalue[i]);
                //alert(pricevalues);
            }

            //addprice_val=addprice_val+pricevalues;

            //alert('addprice_val - '+addprice_val);

            // alert('breadtype - '+breadtype);
            // alert('choiceval - '+choiceval);
            // alert('breadid - '+breadid);
            // alert('breadprice - '+breadprice);
            // alert('breadname - '+breadname);
            if(breadtype!="")
            {
                var breadString=choiceval+"^"+breadid+"^"+breadtype+"^"+breadprice+"^"+breadname;
            }
            else
            {
                var breadString="";
            }

            //alert(breadString);

            if(choicestype!="")
            {
                var choicesString=choicesval+"^"+choicesid+"^"+choicestype+"^"+choicesprice+"^"+choicesname;
            }
            else
            {
                var choicesString="";
            }

            //alert(choicesString);

            if(saucetype!="")
            {
                var sauceString=sauceval+"^"+sauceid+"^"+saucetype+"^"+sauceprice+"^"+saucename;
            }

            else
            {
                var sauceString="";
            }

             if(proteintype!="")
            {
                var proteinString=proteinval+"^"+proteinid+"^"+proteintype+"^"+proteinprice+"^"+proteinname;
            }

            else
            {
                var proteinString="";
            }

            if(extras_selected_id!=""){
                var extrasString=extras_selected_id+"^"+'extras_id'+"^"+'extras'+"^"+extras_selected_prices+"^"+extras_selected_names;
            }else{
                var extrasString="";
            }

            if(extras_selected_id_toppings!=""){
                var extrasString_toppings=extras_selected_id_toppings+"^"+'toppings_id'+"^"+'toppings'+"^"+extras_selected_prices_toppings+"^"+extras_selected_names_toppings;
            }else{
                var extrasString_toppings="";
            }

            //alert(extrasString);
            //alert('storeval - '+$.cookie("descriptionsp"));
              var finalchoice_string=breadString+"@@"+choicesString+"@@"+sauceString+"@@"+proteinString+"@@"+extrasString+"@@"+extrasString_toppings+"@@"+$.cookie("descriptionsp")+"@@"+$.cookie("description")+"@@"+document.getElementById('choice_limit').value;



             // alert(finalchoice_string);

              var date = new Date();
                var minutes = 1440;
                 date.setTime(date.getTime() + (minutes * 60 * 1000));
                $.cookie("finalchoice_string", finalchoice_string, { expires: date });

              //alert(finalchoice_string);


            
            //alert(breadString);
            // var sauceval = document.getElementById('sauceval').value;
            // var choicesval = document.getElementById('choicesval').value;
            var extraval = $.cookie("extraval");
            var descprtn = $.cookie("description");
            var quty = $("#quantity").val();
            var foodname = $.cookie("foodname");

            //alert(foodname);
            var item_id = $.cookie("item_id");

            //alert(item_id);
            var pricevaln;

            //alert($.cookie("totpriceval"));


                var error=0;
        var additionalextras=new Array();
        var additionalextrastr="";
         
                       
            if (document.getElementById('hasbread').value=="1") 
            {

            
                if (choiceval=="") 
                {
                    alert('Select a Bread Option');
                    //  var pageid=$.mobile.activePage.attr('id');
                    // document.getElementById('popup'+pageid).innerHTML="Select a Bread Option";
                    // document.getElementById('alertbtn'+pageid).click();
                    error++;
                    return false;
                }
              
                else
                {
                    //alert('Bread name -'+document.getElementById('breadname').value);
                    additionalextras.push(document.getElementById('breadname').value);
                }
            }

           // alert(additionalextras.length);

            //if(mode1==)

             if (document.getElementById('hassauce').value=="1") {
                
                   if (sauceval=="") 
                   {
                        alert('Select a Sauce Option');
                    //      var pageid=$.mobile.activePage.attr('id');
                    // document.getElementById('popup'+pageid).innerHTML="Select a Sauce Option";
                    // document.getElementById('alertbtn'+pageid).click();
                        error++;
                        return false;
                   }
                
                else{
            //alert('saucename -'+document.getElementById('saucename').value);
            additionalextras.push(document.getElementById('saucename').value);
              }
            }

            if (document.getElementById('hasprotein').value=="1") {
                
                   if (proteinval=="") 
                   {
                        alert('Select a Protien Option');
                    //      var pageid=$.mobile.activePage.attr('id');
                    // document.getElementById('popup'+pageid).innerHTML="Select a Protien Option";
                    // document.getElementById('alertbtn'+pageid).click();
                        error++;
                        return false;
                   }
                
                else{
            //alert('saucename -'+document.getElementById('saucename').value);
            additionalextras.push(document.getElementById('proteinname').value);
              }
            }

            if (document.getElementById('haschoice').value=="1") {
                
                    if (choicesval=="") 
                    {
                            alert('Select a Choice Option');
                    //         var pageid=$.mobile.activePage.attr('id');
                    // document.getElementById('popup'+pageid).innerHTML="Select a Choice Option";
                    // document.getElementById('alertbtn'+pageid).click();
                            error++;
                            return false;
                    }
            
            else
            {
              additionalextras.push(document.getElementById('choicesoptname').value);
            }
        
            }
            if(extras_selected_id!=""){
                additionalextras.push(document.getElementById('extrasnames').value);
            }

            if(extras_selected_id_toppings!=""){
                additionalextras.push(document.getElementById('extrasnames_toppings').value);
            }
            //alert(document.getElementById('extrasnames').value);
        if (additionalextras.length > 0) {
        additionalextrastr=additionalextras.join(", ");
        }
        //alert(additionalextrastr);


            if(error==0){

                document.getElementById('choiceval').value="";
                   document.getElementById('choicesval').value="";
                   document.getElementById('sauceval').value="";
                   document.getElementById('proteinval').value="";

                    var pricevalue=document.getElementById("set_price").innerHTML;

            

                    if(document.getElementById("totpriceval").value!="")
                    {
                        
                        pricevaln = document.getElementById("totpriceval").value;
                        
                    }
                    else
                    {
                        
                        pricevaln =pricevalue;
                        
                    }

                    //alert(pricevaln);

                    // var indexofvalue=pricevaln.indexOf("$");

                    // alert('hiivalue'+indexofvalue);


                    if(pricevaln.indexOf("$") > -1)
                    {
                        var final_priceval=pricevaln.replace('$','');

                         //var final_priceval=split_priceval[1];
                        
                    }
                    else
                    {
                         var final_priceval=pricevaln;
                    }

                    
                    
                        pricevaln=Number(final_priceval)+addprice_val;
            //alert(pricevaln);
                
                   document.getElementById("add_priceval").value=addprice_val;
                    

                    // alert(choiceval);
                    // alert(extraval);
                    // alert(quty);
                    // alert(foodname);
                    // alert(pricevaln);
                    // alert(descprtn);

                    var sendfinalprice=document.getElementById('set_price').innerHTML;
                    sendfinalprice=sendfinalprice.replace("$","");

                       //if($.cookie("islogin") === "yes"){
                            

                        //}

                        
                        //alert(edit_index_new);




            

                        if(mode1=="edit")
                        {

                            //alert("hiiii");
                            var arr=$.cookie("prevsName");
                            var newarr=new Array();
            //alert(arr);
                            var splitarr = arr.split("=====");
                            var arrlength=splitarr.length;

                            for(var i=0;i<arrlength;i++)
                            {
                                //alert(splitarr[i]);

                                if(i==edit_index_new)
                                {

                                    //alert("indexmatch");
                                   // alert('finalchoice_string - '+finalchoice_string);
                                   //alert(descprtn);
                                    var string = quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+sendfinalprice+"##"+item_id+"##"+finalchoice_string;

                                    //alert(string);
                                    newarr.push(string);
                                }
                                else
                                {
                                    // if (splitarr[i] != "")
                                    // {
                                        newarr.push(splitarr[i]);
                                    //}
                                    
                                }
                            }

                            //alert(newarr.length);


                            //alert(newarr);

                            var newarrjoin = newarr.join("=====");

                            //alert(newarrjoin);



                            $.cookie("prevsName", newarrjoin);
                               
                               
                              
                            //alert(mode1);
                           
                            
                            //alert('storeVal - '+$.cookie("mode"));
                         $.cookie("edit_indexval","");
                        }
                        else
                        {

                            
                            if (typeof $.cookie("prevsName") == "undefined") {
            
                            var string = quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+sendfinalprice+"##"+item_id+"##"+finalchoice_string+"=====";
                            }else{

                                var string = $.cookie("prevsName")+quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+sendfinalprice+"##"+item_id+"##"+finalchoice_string+"=====";
                            }

                           // alert(string);

                             $.cookie("prevsName", string);
                             if (typeof $.cookie("count") == "undefined")
                            {
                            $.cookie("count", 1);
                            }else{
                            $.cookie("count", parseInt($.cookie("count"))+1);
                            }
                            //alert(parseInt($.cookie("count")));
                            

                        }
                        $("#countval").val = parseInt($.cookie("count"));

          //                   document.getElementById('show_cart').style.display='';
          //                   document.getElementById('show_cart1').style.display='';
          //                   document.getElementById('show_cartpayment').style.display='';
    						// document.getElementById('show_cartcnctinfo').style.display='';
          //                   document.getElementById('cartval').style.display='';
          //                   document.getElementById('cartval1').style.display='';
          //                   document.getElementById('cartval2').style.display='';
          //                   $(".footer-cart .cart_value").text(parseInt($.cookie("count")));

                        
                        //alert(string);
                        //$.cookie("prevsName", "");
                        
                       

                        document.getElementById("totpriceval").value="";
            //alert('@@@@');
                         
                         document.getElementById('choiceval').value="";
                        document.getElementById('breadid').value="";
                        document.getElementById('breadtype').value="";
                        document.getElementById('breadprice').value="";
                        document.getElementById('choicesval').value="";
                        document.getElementById('choicesid').value="";
                        document.getElementById('choicestype').value="";
                        document.getElementById('choicesprice').value="";
                        document.getElementById('sauceval').value="";
                        document.getElementById('sauceid').value="";
                        document.getElementById('saucetype').value="";
                        document.getElementById('sauceprice').value="";

                        document.getElementById('proteinval').value="";
                        document.getElementById('proteinid').value="";
                        document.getElementById('proteintype').value="";
                        document.getElementById('proteinprice').value="";

                        document.getElementById('extrasprices').value="";
                         document.getElementById('extrasvalue').value="";
                         document.getElementById('extrasnames').value="";
                         document.getElementById('extrasprices_toppings').value="";
                         document.getElementById('extrasvalue_toppings').value="";
                         document.getElementById('extrasnames_toppings').value="";
                        document.getElementById('breadname').value="";
                        document.getElementById('saucename').value="";
                        document.getElementById('proteinname').value="";
                        document.getElementById('choicesoptname').value="";
                        document.getElementById("add_priceval").value="";
                        document.getElementById('specialinsttext').value="";
                        selectedLanguage = [];
                        selectedPrice = [];
                        selectedExtrasName=[];

                        selectedLanguage_toppings = [];
                        selectedPrice_toppings = [];
                        selectedExtrasName_toppings=[];


                        basketredirect();
                }
            }


            function edit_item(item_id,item_price,item_name,description,limit_choice,quantity,edit_index,final_string)
            {
                //alert('final_string - '+final_string);
                // alert('description - '+description);
                //alert('item_name - '+item_name);
                //alert('quantity - '+quantity);

                
                 var expl_final_string=final_string.split('@@');
                    var actual_string=expl_final_string[0];
                    //alert('actual_string - '+actual_string);
                     var selectedval_arr=new Array();
                    if(actual_string!='blank'){
                       
                        var explode_actual_string=actual_string.split('~~~~');
                        for(var i=0;i<explode_actual_string.length;i++){
                            var eachstr=explode_actual_string[i];
                            var explode_eachstr=eachstr.split('^');
                            if(explode_eachstr[5]=='true'){
                                //alert('radio');
                                var arrstr=explode_eachstr[0]+'####'+explode_eachstr[1]+'####'+explode_eachstr[3]+'####'+explode_eachstr[2]+'####'+explode_eachstr[4]+'####'+explode_eachstr[5];
                                radioarray.push(arrstr);
                                // document.getElementById(explode_eachstr[2]+'div').innerHTML=explode_eachstr[4];
                                selectedval_arr.push(explode_eachstr[2]+":"+explode_eachstr[4]);

                            }else{
                                //alert('checkbox');
                                var group=explode_eachstr[5];
                                var catg=explode_eachstr[2];
                                var elementsstr=explode_eachstr[0];
                                var elementsstrchoiceid=explode_eachstr[1];
                                var elementsstrprice=explode_eachstr[3];
                                var elementsstname=explode_eachstr[4];

                                //document.getElementById(catg+'div').innerHTML=elementsstname;
                                selectedval_arr.push(catg+":"+elementsstname);

                                var elementsstr_explode=elementsstr.split(',');
                                var elementsstrchoiceid_explode=elementsstrchoiceid.split(',');
                                var elementsstrprice_explode=elementsstrprice.split(',');
                                var elementsstname_explode=elementsstname.split(',');
                                var countelements=elementsstr_explode.length;
                                var temparray=new Array();
                                for(var j=0;j<countelements;j++){
                                    var arrstr=elementsstr_explode[j]+'####'+elementsstrchoiceid_explode[j]+'####'+elementsstrprice_explode[j]+'####'+catg+'####'+elementsstname_explode[j]+'####'+group;
                                    //alert('arrstr - '+arrstr);
                                    temparray.push(arrstr);
                                }
                                var outerstr=temparray.join('******');
                                //alert('outerstr - '+outerstr);
                                ckboxarray.push(outerstr);
                            }
                        }


                    }
                    //alert('selectedval - '+selectedval_arr.join('======'));
                    var selectedval=selectedval_arr.join('======');

                    var choice_limit=expl_final_string[3];

                $.cookie("mode", "edit");
                $.cookie("edit_indexval", edit_index);
                $.cookie("description",description);
                var descp=expl_final_string[1];
                var descp_split=descp.split('p$$$');

               // alert('edititem-desc = '+descp_split[1]);
                var descgghhp=descp_split[1];
                if(descgghhp=="undefined"){
                    descgghhp="";
                }
                $.cookie("descriptionsp",descgghhp);
                $.cookie("foodname",item_name);
                document.getElementById('specialinsttext').value=descgghhp;

            //     //alert('limit_choice - '+split_val[len-1]);

            //     document.getElementById('choice_clicked').value="";
            // document.getElementById('bread_clicked').value="";
            // document.getElementById('sauce_clicked').value=""; 
            // document.getElementById('protein_clicked').value=""; 
                $("#food_div").fadeOut(500,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF" class="loaderotherimage" style="position:absolute; width:32px; height:25px; top:50%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
                 });
             
            //     //alert("5 - "+description);
            //     //alert('edit - extrasname - '+document.getElementById('extrasnames').value);

                //alert('ggggg');
                //alert(item_id);
                    $.ajax({
                    type: "POST",
                    url: "http://esolzdemos.com/lab1/whatthetrucks/addtoBasket_new2.php",
                    data: "itemid="+item_id+"&choiceLimit="+limit_choice+"&itemname="+item_name+"&price="+item_price+"&description="+encodeURIComponent(description)+"&quantity="+quantity+"&mode=edit&final_selected_string="+final_string+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+encodeURIComponent(document.getElementById('extrasnames').value)+"&toppingsname="+encodeURIComponent(document.getElementById('extrasnames_toppings').value)+"&proteinname="+document.getElementById('proteinname').value+"&selectedval="+selectedval,
                    cache: false,
                    success: function(html){
                    var allval=html;
                    var splitres=allval.split('^^^^^^');
                    document.getElementById('mandatory').value=splitres[1];
                    //alert(allval);
                     $('#food_div').fadeOut(500,function(){
                     $(this).html(splitres[0]);
                     $(this).fadeIn(500);
                    $('.delete').click(function() {
                    $(this).parent().parent().remove();
                    });
                     });

                   
                    var choiceLimitsplit=choice_limit.split('$$$');
                    document.getElementById('choice_limit').value=choiceLimitsplit[1];
                    $.cookie("item_id",item_id);
                    //alert(allval);
                    
                      
                        
                     //$('#food_div').html(allval);
                    }
                    });
                    $.mobile.changePage("#addItem");
                  


            }


            // function edit_item(item_id,item_price,item_name,description,limit_choice,quantity,edit_index,final_string)
            // {
            //     //alert(final_string);
            //     //alert('description :'+description);
            //     //alert('limit_choice - '+limit_choice);
            //     $.cookie("foodname",item_name);

           
            //     $.cookie("item_id",item_id);

            //     //alert(final_string);

            //     //alert(edit_index);
            //     $("#food_div").html(" ");
            //     // alert(item_id);
            //     // alert(item_price);
            //     // alert(item_name);
            //     // alert(description);
            //     // alert(limit_choice);

            //     var final_selected_string=final_string;
            //     //alert(final_selected_string);

            //     var split_val=final_selected_string.split("@@");
            //     var len=split_val.length;
                
            //     //alert(split_val[len-2]);
            //     if(split_val[len-3]=="undefined"){
            //         document.getElementById('specialinsttext').value="";
            //     }else{
            //         document.getElementById('specialinsttext').value=split_val[len-3];
            //     }

            //    // alert(split_val);

            //     for(var i = 0; i < split_val.length; i++)
            //     {

            //        //alert('split_val[i] ------- '+split_val[i]);
            //         var split_val_new=split_val[i].split("^");

            //         //alert(split_val_new[0]);
            //        // alert(split_val_new[2]);
            //         if(split_val_new[2]=="Bread")
            //         {
            //             //alert(split_val_new[4]);
            //              document.getElementById('breadid').value=split_val_new[1];
            //              document.getElementById('breadtype').value=split_val_new[2];
            //              document.getElementById('breadprice').value=split_val_new[3];
            //              document.getElementById('choiceval').value=split_val_new[0];
            //              document.getElementById('breadname').value=split_val_new[4];

            //         }
            //         if(split_val_new[2]=="Choice")
            //         {
            //              document.getElementById('choicesid').value=split_val_new[1];
            //              document.getElementById('choicestype').value=split_val_new[2];
            //              document.getElementById('choicesprice').value=split_val_new[3];
            //              document.getElementById('choicesval').value=split_val_new[0];
            //              document.getElementById('choicesoptname').value=split_val_new[4];
            //         }
            //         if(split_val_new[2]=="Sauce")
            //         {
            //              document.getElementById('sauceid').value=split_val_new[1];
            //              document.getElementById('saucetype').value=split_val_new[2];
            //              document.getElementById('sauceprice').value=split_val_new[3];
            //              document.getElementById('sauceval').value=split_val_new[0];
            //              document.getElementById('saucename').value=split_val_new[4];
            //         }
            //         if(split_val_new[2]=="Protein")
            //         {
            //              document.getElementById('proteinid').value=split_val_new[1];
            //              document.getElementById('proteintype').value=split_val_new[2];
            //              document.getElementById('proteinprice').value=split_val_new[3];
            //              document.getElementById('proteinval').value=split_val_new[0];
            //              document.getElementById('proteinname').value=split_val_new[4];
            //         }
            //         if(split_val_new[2]=="extras")
            //         {
            //             //alert(split_val_new[4]);
            //              document.getElementById("extrasvalue").value=split_val_new[0];
            //              document.getElementById("extrasnames").value=split_val_new[4];
            //              document.getElementById("extrasprices").value=split_val_new[3];

            //              var extrasid_split=split_val_new[0].split(",");
            //              var extrasname_split=split_val_new[4].split(",");
            //              var extrasprice_split=split_val_new[3].split(",");

            //              var a=0;
            //              var b=0;
            //              var c=0;

            //              for(a=0;a<extrasid_split.length;a++){
            //                 selectedLanguage.push(extrasid_split[a]);
            //              }

            //              for(b=0;b<extrasname_split.length;b++){
            //                 selectedExtrasName.push(extrasname_split[b]);
            //              }

            //              for(c=0;c<extrasprice_split.length;c++){
            //                 selectedPrice.push(extrasprice_split[c]);
            //              }
            //              // selectedLanguage
            //              // selectedPrice
            //              // selectedExtrasName

            //              // document.getElementById('sauceid').value=split_val_new[1];
            //              // document.getElementById('saucetype').value=split_val_new[2];
            //              // document.getElementById('sauceprice').value=split_val_new[3];
            //              // document.getElementById('sauceval').value=split_val_new[0];
            //              // document.getElementById('saucename').value=split_val_new[4];
            //         }

            //         if(split_val_new[2]=="toppings")
            //         {
            //             //alert("toppings - "+split_val_new[0]);
            //              document.getElementById("extrasvalue_toppings").value=split_val_new[0];
            //              document.getElementById("extrasnames_toppings").value=split_val_new[4];
            //              document.getElementById("extrasprices_toppings").value=split_val_new[3];

            //              var extrasid_split_toppings=split_val_new[0].split(",");
            //              var extrasname_split_toppings=split_val_new[4].split(",");
            //              var extrasprice_split_toppings=split_val_new[3].split(",");

            //              var a=0;
            //              var b=0;
            //              var c=0;

            //              for(a=0;a<extrasid_split_toppings.length;a++){
            //                 selectedLanguage_toppings.push(extrasid_split_toppings[a]);
            //              }

            //              for(b=0;b<extrasname_split_toppings.length;b++){
            //                 selectedExtrasName_toppings.push(extrasname_split_toppings[b]);
            //              }

            //              for(c=0;c<extrasprice_split_toppings.length;c++){
            //                 selectedPrice_toppings.push(extrasprice_split_toppings[c]);
            //              }
            //              // selectedLanguage
            //              // selectedPrice
            //              // selectedExtrasName

            //              // document.getElementById('sauceid').value=split_val_new[1];
            //              // document.getElementById('saucetype').value=split_val_new[2];
            //              // document.getElementById('sauceprice').value=split_val_new[3];
            //              // document.getElementById('sauceval').value=split_val_new[0];
            //              // document.getElementById('saucename').value=split_val_new[4];
            //         }
            //         //alert(split_val_new[3]);
            //     }


            //     $.cookie("mode", "edit");
            //     $.cookie("edit_indexval", edit_index);

            //     // var newstr=new Array();
            //     // var arr=$.cookie("prevsName");
            //     // //alert(arr);
            //     // var splitarr = arr.split("=====");
            //     // for(var i=0;i<splitarr.length;i++)
            //     // {

                   
            //     //     alert()
                   
            //     // }
                

            //     var itemdescptop=split_val[len-2];
            //     if(itemdescptop=="undefined"){
            //         itemdescptop="";
            //     }
            //     $.cookie("description",itemdescptop);

            //     //alert('limit_choice - '+split_val[len-1]);

            //     document.getElementById('choice_clicked').value="";
            // document.getElementById('bread_clicked').value="";
            // document.getElementById('sauce_clicked').value=""; 
            // document.getElementById('protein_clicked').value=""; 
            //     $("#food_div").fadeOut(500,function(){
            //      $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
            //      $(this).show("fast");
            //      });
             
            //     //alert("5 - "+description);
            //     //alert('edit - extrasname - '+document.getElementById('extrasnames').value);
            //         $.ajax({
            //         type: "POST",
            //         url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
            //         data: "itemid="+item_id+"&choiceLimit="+limit_choice+"&itemname="+item_name+"&price="+item_price+"&description="+encodeURIComponent(itemdescptop)+"&quantity="+quantity+"&mode=edit&final_selected_string="+final_string+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+encodeURIComponent(document.getElementById('extrasnames').value)+"&toppingsname="+encodeURIComponent(document.getElementById('extrasnames_toppings').value)+"&proteinname="+document.getElementById('proteinname').value,
            //         cache: false,
            //         success: function(html){
            //         var allval=html;
            //         document.getElementById('choice_limit').value=split_val[len-1];
            //         //alert(allval);
                    
            //            $('#food_div').fadeOut(500,function(){
            //          $(this).html(allval);
            //          $(this).fadeIn(500);
            //         $('.delete').click(function() {
            //         $(this).parent().parent().remove();
            //         });
            //          });
                       
            //          //$('#food_div').html(allval);
            //         }
            //         });

            //          $.mobile.changePage("#addItem");
            // }
	    

        function changepickup()
        {
        	$("#change_pickup").html(" ");
        	var selectedTextchkout=$.cookie("selectedText");
        	var selectedTextchkout_split=selectedTextchkout.split(',');
        	var lefttext=selectedTextchkout_split[0];
        	lefttext=lefttext.replace(/\s+$/g, '');
     		lefttext=lefttext.replace(/^\s+/g, '');

     		var righttext=selectedTextchkout_split[1];
        	righttext=righttext.replace(/\s+$/g, '');
     		righttext=righttext.replace(/^\s+/g, '');

     		$('#leftpartpickup').html('<b>'+lefttext+'</b>');
     		$('#rightpartpickup').html('<b>'+righttext+'</b>');
            $.mobile.changePage("#pickUp");

            $("#change_pickup").fadeOut(500,function(){
                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 // $(this).show("fast");
                 $(this).html('<img src="img/loader.GIF" class="loaderotherimage"  style="position:absolute; width:32px; height:25px; top:58%;  transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
             });
            
            var showname_pickup=$.cookie("showname");
            var showaddr_pickup=$.cookie("showaddr");
            var showtime_pickup=$.cookie("showtime");

            $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/changePickup_ipad.php",
            data: "showname_pickup="+showname_pickup+"&showaddr_pickup="+encodeURIComponent(showaddr_pickup)+"&showtime_pickup="+showtime_pickup,
            cache: false,
            success: function(html){
            var allval=html;

            //alert(allval);
            //$('select').selectmenu({ corners: false });
               $('#change_pickup').fadeOut(500,function(){
             $(this).html(allval);
             $(this).fadeIn(500);
            $('.delete').click(function() {
            $(this).parent().parent().remove();
            });

             $('select').selectmenu();
                $('select').selectmenu('refresh', true);
             });

              
               
             //$('#food_div').html(allval);
            }
            });
        }

         function gotoCheckout()
           {
               //alert("hiiii");
               
               var pickuptimeval=document.getElementById("pickUpTime").value;
               //alert(pickuptimeval);
               document.getElementById("WTTpickup").value=pickuptimeval;
               //alert(pickuptimeval);
               document.getElementById('show_pick').innerHTML="Pickup Time : "+pickuptimeval;
               //$("#show_pick").html(pickuptimeval);
               $.cookie("pickuptm", pickuptimeval);
               $.mobile.changePage("#checkOut");
           }

           function success_alert1()
           {

           	//alert('oooo');

           		

                 
                // var new_min=minorderamt.toFixed(2);

                // alert(new_min);
                // alert('tot_price  -  '+tot_price);
                // alert('final_price  -  '+final_price);
                // alert('minorderamt  -  '+minorderamt);
                // return false;

                if (document.getElementById('checkout_clicked').value=="")
                {
                   //alert("Please Select some Items");
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Please Select some Items";
                    document.getElementById('alertbtn'+pageid).click();
                    return false;
                }else{

                	var tot_price=$('.total_final').html();
	           		tot_price=tot_price.replace(/(<([^>]+)>)/ig,"");

	                var final_price=Number(tot_price.replace("$",""));

	                var minorderamt=Number($.cookie("minorderamt"));

		                if(final_price<minorderamt)
		                {
		                    
		                    var pageid=$.mobile.activePage.attr('id');
		                    document.getElementById('popup'+pageid).innerHTML=$.cookie("showname")+" has a $"+minorderamt+" minimum order amount.";;
		                    document.getElementById('alertbtn'+pageid).click();
		                    //alert($.cookie("showname")+" has a $"+minorderamt+" minimum order amount.");
		                    return false;
		                }

		           		var continuepickup="";
		             	$.ajax({
		                type: "POST",
		                url: "http://esolzdemos.com/lab1/whatthetrucks/timezonecheck.php",
		                data: "timelimit="+$.cookie("showtime"),
		                cache: false,
		                        success: function(html){

		                        	//alert(html);
		                        	//html="no";
		                        	///chtml="no;"
		                            continuepickup=html;
		                            if(html=="yes"){
		                                success_alert();
		                            }else{
		                                if(document.getElementById("WTTpickup").value!=""){
		                                    success_alert();
		                                }else{
		                                	//alert('Please Select Pickup Time');
		                                	var pageid=$.mobile.activePage.attr('id');
		                                	//alert(pageid);
		                                    document.getElementById('popup'+pageid).innerHTML="Please Select Pickup Time";
		                                    document.getElementById('alertbtn'+pageid).click();
		                                	//alert('Please Select Pickup Time');
											//changepickup();

		                                    
		                                }
		                            }
		                            
		                        }
		                });
		}
           }

           function success_alert()
           {
           		//alert('pppppp');

           		var splitvals=document.getElementById("final_sendstr").value.split('==');
                var name_final=splitvals[0];
                var email_final=splitvals[1];
                var addr_final=splitvals[2];
                var city_final=splitvals[3];
                var state_final=splitvals[4];
                var zipcode_final=splitvals[5];
                var address_id=splitvals[6];
                var phone1_final=splitvals[7];

                var finalpaymentstr=document.getElementById('final_sendstr_payment').value;
                var finalpaymentstr_split=finalpaymentstr.split('==');
                var finalcardtype=finalpaymentstr_split[2];
                finalcardtype=finalcardtype.replace(/'+$/,'');


                if(email_final=="")
                {
                    //alert("Please add contact info");
                    
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Please add contact info";
                    document.getElementById('alertbtn'+pageid).click();
                    return false;
                }
                else if(finalcardtype=="")
                {
                    //alert("Please add payment info");
                    
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Please add payment info";
                    document.getElementById('alertbtn'+pageid).click();
                    return false;
                }
                else
                {


                    $.mobile.changePage("#Confirmation");

                

                var profileId = $.cookie("profId");
                var busId = $.cookie("busnsid");
                var product_title = $.cookie("showname");
                var delivery_charge = $.cookie("deliveryCharge");
                var delivery_time = $.cookie("deliveryTime");
                var min_order_amount = $.cookie("minorderamt");
                var location = $.cookie("showaddr");
                var location_id = $.cookie("loc_id");
                var showtime = $.cookie("showtime");
                //var item_id = $.cookie("item_id");
                var string=encodeURIComponent($.cookie("prevsName"));
                var taxes = $.cookie("taxRate");
                var finalchoice_string = $.cookie("finalchoice_string");
                var pickup_time= $.cookie("pickuptime");
                if(typeof $.cookie("tip_amount") == "undefined" ){
                    var tip_amt="0";
                }else{
                    var tip_amt=$.cookie("tip_amount");
                }
                //alert(tip_amt);
                //alert('success_alert final_sendstr - '+document.getElementById("final_sendstr").value);
                
                //document.getElementById("final_sendstr").value="";
                //alert(document.getElementById('payment_info').value);
            

                var emailIdfrst = "";
                var paymentProfIdfrst = "";
                var paymentInfofrst = "";


                var emailIdsecnd = "";
                var paymentProfIdsecnd = "";
                var paymentInfosecnd = "";



                if(emailIdfrst=="")
                {
                    var fianlem=emailIdsecnd;
                }
                else
                {
                    var fianlem=emailIdfrst;
                }

                if(paymentProfIdfrst=="")
                {
                    var fianlppf=paymentProfIdsecnd;
                }
                else
                {
                    var fianlppf=paymentProfIdfrst;
                }

                if(paymentInfofrst=="")
                {
                    var fianlpInfo=paymentInfosecnd;
                }
                else
                {
                    var fianlpInfo=paymentInfofrst;
                }

                //alert(paymentProfId);
                // var location_id = $.cookie("loc_id");
                // var location_id = $.cookie("loc_id");

                 var total=$( "#final_price" ).val();
                 var pickup=$.cookie("pickuptm");
                 var comment=$.cookie("descriptiontm");

                 //alert(finalchoice_string);
                //alert(document.getElementById('payment_info').value);

                //alert('tttt - '+document.getElementById('final_sendstr_payment').value);
                
                //alert(finalcardtype);
                //alert('pickuptm - '+$.cookie("pickuptm"));
                document.getElementById('selected_truck_name').value="";
                $("#success_confirmation").fadeOut(10,function(){
                     // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                     // $(this).show("fast");
                     $(this).html('<img src="img/loader.GIF"  style="position:absolute; width:32px; height:25px; top:50%; left:50%; transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
                });



                // alert('finalchoice_string - '+finalchoice_string);
                // alert('string - '+$.cookie("prevsName"));
                

                 $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/final_checkout_ipad.php",
                data: "profileId="+profileId+"&busId="+busId+"&total="+total+"&product_title="+product_title+"&delivery_charge="+delivery_charge+"&delivery_time="+delivery_time+"&min_order_amount="+min_order_amount+"&location="+encodeURIComponent(location)+"&location_id="+location_id+"&showtime="+showtime+"&taxes="+taxes+"&string="+string+"&finalchoice_string="+finalchoice_string+"&emailId="+fianlem+"&paymentProfId="+fianlppf+"&pickup_time="+pickup+"&fianlpInfo="+document.getElementById('payment_info').value+"&tip_amt="+tip_amt+"&name_final="+name_final+"&email_final="+email_final+"&addr_final="+addr_final+"&city_final="+city_final+"&state_final="+state_final+"&zipcode_final="+zipcode_final+"&expdate="+document.getElementById("payment_expirydate").value+"&address_id="+address_id+"&phone1_final="+phone1_final+"&comment="+comment+"&finalcardtype="+finalcardtype,
                cache: false,
                        success: function(html){
                        var allval=html;
                        //alert(html);
                        //alert(allval);
                        //alert(allval);

                       $.cookie("prevsName", "");
                       $.cookie("descriptionsp",'');
                        $.cookie("descriptiontm",'');
                        document.getElementById("WTTpickup").value="";
                        if(typeof $.cookie("pickuptm") != "undefined"){
                                                $.cookie("pickuptm",'undefined');
                                         }
                        $.cookie("count", 0);
    

                    $('#success_confirmation').fadeOut(10,function(){
                                                $(this).html(allval);
                                                $(this).fadeIn(10);
                                               $('.delete').click(function() {
                                                           $(this).parent().parent().remove();
                                                   });
                                            });


                    $('.basktRed').html("");
                     $('.totalval').html("");
                     $('#basktRed_basket').html("");
                     $('.checkouttop').html("");
                     $('.checkoutbottom').html("");
                      document.getElementById("redirect_settings_val").value="";
                      document.getElementById('spclinst_checkout_text').value="";
                          document.getElementById("redirect_settings_val_cnct").value="";
                          document.getElementById('checkout_clicked').value="";
                          document.getElementById('contactinfotruckname').innerHTML="";
                          document.getElementById('paymentmethodtruckname').innerHTML="";
						
						// document.getElementById('payment_info').value="";
                        // //recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                        // document.getElementById('payment_expirydate').value="";
                        // document.getElementById('payment_info').value="";
                        
                                   
                                     // $('#success_confirmation').fadeOut(500,function(){
                                        //  $(this).html(allval);
                                        //  $(this).fadeIn(500);

                                        //          $('.right-small-box').click(function() {
                                        //              $(this).parent().parent().find(".collapsed-schedule").slideToggle();
                                        //          }); 
                                        
                                     // });
                                    }


                            });
                            }

           }


	    function testIslogin(){

               //alert('hihihihi');
               if (typeof $.cookie("prevsName") == "undefined" || $.cookie("prevsName") =="")
                {
                   //alert("Please Select some Items");
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Please Select some Items";
                    document.getElementById('alertbtn'+pageid).click();
                }
                else
                {

                	var prevsnamestr=$.cookie("prevsName");
			        var prevsnamestr_arr=prevsnamestr.split('=====');
			        var cnt=0;
			        var totalprice=0;
			        for(cnt=0;cnt<prevsnamestr_arr.length;cnt++){
			            var price=0;
			            if(prevsnamestr_arr[cnt]!=""){
			                var totalstr_arr=prevsnamestr_arr[cnt].split('##');
			                //alert(totalstr_arr[5]);
			                price=Number(totalstr_arr[5]);
			                totalprice=Number(totalprice)+Number(price);
			            }
			        }
			        var minorderamt=$.cookie("minorderamt");
			        var showname=$.cookie("showname");
			        //alert('totalprice  -  '+totalprice);
			        //return false;

			        if(totalprice<Number(minorderamt)){
			            //alert('order amount should be minimum this ');
			           //  $.mobile.changePage("#"+pageid);
			           var pageid=$.mobile.activePage.attr('id');
			            document.getElementById('popup'+pageid).innerHTML=showname+" has a $"+minorderamt+" minimum order amount.";
			            document.getElementById('alertbtn'+pageid).click();
			           //alert(showname+" has a $"+minorderamt+" minimum order amount.");
			            return false;
			        }else{
			        	if(($.cookie("islogin")== "yes") && ((typeof $.cookie("prevsName") != "undefined") || $.cookie("prevsName") != "") && fb_html!="")
                    {
                    	//alert('pppppp');
                    	//var cookieval=$.cookie("selectedText");
                    	//alert('selectedvalcookie - '+$.cookie("selectedText"));
                    	var selectedTextchkout=$.cookie("selectedText");
                    	var selectedTextchkout_split=selectedTextchkout.split(',');
                    	var lefttext=selectedTextchkout_split[0];
                    	lefttext=lefttext.replace(/\s+$/g, '');
                 		lefttext=lefttext.replace(/^\s+/g, '');

                 		var righttext=selectedTextchkout_split[1];
                    	righttext=righttext.replace(/\s+$/g, '');
                 		righttext=righttext.replace(/^\s+/g, '');

                 		$('#pickupcheckout').html('Pickup: '+$.cookie("pickuptime")+' min');
                 		$('#mincheckout').html('$'+$.cookie("minorderamt")+' Minimum');
                 		$('#leftpartcheckout').html(lefttext);
                 		$('#rightpartcheckout').html(righttext);
                 		//alert('pickuptime - '+$.cookie("pickuptime"));

                 		//alert('final_sendstr - '+document.getElementById("final_sendstr").value);
                 		var final_sendstr=document.getElementById("final_sendstr").value;
                 		if(final_sendstr!="'=============='"){
                 			var splitvals=final_sendstr.split('==');
		                    var name_final=splitvals[0];
		                    var email_final=splitvals[1];
		                    var addr_final=splitvals[2];
		                    var city_final=splitvals[3];
		                    var state_final=splitvals[4];
		                    var zipcode_final=splitvals[5];
		                    var address_id=splitvals[6];
		                    var phone1_final=splitvals[7];

		                    name_final=name_final.replace("'","");
                    		phone1_final=phone1_final.replace("'","");

                    		document.getElementById('checkoutcontactinfo').innerHTML='<span style="font-weight: 600; font-size: larger;">'+name_final+'</span><br/><span>'+email_final+'</span><br/><span>'+addr_final+'</span><br/><span>'+city_final+', '+state_final+' '+zipcode_final+'</span><br/><span>'+phone1_final+'</span>';

                 		}else{
                 			document.getElementById('checkoutcontactinfo').innerHTML='Add Contact Information';
                 		}

                 		//alert('final_sendstr_payment - '+document.getElementById("final_sendstr_payment").value);
                 		var final_sendstr_payment=document.getElementById("final_sendstr_payment").value;
                 		if(final_sendstr_payment!="'===='"){
                 			 var splitvals=final_sendstr_payment.split('==');
		                    var last_four=splitvals[0];
		                    var expdate=splitvals[1];
		                    var pmtcardtype=splitvals[2];

		                    //alert(last_four);

		                    var lastfour_new=last_four.replace("'","");
		                    var expdate_new=expdate.replace("'","");
		                    var pmtcardtype_new=pmtcardtype.replace("'","");

		                    document.getElementById('checkoutcardpayment').innerHTML='<span>'+pmtcardtype_new+': **** **** **** '+lastfour_new+'</span><br><span>Exp: '+expdate_new+'</span>';
                 		}else{
                 			document.getElementById('checkoutcardpayment').innerHTML='Add Payment Information';
                 		}

                 		var showname=$.cookie("showname");
			            var showaddr=$.cookie("showaddr");
			            var showtime=$.cookie("showtime");
			            var pickuptime=$.cookie("pickuptime");
			            var minorderamt=$.cookie("minorderamt");
			            

			            // alert(showaddr);
			            // alert(showtime);

			            //alert($.cookie("prevsName"));
			            $.cookie("mode", "");
			            $('.checkoutbottom').html('');


			            $(".checkouttop").fadeOut(500,function(){
		                 // $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
		                 // $(this).show("fast");
		                 $(this).html('<img src="img/loader.GIF"  style="position:absolute; width:32px; height:25px; top:50%; left:50%; transform:translate(-50%, -50%); -webkit-transform:translate(-50%, -50%); -o-transform:translate(-50%, -50%); -ms-transform:translate(-50%, -50%); -mz-transform:translate(-50%, -50%);" >');
				 $(this).show("fast");
		                 });
			            //alert(showaddr);
			            $.ajax({
			                type: "POST",
			                url: "http://esolzdemos.com/lab1/whatthetrucks/basketpageipadcheckout.php",
			                data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt+"&taxRate="+$.cookie("taxRate"),
			                cache: false,
			                        success: function(html){
			                        var allval=html;
			                       // alert('allval  ---  '+allval);
			                        var split = allval.split("++++++++++");
			                        // //alert(split[1]);

			                        // //alert(allval);
			                       
			                         $('.checkouttop').fadeOut(2,function(){
			                             $(this).html(split[0]);
			                             $(this).fadeIn(2);
			                            $('.delete').click(function() {
			                                        $(this).parent().parent().remove();
			                                });
			                            
			                         });

			                          $('.checkoutbottom').fadeOut(2,function(){
			                             $(this).html(split[1]);
			                             $(this).fadeIn(2);
			                            
			                            
			                         });

			                        //  $.cookie("descriptionsp","");

			                          //$.mobile.changePage("#truckDetails");
			                         //$( "table" ).table( "refresh" );
			                        }


			                });

							if($.cookie("pickuptm") == "undefined"){
								document.getElementById('show_pick').innerHTML="Change Pickup Time";
							}

							if($("#card_Type").val()=="Visa"){
                        document.getElementById('visaimg').className="ui-btn visa-btn";
                    }else if($("#card_Type").val()=="American Express"){
                        document.getElementById('ameximg').className="ui-btn americanExpress-btn";

                    }else if($("#card_Type").val()=="Master"){
                        document.getElementById('masterimg').className="ui-btn masterCard-btn";

                    }else if($("#card_Type").val()=="Discover"){
                        document.getElementById('discimg').className="ui-btn discover-btn";

                    }

                    $("#card_Type").val('');
                    $("#nameOnCard").val('');
                    $("#cardNumber").val('');
                    $("#expMonth").val('');
                    //$('#expMonth>option:eq(0)').attr('selected', true);
                    // $('select').selectmenu();
                    //         $('select').selectmenu('refresh', true);
                    $("#expYear").val('');
                    $("#CVVCode").val('');

                    $("#Name").val('');
                    $("#Address").val('');
                    $("#City").val('');
                   //$("#State").val('');
                   $("#State").val($("#State option:first").val());
                   $("#ZIP").val('');
                    $("#Mobile").val('');
                    $("#Email").val('');
                    document.getElementById('checkout_clicked').value="1";

					document.getElementById("redirect_settings_val_cnct").value="";
					document.getElementById('spclinst_checkout_text').value="";

                         $.mobile.changePage("#checkOut");
                         //alert('basktRed_basket  -  '+document.getElementById('basktRed_basket').innerHTML);

                         if(document.getElementById('basktRed_basket').innerHTML == ""){

                         	var showname=$.cookie("showname");
		                    var showaddr=$.cookie("showaddr");
		                    var showtime=$.cookie("showtime");
		                    var pickuptime=$.cookie("pickuptime");
		                    var minorderamt=$.cookie("minorderamt");

		                    // alert(showaddr);
		                    // alert(showtime);

		                    //alert($.cookie("prevsName"));
		                    $.cookie("mode", "");
		                    //alert(showaddr);
		                    //alert('hhhhhhh');
		                    $.ajax({
		                        type: "POST",
		                        url: "http://esolzdemos.com/lab1/whatthetrucks/basketpage_basket.php",
		                        data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt,
		                        cache: false,
		                                success: function(html){
		                                var allval=html;
		                               // alert('ooooo');
		                                //alert(allval);
		                               
		                                 $('#basktRed_basket').fadeOut(2,function(){
		                                     $(this).html(allval);
		                                     $(this).fadeIn(2);
		                                    $('.delete').click(function() {
		                                                $(this).parent().parent().remove();
		                                        });
		                                    
		                                 });

		                                 

		                                 $.cookie("descriptionsp","");

		                                  // $.mobile.changePage("#Basket");
		                                 //$( "table" ).table( "refresh" );
		                                }


		                        });
                         }
                    }

                    else
                    {
                        //alert(3);
                        frompageval="checkOut";
                        $.mobile.changePage("#logIn");
                    }
			        }

                    
                }
              


            }

            function gotonewcard()
            {
                $('select').selectmenu();
                $('select').selectmenu('refresh', true);
                $.mobile.changePage("#newCard");
            }

            function assing_value(value)
            {
                
                $("#card_Type").val(value);
            }

            function loadpaymentmethod()
            {
                document.getElementById('homepagebtn').href="#"+$.mobile.activePage.attr('id')
                document.getElementById('homepagebtn').click();
                $.mobile.changePage("#paymentMethod");
                if($("#card_Type").val()=="Visa"){
                        document.getElementById('visaimg').className="ui-btn visa-btn";
                    }else if($("#card_Type").val()=="American Express"){
                        document.getElementById('ameximg').className="ui-btn americanExpress-btn";
                        
                    }else if($("#card_Type").val()=="Master"){
                        document.getElementById('masterimg').className="ui-btn masterCard-btn";
                        
                    }else if($("#card_Type").val()=="Discover"){
                        document.getElementById('discimg').className="ui-btn discover-btn";
                        
                    }

                $("#card_Type").val('');
                    $("#nameOnCard").val('');
                    $("#cardNumber").val('');
                    $("#expMonth").val('');
                    //$('#expMonth>option:eq(0)').attr('selected', true);
                    // $('select').selectmenu();
                    //         $('select').selectmenu('refresh', true);
                    $("#expYear").val('');
                    $("#CVVCode").val('');
            }

            function submit_card(){

           //alert("hello");

           
           var redirect_val=document.getElementById("redirect_settings_val").value;
         //  alert('redirect_val  -  '+redirect_val);

           //$("#checkoutPage").html('');
           //$("#checkoutPage").html('');

        var d = new Date();
        var n = d.getFullYear();
       var cardtype=$("#card_Type").val();
       //alert(cardtype);
       var cardname=$("#nameOnCard").val();
       var cardNumber=$("#cardNumber").val();
       var expMonth=$("#expMonth").val();
       var expYear=$("#expYear").val();
       var CVVCode=$("#CVVCode").val();
       var profileId = $.cookie("profId");
       var checkout_string=encodeURIComponent($.cookie("prevsName"));

       //alert('cardtype  -  '+cardtype);

       //alert(checkout_string);

       //"string="+$.cookie("prevsName")

       //alert(profileId);

       //alert(CVVCode);
      // alert('cardtype - '+cardtype);
       if (cardtype.search(/\S/)==-1) {
       //alert('Card Type is mandatory');
       var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card Type is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
       
       if(cardtype=="American Express"){
            if (cardname.search(/\S/)==-1) {
       //alert('Card Name is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card Name is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (cardNumber.search(/\S/)==-1) {
       //alert('Card Number is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card Number is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if(cardNumber.length!=15){
        //alert('Card number should be 15 digits');
         var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card number should be 15 digits";
        document.getElementById('alertbtn'+pageid).click();
        return false;
    }
         else if (expMonth.search(/\S/)==-1) {
       //alert('Exp month is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp month is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (expMonth>12 || expMonth<1) {
       //alert('Exp month is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp month should be between 1 to 12";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (expYear.search(/\S/)==-1) {
      //alert('Exp year is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp year is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (expYear<n) {
       //alert('Exp year should be greater than current year');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp year should be greater than current year";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (CVVCode.search(/\S/)==-1) {
       //alert('CVV Code is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="CVV Code is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (CVVCode.length!=4) {
       //alert('CVV code should be 3 digits');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="CVV code should be 4 digits";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else{

            myCardNo = document.getElementById('cardNumber').value;
            myCardType = "AmEx";
            //alert('myCardType  -  '+myCardType);
                  if (checkCreditCard (myCardNo,myCardType)) {
                  	//alert('continue1');
                    // $("#checkoutPage").fadeOut(500,function(){
                    //    $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                    //   $(this).show("fast");
                    //   });
                      globalcardtype=cardtype;

       $.ajax({
             type: "POST",
             url: "http://esolzdemos.com/lab1/whatthetrucks/CustomerPaymet.php",
             data: "cardtype="+cardtype+"&cardname="+cardname+"&cardNumber="+cardNumber+"&expMonth="+expMonth+"&expYear="+expYear+"&CVVCode="+CVVCode+"&profileId="+$.cookie("profId")+"&checkout_string="+checkout_string,
             cache: false,
                     success: function(html){
                        //alert('html - '+html);

                        

                    // $("#card_Type").val('');
                    // $("#nameOnCard").val('');
                    // $("#cardNumber").val('');
                    // $("#expMonth").val('');
                    // $("#expYear").val('');
                    // $("#CVVCode").val('');

                     //alert(allval);

                      var allvalsplit=html.split('@@@@@@@@');
                     var allval=allvalsplit[1];
                     if(allval=="-1"){
                        var pageid=$.mobile.activePage.attr('id');
                        document.getElementById('popup'+pageid).innerHTML="Sorry we were unable to add the credit card. Please try again";
                        document.getElementById('alertbtn'+pageid).click();
                        //alert('Sorry we were unable to add the credit card. Please try again');
                        return false;
                     }
                     var four_last=cardNumber.substr(cardNumber.length - 4);
                        var yr_mnth=expYear+"-"+expMonth;
                        if(cardtype=="American Express"){
                            cardtype="AMEX";
                        }
                        document.getElementById("final_sendstr_payment").value="'"+four_last+'=='+yr_mnth+'=='+cardtype+"'";

                     

                     //document.getElementById("exist_payment").value="1";
                     recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                     //alert('submit_card - '+redirect_val);
                     if(redirect_val!='fromSettingscards')
                     {
                        //alert('1');
                           testIslogin();

                         // $.mobile.changePage("#checkOut");
                         //  //$('#checkoutPage').html(allval);
                            
                         //      $('#checkoutPage').fadeOut(500,function(){
                         //          $(this).html(allval);
                         //          $(this).fadeIn(500);
                         //         $('.delete').click(function() {
                         //                     $(this).parent().parent().remove();
                         //             });
                         //      });
                     }
                     else
                     {
                            //$.mobile.changePage("#checkOut");
                            //alert('2');
                            //loadpaymentmethod();
                            var pageid=$.mobile.activePage.attr('id');
                                            //document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
                                            document.getElementById('alertbtnadd'+pageid).click(); 
                           setTimeout(loadpaymentmethod, 2000);


                     }
                                 

                      }
             });
                  } 
                  else {
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML=ccErrors[ccErrorNo];
                    document.getElementById('alertbtn'+pageid).click();
                    //alert (ccErrors[ccErrorNo]);
                    return false;
                }

                      

         } 
       }else{
        if (cardname.search(/\S/)==-1) {
       //alert('Card Name is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card Name is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (cardNumber.search(/\S/)==-1) {
      // alert('Card Number is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card Number is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if(cardNumber.length!=16){
       // alert('Card number should be 16 digits');
         var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card number should be 16 digits";
        document.getElementById('alertbtn'+pageid).click();
        return false;
    }
         else if (expMonth.search(/\S/)==-1) {
       //alert('Exp month is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp month is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (expMonth>12 || expMonth<1) {
       //alert('Exp month is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp month should be between 1 to 12";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (expYear.search(/\S/)==-1) {
       //alert('Exp year is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp year is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (expYear<n) {
       //alert('Exp year should be greater than current year');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp year should be greater than current year";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (CVVCode.search(/\S/)==-1) {
       //alert('CVV Code is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="CVV Code is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (CVVCode.length!=3) {
       //alert('CVV code should be 3 digits');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="CVV code should be 3 digits";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else{

                     myCardNo = document.getElementById('cardNumber').value;
                     if(cardtype=="Master"){
                        myCardType = "MasterCard";
                    }else{
                        myCardType = cardtype;
                    }
            		//alert('myCardType  -  '+myCardType);
                  if (checkCreditCard (myCardNo,myCardType)) {
                  	//alert('continue2');
       //              $("#checkoutPage").fadeOut(500,function(){
       //                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
       //                $(this).show("fast");
       //                });
                      globalcardtype=cardtype;

       $.ajax({
             type: "POST",
             url: "http://esolzdemos.com/lab1/whatthetrucks/CustomerPaymet.php",
             data: "cardtype="+cardtype+"&cardname="+cardname+"&cardNumber="+cardNumber+"&expMonth="+expMonth+"&expYear="+expYear+"&CVVCode="+CVVCode+"&profileId="+$.cookie("profId")+"&checkout_string="+checkout_string,
             cache: false,
                     success: function(html){
                        //alert('html - '+html);

                        

                    // $("#card_Type").val('');
                    // $("#nameOnCard").val('');
                    // $("#cardNumber").val('');
                    // $("#expMonth").val('');
                    // $("#expYear").val('');
                    // $("#CVVCode").val('');

                     //alert(allval);
                     
                      var allvalsplit=html.split('@@@@@@@@');
                     var allval=allvalsplit[1];
                     if(allval=="-1"){
                        var pageid=$.mobile.activePage.attr('id');
                        document.getElementById('popup'+pageid).innerHTML="Sorry we were unable to add the credit card. Please try again";
                        document.getElementById('alertbtn'+pageid).click();
                        return false;
                     }
                     var four_last=cardNumber.substr(cardNumber.length - 4);
                        var yr_mnth=expYear+"-"+expMonth;
                        if(cardtype=="American Express"){
                            cardtype="AMEX";
                        }
                        document.getElementById("final_sendstr_payment").value="'"+four_last+'=='+yr_mnth+'=='+cardtype+"'";

                     

                     //document.getElementById("exist_payment").value="1";
                     recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                     //alert('submit_card - '+redirect_val);
                     if(redirect_val!='fromSettingscards')
                     {
                        //alert('1');
                           testIslogin();

                         // $.mobile.changePage("#checkOut");
                         //  //$('#checkoutPage').html(allval);
                            
                         //      $('#checkoutPage').fadeOut(500,function(){
                         //          $(this).html(allval);
                         //          $(this).fadeIn(500);
                         //         $('.delete').click(function() {
                         //                     $(this).parent().parent().remove();
                         //             });
                         //      });
                     }
                     else
                     {
                            //$.mobile.changePage("#checkOut");
                            //alert('2');
                           // loadpaymentmethod();
                            var pageid=$.mobile.activePage.attr('id');
                                            //document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
                                            document.getElementById('alertbtnadd'+pageid).click(); 
                           setTimeout(loadpaymentmethod, 2000);


                     }
                                 

                      }
             });
                  } 
                  else {
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML=ccErrors[ccErrorNo];
                    document.getElementById('alertbtn'+pageid).click();
                    //alert (ccErrors[ccErrorNo]);
                    return false;
                }

         } 
       }

       }

       function opendiv()
            {

                 $('select').selectmenu();
                $('select').selectmenu('refresh', true);
                $.mobile.changePage("#newAddress");

                // $p=jQuery.noConflict();
                 
                //     alert("hiiii");
                //     var availableTags = [ "c++", "java", "php", "coldfusion", "javascript", "asp", "ruby" ];
                //     alert(availableTags);

                // $p( "#tags" ).autocomplete({

                   
                // source: availableTags
                // });
           
         
               
            }

            function gotonewcard()
            {
                $('select').selectmenu();
                $('select').selectmenu('refresh', true);
                $.mobile.changePage("#newCard");
            }

            function add_addressinfo(){

           	//alert("hiiiii");
            //document.getElementById("addcnctbtn").disabled = true;

               var redirect_val_add=document.getElementById("redirect_settings_val_cnct").value;
               //alert("add_addressinfo "+redirect_val_add);

				var Name=$("#Name").val();
				var Address=$("#Address").val();
				var City=$("#City").val();
				var State=$("#State").val();
				var ZIP=$("#ZIP").val();

				//alert(ZIP);

				var Mobile=$("#Mobile").val();
				var Email=$("#Email").val();
				var profileId = $.cookie("profId");
				var Email1 = $.cookie("Email1");
				var Name1 = $.cookie("Name1");
				var Address1 = $.cookie("Address1");
				var City1 = $.cookie("City1");
				var State1 = $.cookie("State1");
				var Zipcode1 = $.cookie("Zipcode1");
				var Phone1 = $.cookie("Phone1");
				var checkout_string=encodeURIComponent($.cookie("prevsName"));

				//alert(Mobile);




				if(Name.search(/\S/) == -1){
				//alert('Name is mandatory');
				var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
				document.getElementById('alertbtn'+pageid).click();
				return false;
				}
				else if(Address.search(/\S/) == -1){
				//alert('Address is mandatory');
				var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="Address is mandatory";
				document.getElementById('alertbtn'+pageid).click();
				return false;
				}
				else if(City.search(/\S/) == -1){
				//alert('City is mandatory');
				var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="City is mandatory";
				document.getElementById('alertbtn'+pageid).click();
				return false;
				}
				else if(State.search(/\S/) == -1){
				//alert('State is mandatory');
				var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="State is mandatory";
				document.getElementById('alertbtn'+pageid).click();
				return false;
				}
				else if(ZIP.search(/\S/) == -1){
				//alert('ZIP is mandatory');
				var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="ZIP is mandatory";
				document.getElementById('alertbtn'+pageid).click();
				return false;	
				}
				else if(ZIP.length!=5){
				    //alert('ZIP should be 5 digits');
				var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="ZIP should be 5 digits";
				document.getElementById('alertbtn'+pageid).click();
				}
				else if(Mobile.search(/\S/) == -1){
				//alert('Mobile is mandatory');
				var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="Mobile is mandatory";
				document.getElementById('alertbtn'+pageid).click();
				return false;
				}
				else if(Mobile.length!=12){
				    //alert('Phone should be 10 digits');
				    var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="Phone should be 10 digits";
				document.getElementById('alertbtn'+pageid).click();
				}
				else if(Email.search(/\S/) == -1){
				//alert('Email is mandatory');
				var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="Email is mandatory";
				document.getElementById('alertbtn'+pageid).click();
				return false;
				}
				else if(!validateEmail(Email))
				{
				                   //alert('Provide a valid email');
				                  //jAlert('Invalid Email');
				                  var pageid=$.mobile.activePage.attr('id');
				document.getElementById('popup'+pageid).innerHTML="Invalid Email";
				document.getElementById('alertbtn'+pageid).click();
				return false;
				}

				else{
				Mobile=deformatphone();
				//alert('Mobile - '+Mobile);
				        
				$.ajax({
				      type: "POST",
				      url: "http://esolzdemos.com/lab1/whatthetrucks/Add_addressInfo.php",
				      data: "Name="+Name+"&Address="+Address+"&City="+City+"&ZIP="+ZIP+"&Mobile="+Mobile+"&Email="+Email+"&State="+State+"&profileId="+profileId+"&checkout_string="+checkout_string+"&Email1="+Email1+"&Name1="+Name1+"&Address1="+Address1+"&City1="+City1+"&State1="+State1+"&Zipcode1="+Zipcode1+"&Phone1="+Phone1,
				      cache: false,
				              success: function(html){
				              	//alert(html);
				                
				                Mobile=returnphoneformat(Mobile);
				                document.getElementById("final_sendstr").value="'"+Name+'=='+Email+'=='+Address+'=='+City+'=='+State+'=='+ZIP+'=='+profileId+'=='+Mobile+"'";

				                //alert(Name);
				                //document.getElementById("dis_name").innerHTML=Name;
				                // $("#dis_name").html(Name);
				                //     $("#dis_mail").html(Email);
				                //     $("#dis_add").html(Address);
				                //     $("#dis_add_del").html(Address1+','+State1+','+Zipcode1);
				                                //document.getElementById("exist_add").value=="1";


				                                   recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
				                                   // var final_string=document.getElementById("final_sendstr").value;
				                                   //         alert("final_stradd"+final_string);
				                                   
				               var allval=html;
				               //alert(allval);
				               // $("#Name").val('');
				               //  $("#Address").val('');
				               //  $("#City").val('');
				               // $("#State").val('');
				               // $("#ZIP").val('');
				               //  $("#Mobile").val('');
				               //  $("#Email").val('');
				               //alert(allval);
                                   if(redirect_val_add!='fromSettingscontact')
                                     {
                                       
                                           testIslogin();

                                           

                                        
                                     }
                                     else
                                     {

                                     	//loadcontactinfo();
                                           var pageid=$.mobile.activePage.attr('id');
                                            //document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
                                            document.getElementById('alertbtnadd'+pageid).click(); 
                                          setTimeout(loadcontactinfo, 2000);


                                     }

				               }
				      });
				}



				}



				function loadcontactinfo()
	            {
	                document.getElementById('homepagebtn').href="#"+$.mobile.activePage.attr('id')
	                document.getElementById('homepagebtn').click();
	                $.mobile.changePage("#contactInfo");
	                $("#Name").val('');
	                $("#Address").val('');
	                $("#City").val('');
	               //$("#State").val('');
	               $("#State").val($("#State option:first").val());
	               $("#ZIP").val('');
	                $("#Mobile").val('');
	                $("#Email").val('');
	                // document.getElementById("addcnctbtn").disabled = false;
	            }



				function validateEmail(elementValue)
			    {
			      var pattern = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/😕?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/😕?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
			     return pattern.test(elementValue);
			    }

			    function redirecttologin()
	            {
	                frompageval=$.mobile.activePage.attr('id');
	                //alert('frompageval  -  '+frompageval);
	                //alert(4);
	                $.mobile.changePage("#logIn");
	                 //$("#mypanel").panel("close");
	            }

	            function redirecttohome()
	            {
	                document.getElementById('whereYou').value="";
	                 $('.adreesval').html('');
	                $.mobile.changePage("#home");
	                 //$("#mypanel").panel("close");

	                 // if(typeof $.cookie("pickuptm") != "undefined"){
	                 //            $.cookie("pickuptm",'undefined');
	                 //     }

	            }

	            function closeok()
	            {
	                //alert('close');
	                document.getElementById('homepagebtn').href="#"+$.mobile.activePage.attr('id')
	                document.getElementById('homepagebtn').click();
	                var pageid=$.mobile.activePage.attr('id');
	                if(document.getElementById('popup'+pageid).innerHTML=="Please Select Pickup Time"){
	                    changepickup();
	                    return false;
	                }
	            }

	            function gotocontactinfo()
	            {
	            	document.getElementById("redirect_settings_val_cnct").value="";
	            	$.mobile.changePage("#contactInfo");
	            }

	            function gotopaymentmethod()
	            {
	            	document.getElementById("redirect_settings_val").value="";
	            	$.mobile.changePage("#paymentMethod");
	            }

	            function delete_email(id,obj)
	            {
	                //alert('id - '+id);
	                jConfirm('Do you want to delete this?', 'Confirmation Dialog', function(r) {

	                    


	                    if(r==true)
	                    {
	                        //obj.parentNode.parentNode.parentNode.removeChild(obj.parentNode.parentNode);
	                        document.getElementById('delete_recall_div').value="1";
	                        var rowid=obj.id;
	                        var heartid=rowid.replace("del","");
	                        if(Number(heartid)>0){
	                            var heartid_num=Number(heartid)-1;
	                            var heartid_str=heartid_num+'heart';
	                            //document.getElementById(heartid_str).className = "top-icon-1 heart-icon active";
	                        }
	                        //alert('rowid - '+rowid);
	                        var pageid=$.mobile.activePage.attr('id');
	                        //document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
	                        document.getElementById('deletebtn'+pageid).click();
	                        // $(rowid).parent().parent().remove();  
	                        $.ajax({
	                        type: "POST",
	                        url: "http://esolzdemos.com/lab1/whatthetrucks/delete_address.php",
	                        data: "del_id="+id,
	                        cache: false,
	                        success: function(html){
	                        var allval=html;
	                        document.getElementById("exist_add").value="0";
	                        
	                        
	                        


	                        // document.getElementById("final_sendstr").value="";
	                        //  alert(document.getElementById("final_sendstr").value);
	                        recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));


	                        
	                           
	                         //$('#food_div').html(allval);
	                        }
	                        });
	                    }


	               
	                });
	               
	            }

	            function delete_payment(delid,obj)
	            {
	                jConfirm('Do you want to delete this?', 'Confirmation Dialog', function(r) {

	                    

	                    if(r==true)
	                    {
	                        //obj.parentNode.parentNode.parentNode.removeChild(obj.parentNode.parentNode);
	                        document.getElementById('delete_recall_div').value="1";
	                        var rowid=obj.id;
	                        // alert(rowid);
	                        var heartid=rowid.replace("delp","");
	                        if(Number(heartid)>0){
	                            var heartid_num=Number(heartid)-1;
	                            var heartid_str=heartid_num+'heart1';
	                            //document.getElementById(heartid_str).className = "top-icon-1 heart-icon active";
	                        }
	                        var pageid=$.mobile.activePage.attr('id');
	                        //document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
	                        document.getElementById('deletebtn'+pageid).click();
	                        
	                        $.ajax({
	                        type: "POST",
	                        url: "http://esolzdemos.com/lab1/whatthetrucks/delete_payment.php",
	                        data: "del_id="+delid,
	                        cache: false,
	                        success: function(html){
	                        var allval=html;
	                       //alert(allval);

	                        //alert(allval);
	                        
	                        document.getElementById("exist_payment").value="0";
	                        // obj.parentNode.parentNode.parentNode.removeChild(obj.parentNode.parentNode);
	                        recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
	                        
	                           
	                         //$('#food_div').html(allval);
	                        }
	                        });
	                    }
	               
	                });
	            }

	            function back_function_cnct()
	            {
	                var redirect_val_add=document.getElementById("redirect_settings_val_cnct").value;
	                //alert(redirect_val_add);

	                if(redirect_val_add!='fromSettingscontact' && document.getElementById('checkout_clicked').value=="1")
	                 {
	                    
	                       //testIslogin();
	                       $.mobile.changePage("#checkOut");

	                       

	                    
	                 }
	                 else
	                 {
	                    
	                       //show_settings();
	                       $.mobile.changePage("#settings");
	                       document.getElementById("redirect_settings_val_cnct").value="";


	                 }
	            }

	            function back_function_pay()
	            {
	                var redirect_val_add=document.getElementById("redirect_settings_val").value;
	                //alert(redirect_val_add);
	                //alert(redirect_val_add);
	                // if (typeof $.cookie("count") == "undefined"){
	                //     $.mobile.changePage("#settings");
	                // }

	               //else if(redirect_val_add!='fromSettingscards')
	               if(redirect_val_add!='fromSettingscards' && document.getElementById('checkout_clicked').value=="1")
	                 {
	                   //alert(1);
	                       //testIslogin();

	                       $.mobile.changePage("#checkOut");

	                    
	                 }
	                 else
	                 {
	                    //alert(2);
	                     //show_settings();
	  					
	  					$.mobile.changePage("#settings");
	                    document.getElementById("redirect_settings_val").value="";


	                 }

	                //window.history.back();
	            }

	            function clear_text_checkout()
	            {
	                $('#speInstruction_checkout').val('');
	                document.getElementById("spcl_inst_checkout").style.display="none";
	            }

	             function show_cross_checkout()
	            {
	               

	                document.getElementById("spcl_inst_checkout").style.display="block";
	            }

	            function save_desc_checkout()
	            {
	                $.mobile.changePage("#checkOut");

	                var descriptionval=document.getElementById("speInstruction_checkout").value;
	                document.getElementById('spclinst_checkout_text').value=descriptionval;
	            }
	            //var a=1;

	    //         function callthis(val)
	    //         {
	    //         	// alert('oooooo');
	    //         	// return false;
	    //         	//a=a+5;
	    //         	//document.getElementById('expmonthdiv').style.display='none';
	    //         	var e = document.getElementById("expMonth");
					// var strUser = e.options[e.selectedIndex].value;
					// //document.getElementById('testdiv').innerHTML=strUser;
	    //         	if(val==n){
	    //         		var expmonthinnerhtml="";
	    //         		if(strUser==''){
	    //         			//$('select').selectmenu();
     //            			//$('select').selectmenu('refresh', true);
	    //         			expmonthinnerhtml+="<option value='' selected='selected'>Select</option>";
	    //         		}else{
	    //         			expmonthinnerhtml+="<option value=''>Select</option>";
	    //         		}
	            		
			  //           //expmonthinnerhtml+="<label for='expMonth'>Exp. Month</label><select name='expMonth' id='expMonth'><option value=''>Select</option>";
			  //           for(var m=mn;m<=12;m++){
			  //           	var opt='';
			  //           	if(m<10){
			  //           		opt='0'+m;
			  //           	}else{
			  //           		opt=m;
			  //           	}
			  //           	if(strUser==opt){
			  //           		 expmonthinnerhtml+='<option value="'+opt+'" selected="selected">'+opt+'</option>';
			  //           	}else{
			  //           		 expmonthinnerhtml+='<option value="'+opt+'">'+opt+'</option>';
			  //           	}
			               
			  //           }
			  //          // expmonthinnerhtml+="</select>";
			  //           document.getElementById('expMonth').innerHTML=expmonthinnerhtml;
	    //         		//document.getElementById('testdiv').innerHTML="present";
	    //         	}else{
	    //         		//document.getElementById('testdiv').innerHTML="present";
	    //         		var expmonthinnerhtml="";
	    //         		if(strUser==''){
	    //         			expmonthinnerhtml+="<option value='' selected='selected'>Select</option>";
	    //         		}else{
	    //         			expmonthinnerhtml+="<option value=''>Select</option>";
	    //         		}
			  //          // expmonthinnerhtml+="<label for='expMonth'>Exp. Month</label><select name='expMonth' id='expMonth'><option value=''>Select</option>";
			  //           for(var m=1;m<=12;m++){
			  //           	var opt='';
			  //           	if(m<10){
			  //           		opt='0'+m;
			  //           	}else{
			  //           		opt=m;
			  //           	}
			  //               if(strUser==opt){
			  //           		 expmonthinnerhtml+='<option value="'+opt+'" selected="selected">'+opt+'</option>';
			  //           	}else{
			  //           		 expmonthinnerhtml+='<option value="'+opt+'">'+opt+'</option>';
			  //           	}
			  //           }
			  //           //expmonthinnerhtml+="</select>";
			  //           document.getElementById('expMonth').innerHTML=expmonthinnerhtml;
	    //         	}
	    //         }

		
						
        </script>

    </body>
</html>
