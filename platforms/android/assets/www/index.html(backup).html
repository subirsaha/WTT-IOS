<!DOCTYPE html>
<!--
    Copyright (c) 2012-2014 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (theCard
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writin
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link href='http://fonts.googleapis.com/css?family=Lato:400,700,300|Open+Sans:400,700,600,300' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.css" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />

         <script src="js/jquery.js" type="text/javascript"></script>
        <script src="js/jquery.ui.draggable.js" type="text/javascript"></script>

        
        <!-- Core files -->
        <script src="js/jquery.alerts.js" type="text/javascript"></script>
        <link href="css/jquery.alerts.css" rel="stylesheet" type="text/css" media="screen" />

         <!-- <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css"> -->
          <!-- <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
          <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script> -->

        <title>Hello World</title>



<style type="text/css">
               /*body {
                       font-family: sans-serif;
                       font-size: 14px;
               }*/

                /* Custom dialog styles */


            #popup_container.style_1 {
                font-family: Georgia, serif;
                color: #A4C6E2;
                background: #005294;
                border-color: #113F66;
            }
            
            #popup_container.style_1 #popup_title {
                color: #FFF;
                font-weight: normal;
                text-align: left;
                background: #76A5CC;
                border: solid 1px #005294;
                padding-left: 1em;
            }
            
            #popup_container.style_1 #popup_content {
                background: none;
            }
            
            #popup_container.style_1 #popup_message {
                padding-left: 0em;
            }
            
            #popup_container.style_1 INPUT[type='button'] {
                border: outset 2px #76A5CC;
                color: #A4C6E2;
                background: #3778AE;
            }
            
            #popup_container{
                min-width: 230px;
                border: solid 3px #999;
                top: 200.5px;
            }

            #popup_message {
            padding-left: 40px;
            }
       </style>

        <script src="http://maps.googleapis.com/maps/api/js?sensor=false&amp;libraries=places" type="text/javascript"></script>
       

        <script type="text/javascript">
               function initialize() {
                       var input = document.getElementById('whereYou');
                       var autocomplete = new google.maps.places.Autocomplete(input);



                       

                    }
               google.maps.event.addDomListener(window, 'load', initialize);



       </script>


       <script>

     
     //     $p=jQuery.noConflict();
     //     $p(document).ready(function(){
        
     //        alert($p( "#tags" ).val());
     //        alert("hiiii");
     //        var availableTags = [ "c++", "java", "php", "coldfusion", "javascript", "asp", "ruby" ];
     //        alert(availableTags);

     //    $p( "#tags" ).autocomplete({

           
     //    source: availableTags
     //    });
   
 
     // });
  
  </script>


    </head>
    <body onload="onBodyLoad();" >
        
        <a href="" id="homepagebtn" style="display:none;"></a>
        <div data-role="page" id="home" style="padding-top:10px;"> 
            <header data-role="header" data-tap-toggle="false" data-hide-during-focus="" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="index.html" title="What The Trucks">What The Trucks</a></h2>
                <a href="index.html"  data-position="left" class="" data-theme="none"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="home-content">
                    <a onclick="redirecttohome()" class="home-link"><img src="img/truck-logo.png" alt="" /></a>
                    <hr />
                    <h1>Find a Food Truck</h1>



                    <form role="form" class="home-search-box">
                        <div class="form-custom">
                            <label for="whereYou">Where are you?</label>
                            <div class="enter-your-address">
                                <input type="text" data-clear-btn="true" autocomplete="on" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Enter your address" id="whereYou" class="" data-theme="none" style="padding-right: 45px;"  />
                                <button data-role="button" type="button" class="btn-search" onclick="seeAdreesa()"><span class="arrow-icon"></span></button>
                            </div>
                        </div>
                        <div class="form-custom">
                            <label for="foodTruckName">Search by truck <small>(optional)</small> </label>
                            <div class="enter-your-address">
                                <input type="text" data-clear-btn="true" placeholder="Food truck name" id="foodTruckName" data-theme="none" class="enterAddress"  />
                            </div>
                        </div>
                        <div class="search-box-center">
                            <button data-role="button" type="button" class="btn-submit" id="submit-btn" data-transition="flow"></button>
                             <a href="#popupExamplehome" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnhome"></a>
                             
                        </div>
                    </form>
                </div>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-hide-during-focus="true" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="show_cart"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplehome" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuphome"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>
        
    
        <div data-role="page" id="searchResult">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" class="header_style">
                <h2><a href="#searchResult" title="What The Trucks">Search Results</a></h2>
                <a onclick="back_function_result();" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
                <div class="ui-bar ui-bar-b">
                    <div class="top-blue-bar" data-position="fixed" id="adreesval">
                        
                    </div>
                </div>
            </header><!-- /header -->
            <section data-role="content">
                <div class="inner-content" id="searchrslt">
                    <!-- This .bar will be loop -->
                    <!-- This .bar will be loop -->
                </div>
                <a href="#popupExamplesearchResult" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnsearchResult"></a>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="cartval"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplesearchResult" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupsearchResult"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>

        </div>
        
        
        <div data-role="page" id="truckDetails">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#searchResult" title="What The Trucks">Menu</a></h2>
                <a href="#searchResult" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
                <div class="ui-bar ui-bar-b">
                    <div class="top-blue-bar" data-position="fixed" id="adreesval1">
                        <!-- <h2>75 Crosstown Ave</h2> -->
                    </div>
                </div>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="inner-content">
                    <div id="searchrsltDetlsdropdown">
                     </div>
                    <div id="searchrsltDetls">
                     </div>
                </div>
                <a href="#popupExampletruckDetails" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtntruckDetails"></a>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart" id="cart_onclick"><span class="cart_value" style="display:none;" id="cartval1"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExampletruckDetails" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuptruckDetails"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
<div data-role="popup" id="truckdetailsPopupNot" data-theme="a" class="ui-corner-all">
                <div class="popUp">
                   <img src="img/sorry.png" alt="" class="sorry" />
                    <p><strong>This food truck is not registered with What The Trucks.</strong></p>
                       
                       <div class="text-center" style="padding: 10px 0;">
                           <img src="img/envelope.png" alt="" width="50" />
                           <img src="img/right-arrow2.png" alt="" width="30" style="margin: 10px 0;" />
                           <img src="img/truck-image.png" alt="" width="60" />
                       </div>
                       
                       <div class="text-center">
                           <a class="req-truck" href="mailto:example@mail.com">Request this Truck</a>    
                       </div>
                       
                       
                </div>
                <div class="popUpFooter">
                    <a href="javascript:void(0)" data-rel="back">OK</a>
                </div>
           </div>​

<div data-role="popup" id="truckdetailsPopup" data-theme="a" class="ui-corner-all">
                        <div class="popUp">
                            
                            <div class="listGroup">
                                <div class="bar bar-default">
                                    <form action="" method="post">
                                        <div class="increase-btn">
                                            <div class="show_itemname"></div>
                                            <label for="name">Quantity</label>
                                            <div class="right">
                                                <div class="dec button">-</div>
                                                <input type="text" data-clear-btn="true" data-role="none" data-theme="none" value="1" id="Quantity" name="french-hens" disabled>
                                                <div class="inc button">+</div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="bar bar-default">
                            <label>Sauce</label>
                            <div class="ui-grid-a">
                                <div class="ui-block-a">
                                    <input type="radio" id="MediaumSalsa" name="Saucerd" data-theme="a" value="Mediaum Salsa" />
                                    <label for="MediaumSalsa">Mediaum Salsa</label>
                                </div>
                                <div class="ui-block-b">
                                    <input type="radio" id="HotSalsa" name="Saucerd" data-theme="a" value="Hot Salsa"/>
                                    <label for="HotSalsa">Hot Salsa</label>
                                </div>
                            </div>
                        </div>
                                <div class="bar bar-default">
                            <label style="width: 100%">Special Instruction (Additional Changes May Apply)</label>
                            <textarea id="descprtn"></textarea>
                        </div>
                            </div>
                            
                        </div>
                        <div class="popUpFooter">
                            <a href="#" data-rel="back">Add To Order</a>
                        </div>
                    </div>
        </div>


<!--            <div data-role="popup" id="truckdetailsPopup" data-theme="a" class="ui-corner-all">
                <div class="popUp text-left">
                   
                    <form class="listGroup" action="" method="post">
                        <div class="bar bar-default">
                            <div class="increase-btn">
                                <label for="name">Quantity</label>
                                <div class="right">
                                    <div class="dec button">-</div>
                                
                                    <input type="text" data-role="none" data-theme="none" value="1" id="Quantity" name="french-hens" disabled />
                                    <div class="inc button">+</div>
                                </div>
                            </div>
                        </div>
                        <div class="bar bar-default">
                            <label>Sauce</label>
                            <div class="ui-grid-a">
                                <div class="ui-block-a">
                                    <input type="radio" id="MediaumSalsa" name="Saucerd" data-theme="a" value="Mediaum Salsa" />
                                    <label for="MediaumSalsa">Mediaum Salsa</label>
                                </div>
                                <div class="ui-block-b">
                                    <input type="radio" id="HotSalsa" name="Saucerd" data-theme="a" value="Hot Salsa"/>
                                    <label for="HotSalsa">Hot Salsa</label>
                                </div>
                            </div>
                        </div>
                        <div class="bar bar-default">
                            <label style="width: 100%">Special Instruction (Additional Changes May Apply)</label>
                            <textarea id="descprtn"></textarea>
                        </div>
                    </form>
                   
                </div>
                <div class="popUpFooter">
                    <a href="javascript:void(0)" data-rel="back" onclick="storeVal();">OK</a>
                </div>
          
       </div>
         -->
        
        <div data-role="page" id="termsOfUse">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#" title="What The Trucks">Terms of Use</a></h2>
                <a onclick="back_function();" data-rel="back" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="inner-content">
                    <div class="text-content">
                        
                        <!-- <iframe src="https://dookans.com/terms_of_use.html" height="100%" width="100%" style="border:none;font-size:80%;"></iframe> -->
                            <h2>LEGAL TERMS OF USE</h2>
                
<h5>Please read the following Terms of Use carefully before using Dookans or any of the Sites linked through the Dookans.com web site (“Sites”).  For inquiries relating to any food orders, see our Return Policy (insert link here).  For information on advertising or promoting your restaurant through Dookans, visit Dookans Sign-up Form for Restaurants (insert link here).
</h5> 
<br>
<h5>1.  Applicability & Acceptance of These Terms of Use</h5> 
<p> <p class="tab"> By viewing, using, accessing, browsing, or submitting any content or material on the Sites, you agree to these Terms of Use as a binding legal agreement between you and Dookans, without limitation or qualification. The term "you" or "You" shall refer to any person or entity who views, uses, accesses, browses or submits any content or material to the Sites. <br> <br>
If you do not agree to these Terms of Use, then you may not use the Sites. Dookans reserves the right to modify these Terms of Use at any time without prior notice. 
<br><br>
You agree that each visit you make to the Sites shall be subject to the then-current Terms of Use, and continued use of the Sites now or following modifications in these Terms of Use confirms that you have read, accepted, and agreed to be bound by such modifications.
</p> <br>
<h5>2. User License</h5>
 
    <p><strong><p class="tab">a. Scope - </strong>Dookans grants you permission (which may be revoked at any time for any reason or no reason) to view the Sites and to download, email, share via social networking or print individual pages from the Sites in accordance with these Terms of Use and solely for your own personal, non-commercial use, provided you do not remove any trademark, copyright or other notice contained on such pages. No other use is permitted. You may not, for example, incorporate the information, content, or other material in any database, compilation, archive or cache. You may not modify, copy, distribute, re-publish, transmit, display, perform, reproduce, publish, reuse, resell, license, create derivative works from, transfer, or sell any information, content, material, software, products or services obtained from the Sites, except as specifically noted above. Except as specifically authorized by Dookans, you may not deep-link to the Sites for any purpose or access the Sites manually or with any robot, spider, web crawler, extraction software, automated process or device to scrape, copy, or monitor any portion of the Sites or any information, content, or material on the Sites. Dookans reserves all of its statutory and common law rights against any person or entity who violates this paragraph. You may not link or frame to any pages of the Sites or any content contained therein, whether in whole or in part, without prior written consent from Dookans. You may like or follow Dookans or share links to the Sites via social networking technology reference on the Sites. Any rights not expressly granted herein are reserved. <br><br>
      <strong><p class="tab">b. User Conduct - </strong>You agree that your use of the Sites and/or services on the Sites is subject to all applicable local, state and federal laws and regulations. You also agree:<br>
   
        <ul>
        
        <li>to comply with US law and local laws or rules regarding online conduct and acceptable material; 
        <li>not to use the Sites or their services or submit content to the Sites if you are under the age of 13;
        <li>not to use the Sites to purchase alcohol unless you and the alcohol recipient are 21 or older and present a valid photo identification(s) verifying your age at the time of alcohol delivery;
        <li>not to access the Sites or services using a third-party's account/registration without the express consent of the account holder;
        <li>not to use the Sites for illegal purposes;
        <li>not to commit any acts of infringement on the Sites or with respect to content on the Sites;
        <li>not to use the Sites to engage in commercial activities apart from sanctioned use of Dookans services;
        <li>not to copy any content, including, but not limited to restaurant menu content and third-party reviews, for republication in print or on-line;
        <li>not to create restaurant reviews or blog entries for or with any commercial or other purpose or intent that does not in good faith comport with the purpose or spirit of the Sites;
        <li>not to attempt to gain unauthorized access to other computer systems from or through the Sites;
        <li>not to interfere with another person's use and enjoyment of the Sites or another entity's use an enjoyment of the Sites;
        <li>not to upload or transmit viruses or other harmful, disruptive or destructive files; and/or
        <li>not to disrupt, interfere with, or otherwise harm or violate the security of the Sites, or any services, system resources, accounts, passwords, servers or networks connected to or accessible through the Sites or affiliated or linked sites (including those of our restaurant partners).    
       <br>
       <br>     
 </ul> </p>
 
       <p><strong><p class="tab"> c. Harm from Commercial Use - </strong>  You agree that the consequences of commercial use or re-publication of content or information from the Sites may be so serious and incalculable that monetary compensation may not be a sufficient or appropriate remedy and that Dookans will be entitled to temporary and permanent injunctive relief to prohibit such use.
      </p>
    
 <br>
<br>

<h5><strong>3. Site Content </strong></h5>
 <p><strong><p class="tab">a. Nature of User Material - </strong> Some of the services offered by Dookans on the Sites allow you and others to post, transmit, display, publish, distribute, or otherwise submit public user generated material including, but not limited to, restaurant reviews and blog entries, to the Sites (collectively, "Submissions"). You agree not to create any Submission that:
 <br>
<br>
<ul>
 <li>contains vulgar, profane, abusive, hateful, or sexually explicit language, epithets or slurs, text in poor taste, inflammatory attacks of a personal, sexual, racial or religious nature, or expressions of bigotry, racism, discrimination or hate;
  <li>is defamatory, threatening, disparaging, inflammatory, false, misleading, deceptive, fraudulent, inaccurate, or unfair, contains gross exaggeration or unsubstantiated claims, violates the privacy rights or right of publicity of any third party, is unreasonably harmful or offensive to any individual or community, contains any actionable statement, or tends to mislead or reflect unfairly on any other person, business or entity;
  <li> unfairly interferes with any third party's uninterrupted use and enjoyment of the Sites;
  <li> advertises, disparages, promotes or offers to trade any goods or services in any manner that does not comport with the purpose or spirit of the Sites, including, but not limited to, negative reviews posted by competing restaurants or allegations of health code violations;
  <li> is intended primarily to promote a cause or movement, whether political, religious or other;
  <li> contains copyrighted content (copyrighted articles, illustrations, images, text, or other content) without the express permission of the owner of the copyrights in the content;
  <li> constitutes, promotes or encourages illegal acts, the violation of any right of any individual or entity, the violation of any local, state, national or international law, rule, guideline or regulation, or otherwise creates liability;
  <li> discloses any personal identifying information relating to or images of a minor without consent of a parent, guardian or educational supervisor;
  <li> infringes any copyright, trademark, patent, trade secret, or other intellectual property right;
  <li> contains viruses or other harmful, disruptive or destructive files;
  <li> harms or is inappropriate for minors to view;
  <li> links to any commercial or other website; and/or
  <li> is not otherwise in compliance with these Terms of Use.
  <br>

  </ul>
  <br>
  <br>
  </p>
 <p> <strong><p class="tab">b. User Representations and Warranties - </strong> Each time you provide a Submission to the Sites, you represent and warrant that you have the right to provide such Submission, which means: 
    <ul>
   <li>you are the author of the Submission, or
   <li>the Submission is not protected by copyright law, or
   <li>you have express permission from the copyright owner to use the Submission in connection with the Sites; and
   <li>you have the right to grant Dookans the license set out in these Terms of Use;
   <li>for restaurant review Submission(s), you have had first hand experience with the subject restaurant; and
   <li>your use of the Sites and Submission(s) do not violate these Terms of Use.
 
    </ul>
    <br>
    </p>
    
   <p><strong><p class="tab">c. User License Grant to Dookans - </strong>You grant Dookans, its affiliates, and related entities a royalty-free, perpetual, irrevocable, non-exclusive right and license to use, copy, modify, display, archive, store, publish, transmit, perform, distribute, reproduce and create derivative works from all Submissions you provide to Dookans in any form, media, software or technology of any kind now existing or developed in the future. Without limiting the generality of the previous sentence, you authorize Dookans to include the Submissions you provide in a searchable format that may be accessed by users of the Sites. You also grant Dookans and its and related entities the right to use any Personally Identifiable Information (as that term is defined in Dookans's Privacy Policy) included with any Submission in connection with the use, reproduction or distribution of such Submission. You also grant Dookans the right to use the Submission and any facts, ideas, concepts, know-how or techniques ("Information") contained in any Submission or communication you send to Dookans for any purpose whatsoever, including but not limited to, developing, manufacturing, promoting and/or marketing products and services. You grant all rights described in this paragraph in consideration of your use of the Sites, without compensation of any sort to you. Dookans does not claim ownership of Submissions.
   
   <br>
   <br>
   
   <strong>d. Disclaimer of Responsibility for Material - </strong>Submissions are not endorsed by Dookans, and do not represent the views of Dookans or its parents, subsidiaries and affiliates, agents, officers or directors. You acknowledge and agree that Dookans does not control all Submissions, and disclaims any responsibility for such Submissions. Dookans specifically disclaims any duty, obligation, or responsibility, to review, screen, refuse to post, remove, or edit any Submissions. In addition, Dookans does not represent or warrant that any other content or information accessible via the Sites is accurate, complete, reliable, current or error-free including the menus, pricing, hours of operation or parking accessibility available from its partner restaurants. Price, description, menu content, product/service availability, parking accessibility and restaurant information are subject to change without notice. Dookans assumes no responsibility or liability for any errors or omissions in the content of the Sites. While Dookans does not charge you for using its services and does not add any additional charges (other than sales taxes and delivery) to the menu items it receives from its participating restaurants, Dookans offers some restaurant menus via other services. The price shown on the menu may include a markup by those services. See a menu discrepancy? Click here to report it.
   <br>
   <br>
   <strong>e. Review & Removal of Material - </strong>Dookans reserves the right (but disclaims any duty, obligation or responsibility) to review, screen, refuse to post, remove in their entirety, or edit (at any time and without prior notice) any Submissions that Dookans believes, in its absolute and sole discretion, may violate Sections 2(b), 3(a), or 3(b) above. You may contact Dookans at support@dookans.com to request removal of a Submission. However, Dookans disclaims any duty, obligation or responsibility to comply with such request except as specifically outlined in this paragraph. Dookans also reserves the right (but disclaims any duty, obligation, or responsibility) to refuse to post, remove in their entirety, or edit (at any time and without prior notice) any Submissions on the Sites for any reason or no reason whatsoever, in its absolute and sole discretion. The Digital Millennium Copyright Act of 1998 (the "DMCA") provides recourse for copyright owners who believe that material appearing on the Internet infringes their rights under US copyright law. If you believe in good faith that Submissions posted by the Sites infringe your copyright, you (or your agent) may send Dookans a notice requesting that the Submission(s) be removed from the Site(s), or access to it blocked. The notice must include the following information: (a) a physical or electronic signature of a person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed; (b) identification of the copyrighted work claimed to have been infringed (or if multiple copyrighted works located on the Sites are covered by a single notification, a representative list of such works); (c) identification of the material that is claimed to be infringing or the subject of infringing activity, and information reasonably sufficient to allow Dookans to locate the Submission(s) Sites; (d) the name, address, telephone number and email address (if available) of the complaining party; (e) a statement that the complaining party has a good faith belief that use of the Submission in the manner complained of is not authorized by the copyright owner, its agent or the law; and (f) a statement that the information in the notification is accurate and, under penalty of perjury, that the complaining party is authorized to act on behalf of the owner of an exclusive right that is allegedly infringed. If you believe in good faith that a notice of copyright infringement has been wrongly filed against you, the DMCA permits you to send us a counter-notice. Notices and counter-notices must meet the then-current statutory requirements imposed by the DMCA; see http://www.loc.gov/copyright for details. Notices and counter-notices with respect to the Sites should be sent to Dookans, LLC, 75 Crosstown Ave, Boston, MA, 02132. Dookans suggests that you consult your legal advisor before filing a notice or counter-notice. Also, be aware that there can be penalties for false claims under the DMCA. We reserve the right to terminate the account of any user who is a copyright infringer 
   <br>
   <br>
   <strong>f. Proprietary Rights - </strong> You acknowledge and agree that the Sites contain proprietary information and content that is protected by intellectual property and other laws, and may not be used except as provided in these Terms of Use without advance, written permission of Dookans. All Dookans Site design, text, graphics, interfaces, and images (and the selection and arrangements thereof), and software, hypertext markup language ("HTML"), scripts, active server pages, and other content and software used in the Sites are ©2012 Dookans, all rights reserved. 
   </p>
<br>  
  <h5>4. Termination and Modifications to the Sites</h5>
  <p class="tab"> Dookans reserves the right, in its sole and absolute discretion, to modify, suspend, or discontinue at any time, with or without notice, the Sites and/or services offered on or through the Sites (or any part thereof), including but not limited to the Sites' features, look and feel, and functional elements and related services.
   </p>
   <br>
   <h5>5. Indemnity</h5>
   <p class="tab"> You agree to indemnify and hold Dookans, its parents, subsidiaries and affiliates, agents, officers, directors, or other employees harmless from any claim, demand, or damage (whether direct, indirect, or consequential), including reasonable attorneys' fees, made by anyone in connection with your use of the Sites, with your Submissions, with any alleged infringement of intellectual property or other right of any person or entity relating to the Sites, your violation of these Terms of Use, and any other acts or omissions relating to the Sites.
   </p>
   <br>
   <h5>6. Disclaimer of Warranties </h5>
   <p class="tab"><strong> THE INFORMATION, CONTENT, PRODUCTS, SERVICES, AND MATERIALS AVAILABLE THROUGH THE SITES (WHETHER PROVIDED BY DOOKANS, YOU, OTHER USERS OR OTHER AFFILIATES/THIRD PARTIES), INCLUDING WITHOUT LIMITATION, FOOD/BEVERAGE ORDERS, SUBMISSIONS, TEXT, PHOTOS, GRAPHICS, AUDIO FILES, VIDEO, AND LINKS, ARE PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED.
   <br>
   <br>
   TO THE MAXIMUM EXTENT PERMITTED BY LAW, DOOKANS DISCLAIMS ALL REPRESENTATIONS AND WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, NONINFRINGEMENT, FREEDOM FROM COMPUTER VIRUS, AND IMPLIED WARRANTIES ARISING FROM COURSE OF DEALING OR COURSE OF PERFORMANCE.
   </strong>
   </p>
   <br>
   <h5>7. Limitation of Liability</h5>
   <p class="tab"><strong> IN NO EVENT SHALL DOOKANS BE LIABLE TO YOU FOR ANY DIRECT, INDIRECT, SPECIAL, PUNITIVE, INCIDENTAL, EXEMPLARY OR CONSEQUENTIAL DAMAGES, OR ANY LOSS OR DAMAGES WHATSOEVER (EVEN IF DOOKANS HAS BEEN PREVIOUSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGES), WHETHER IN AN ACTION UNDER CONTRACT, NEGLIGENCE, OR ANY OTHER THEORY, IN ANY MANNER ARISING OUT OF OR IN CONNECTION WITH THE USE, INABILITY TO USE, PERFORMANCE OF, OR SERVICES PROVIDED ON OR THROUGH THE SITES. DOOKANS ASSUMES NO RESPONSIBILITY AND SHALL NOT BE LIABLE FOR ANY DAMAGES TO, OR VIRUSES THAT MAY INFECT, YOUR COMPUTER EQUIPMENT OR OTHER PROPERTY ON ACCOUNT OF YOUR ACCESS TO, USE OF, BROWSING OF, OR DOWNLOADING OF ANY MATERIAL FROM THE SITES. DOOKANS ASSUMES NO RESPONSIBILITY OR LIABILITY IN ANY MANNER ARISING OUT OF OR IN CONNECTION WITH ANY INFORMATION, CONTENT, PRODUCTS, SERVICES, OR MATERIAL AVAILABLE ON OR THROUGH THE SITES, AS WELL AS ANY THIRD PARTY WEBSITE PAGES OR ADDITIONAL WEBSITES LINKED TO THIS SITE, FOR ANY ERROR, DEFAMATION, LIBEL, SLANDER, OMISSION, FALSEHOOD, OBSCENITY, PORNOGRAPHY, PROFANITY, DANGER, INACCURACY CONTAINED THEREIN OR HARM TO PERSON OR PROPERTY CAUSED THEREBY. THESE LIMITATIONS SHALL APPLY NOTWITHSTANDING ANY FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY. BECAUSE SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES, THE ABOVE LIMITATIONS MAY NOT APPLY TO YOU. IN NO EVENT SHALL DOOKANS'S TOTAL LIABILITY TO YOU FOR ALL DAMAGES, LOSSES AND CAUSES OF ACTION, WHETHER IN CONTRACT, TORT (INCLUDING BUT NOT LIMITED TO, NEGLIGENCE) OR OTHERWISE, EXCEED (A) THE AMOUNT PAID BY YOU TO DOOKANS OR A RESTAURANT AFFILIATE, IF ANY, OR (B) $25.00 (WHICHEVER IS LESS).
   YOU AND DOOKANS AGREE THAT THE WARRANTY DISCLAIMERS AND LIMITATIONS OF LIABILITY IN THESE TERMS OF USE ARE MATERIAL, BARGAINED-FOR BASES OF THIS AGREEMENT, AND THAT THEY HAVE BEEN TAKEN INTO ACCOUNT IN DETERMINING THE CONSIDERATION TO BE GIVENBY EACH PARTY UNDER THIS AGREEMENT AND IN THE DECISION BY EACH PARTY TO ENTER INTO THIS AGREEMENT. YOU AND DOOKANS AGREE THAT THE WARRANTY DISCLAIMERS AND LIMITATIONS OF LIABILITY IN THESE TERMS OF USE ARE FAIR AND REASONABLE.
   IF YOU ARE DISSATISFIED WITH THE SITE OR DO NOT AGREE TO ANY PROVISIONS OF THESE TERMS OF USE, YOUR SOLE AND EXCLUSIVE REMEDY IS TO DISCONTINUE USING THE SITE, EXCEPT AS MAY BE PROVIDED FOR IN THIS SECTION 7.
   </strong>
   </p>
   <br>
   <h5>8. Your account, password, and security</h5>
   <p class="tab">Use of Sites services requires that you register and/or create an account ("Account") or use the Sites as a guest. To register and create an Account, you must select an account designation and password and provide certain personal information. In consideration of the use of the Sites' services, you agree to: (a) provide true, accurate, current and complete information about yourself as prompted by the registration form, and (b) maintain and promptly update the personal information you provide to keep it true, accurate, current and complete. If you provide any information that is untrue, inaccurate, not current or incomplete, or Dookans has reasonable grounds to suspect that such information is untrue, inaccurate, not current or incomplete, Dookans has the right to refuse any and all current or future use of the Sites (or any portion thereof).
   You are responsible for maintaining the confidentiality and security of your Account and password, and you are fully responsible for all activities that occur under your password or Account, and for any other actions taken in connection with the Account or password. You agree to (a) immediately notify Dookans of any known or suspected unauthorized use(s) of your password or Account, or any known or suspected breach of security, including loss, theft, or unauthorized disclosure of your password or credit card information; and (b) ensure that you exit from your Account at the end of each session. Dookans will not be liable for any injury, loss or damage of any kind arising from or relating to your failure to comply with (a) and (b) or for any acts or omissions by you or someone else using your Account and/or password.
   </strong>
   </p>
   <h5>9. Links</h5>
   <p class="tab">As a courtesy to you, the Sites may offer links to other websites. Some of these websites may be affiliated with Dookans while others are not. Dookans is not responsible for the contents of any website pages created and maintained by organizations independent of Dookans. Visiting any such third-party website pages is at your own risk. Dookans has no control of these third-party website pages, nor can it guarantee the accuracy, completeness, or timeliness of information in third-party website pages. Your use of such information is voluntary, and your reliance on such information should be made only after independent review. References to commercial products or services within any such third-party website pages do not constitute or imply an endorsement by Dookans. By using the Sites you acknowledge that Dookans is responsible neither for the availability of, nor the content located on or through any third-party website pages.
   </p>
   <br>
   <h5>10. Trademarks</h5>
   <p class="tab">All trademarks and other marks, logos, and names of Dookans or the Sites, used on or in connection with the Sites may not be used in connection with any product or service that is not under Dookans's ownership or control. Furthermore, such trademarks may not be used in any manner that is likely to cause confusion among customers or in any manner that disparages or discredits Dookans. All other trademarks not owned by Dookans (or its affiliates) that appear on the Sites are the property of their respective owners, who may or may not be affiliated with, connected to, or sponsored by Dookans or its affiliates.
   </p>
   <br>
   <h5>11. Consideration</h5>
   <p class="tab">You acknowledge that these Terms of Use are supported by reasonable and valuable consideration, the receipt and adequacy of which are hereby acknowledged. Without limiting the foregoing, you acknowledge that such consideration includes, without limitation, your use of the Sites and receipt or use of data, content, products and/or services through the Sites, the possibility of our review, use or display of your Submission(s), and the possibility of publicity and promotion from our review, use or display of your user-generated content.
   </p>
   <br>
  <h5> 12. Jurisdiction, Applicable Law, and Limitations </h5>
   <p class="tab"> This Site is created and controlled by Dookans in the State of Delaware, U.S.A. You agree that these Terms of Use will be governed by and construed in accordance with the laws of the United States of America and the State of Delaware, without regard to its conflicts of law provisions. Use of the Sites is unauthorized in any jurisdiction that does not give effect to all provisions of these Terms of Use. Dookans makes no claims or assurances that the Sites are appropriate or may be downloaded outside of the United States. You agree that all legal proceedings arising out of or in connection with these Terms of Use, or services available on or through the Sites must be filed in a federal or state court located in Wilmington, DE, within one year of the time in which the events giving rise to such claim began, or your claim will be forever waived and barred. You expressly submit to the exclusive jurisdiction of said courts and consent to extraterritorial service of process.
   </p>
   <h5>13. General</h5>
   
   
   <p class="tab"><strong> a. Enforceability - </strong> If any portion of these Terms of Use is found to be void, invalid or otherwise unenforceable, then that portion shall be deemed to be superseded by a valid, enforceable provision that matches the intent of the original provision as closely as possible. The remainder of these Terms of Use shall continue to be enforceable and valid according to terms contained herein.
   </p>
   <p class="tab"><strong>b. Entire Agreement - </strong>  Except as expressly provided in a particular "Legal & Privacy" posting or other notice on particular pages of the Sites, these Terms of Use, which hereby incorporate by reference the terms of Dookans's Privacy Policy, constitute the entire agreement between you and Dookans, superseding all prior agreements regarding the Sites.
   </p>
   <p class="tab"><strong>c. No Waiver - </strong> The failure of Dookans to exercise or enforce any right or provision of the Terms of Use shall not constitute a waiver of said right or provision. Neither party hereto shall be deemed to be in default of any provision of the Terms of Use or for failure in performance resulting from acts or events beyond the reasonable control of such party and arising without its fault or negligence, including, but not be limited to, acts of God, civil or military authority, interruption of electric or telecommunication services, civil disturbances, acts of war or terrorists, strikes, fires, floods or other catastrophes.
   </p>
   <p class="tab"><strong>d.  Headings & Construction - </strong> The section titles in the Terms of Use are for your convenience only and carry no contractual or legal effect whatsoever. The language in these Terms of Use shall be interpreted in accordance with its fair meaning and shall not be strictly interpreted for or against either party.
   </p>
   <p class="tab"><strong>e. Contact Dookans - </strong> For purposes of providing notice of cancellation or termination, contact us at support@dookans.com or 877-462-7708
   </p>
   <br>
   <h5> Copyright © 2015 Dookans  LLC.  All Rights Reserved. </h5>
   <br>

                            
                            
                        <!-- <h3>1. Applicability &amp; Acceptance of These Terms of Use</h3>
                        <p>By viewing, using, accessing, browsing, or submitting any content or material on the Sites, you agree to these Terms of Use as a binding legal agreement between you and Dookans, without limitation or qualification. The term "you" or "You" shall refer to any person or entity who views, uses, accesses, browses or submits any content or material to the Sites.</p>
                        <p>If you do not agree to these Terms of Use, then you may not use the Sites. Dookans reserves the right to modify these Terms of Use at any time without prior notice.</p>
                       <p>You agree that each visit you make to the Sites shall be subject to the then-current Terms of Use, and continued use of the Sites now or following modifications in these Terms of Use confirms that you have read, accepted, and agreed to be bound by such modifications.</p>   -->                   
                    </div>
                </div>
                <a href="#popupExampletermsOfUse" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtntermsOfUse"></a>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="show_cart"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExampletermsOfUse" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuptermsOfUse"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>
        
        
        <div data-role="page" id="privacyPolicy">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#" title="What The Trucks">Privacy Policy</a></h2>
                <a onclick="back_function();" data-rel="back" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="inner-content">
                    <div class="text-content">
                        
                         <!-- <iframe src="https://dookans.com/Privacy.html" height="100%" width="100%" style="border:none;font-size:80%;"></iframe> -->

                         <h1>Privacy Statement</h1>
                
<h2>PRIVACY POLICY </h2>
   <h5>Dookans  LLC ("Dookans") collects certain information through its websites and mobile sites, located at www.Dookans.com and its blog, located at http://blog.Dookans.com and its Facebook page (collectively, the "Sites"). Your privacy is important to Dookans and this Privacy Policy lays out Dookans's policies and procedures surrounding the collection and handling of such information. This Privacy Policy applies only to the Sites. It does not apply to any restaurant sites, other third party services linked to Dookans Sites or offline activities related to Dookans services. 
   </h5>
   <h5>A.   Information Dookans Collects</h5>
   
   <p class="tab"> Dookans may collect the following information from users of our Sites: first name, last name, street address, city, state, zip code, cross streets, phone number, e-mail address, Sites-specific display name, GPS location (mobile site) and credit card information (collectively, "Personally Identifiable Information" or "PII").
   The Sites are not intended for use by children under the age of 13 and Dookans does not knowingly collect PII from children under the age of 13. Use of Sites services requires that you register and/or create an account ("Account") or use the Sites as a guest.
   In addition to the PII set forth above, Dookans may collect information regarding Account holders' past Dookans orders, favorite restaurants, customer service inquiries, service/ restaurant reviews and certain social networking preferences relating to the Sites (e.g. pages or entities you like, recommend or follow).
   Dookans also uses web analytics software to track and analyze traffic on the Sites in connection with Dookans's advertising and promotion of Dookans services. Dookans may publish these statistics or share them with third parties without including PII.  Dookans may collect additional PII in connection with blog submissions including professional title, business/personal website, social networking handle/username and the author's photograph.
   </p>
   <h5>B.   Dookans's Use Of Collected Information</h5>
   <p class="tab">Dookans uses PII to create users' Accounts, to communicate with users about the Sites' services, to offer users additional services, promotions and special offers and to charge for purchases made through the Sites. Users may opt to allow Dookans to store certain PII used to create users' Accounts, including, but not limited to, credit card information. Dookans uses stored PII to customize future order processing for you. You may request that Dookans cease storing certain PII at any time, but you might not be able to take advantage of certain customized features. [Users may affirmatively opt-out of receiving promotional communications from Dookans by visiting http://www.Dookans.com and providing Dookans with their e-mail address via the opt-out link. – Chris you need to think about this one]  Dookans may also use PII to enforce the Sites' terms of use.
   Dookans uses cookies to remember users on the Sites and to enhance users' experience on the Sites. For example, when users with Accounts return to the Sites, cookies identify those users and allow the Sites to provide certain user-specific information such as Account information, past orders, favorite restaurants and user restaurant reviews.
   Dookans does not sell the information it collects to third parties. Dookans shares collected PII to third-party vendors and service providers with whom Dookans works to provide application programming interfaces ("APIs") and other functions for the Sites in connection with the delivery of Dookans services. In addition, Dookans shares users' Dookans order content, special order instructions, first and last name, street address and telephone number with restaurants where users' orders are placed to the extent necessary to process those orders. Dookans may also disclose PII to third parties such as attorneys, collection agencies, tribunals or law enforcement authorities pursuant to valid requests in connection with alleged violations of Dookans terms of use and service or other alleged contract violations, infringement or similar harm to persons or property.
   User generated content posted through the Sites such as service/restaurant reviews and certain social networking preferences relating to the Sites (e.g. pages or entities you like, recommend or follow") may be viewed by the general public. Accordingly, Dookans cannot ensure the privacy of any PII included in such user generated content.
   </p>
   <h5>C.   Dookans's Protection of PII</h5>
   
   <p class="tab"> Dookans uses reasonable security measures equal to or exceeding industry standard to protect PII from unauthorized access, destruction, use, modification and disclosure. Unfortunately, even with these measures, Dookans cannot guarantee the security of PII. By using the Sites, you acknowledge and agree that Dookans makes no such guarantee, and that you use the Sites at your own risk.
   </p>
   <h5>D.   Accessing and Correcting Your PII</h5>
   <p class="tab">Registered Account holders can access and change their own PII using the "Edit" function on the Dookans website. If you have questions regarding Dookans's use or collection of your PII, please contact Dookans's privacy officer at: accounts@Dookans.com.
   </p>
   <h5>E.   Privacy Policy Amendments</h5>
   <p class="tab"> Dookans may change this Privacy Policy at any time by posting a new version on this page or on a successor page. The new version will become effective on the posting date, which will be listed at the top of the page as the effective date.
   </p>

                        
                        <!-- <h3>A.  Information Dookans Collects</h3>
                       <p>Dookans may collect the following information from users of our Sites: first name, last name, street address, city, state, zip code, cross streets, phone number, e-mail address, Sites-specific display name, GPS location (mobile site) and credit card information (collectively, "Personally Identifiable Information" or "PII"). The Sites are not intended for use by children under the age of 13 and Dookans does not knowingly collect PII from children under the age of 13. Use of Sites services requires that you register and/or create an account ("Account") or use the Sites as a guest. In addition to the PII set forth above, Dookans may collect information regarding Account holders' past Dookans orders, favorite restaurants, customer service inquiries, service/ restaurant reviews and certain social networking preferences relating to the Sites (e.g. pages or entities you like, recommend or follow). Dookans also uses web analytics software to track and analyze traffic on the Sites in connection with Dookans's advertising and promotion of Dookans services. Dookans may publish these statistics or share them with third parties without including PII. Dookans may collect additional PII in connection with blog submissions including professional title, business/personal website, social networking handle/username and the author's photograph.</p> -->                      
                    </div>
                </div>
                <a href="#popupExampleprivacyPolicy" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnprivacyPolicy"></a>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="show_cart"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExampleprivacyPolicy" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupprivacyPolicy"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>
        
        
        <div data-role="page" id="howWorks">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#" title="What The Trucks">How it works</a></h2>
                <a onclick="back_function();" data-rel="back" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="inner-content">
                    <div class="how-works-box">
                        <h3>What The Trucks</h3>
                        <ul class="works-steps">
                            <li>
                                <span class="order-icon"></span>
                                <h4>Order and Pay</h4>
                                <p>Order online or via the What The Trucks mobile apps.</p>
                            </li>
                            <li>
                                <span class="skip-icon"></span>
                                <h4>Skip The Line</h4>
                                <p>Skip the food truck line and pickup your order at your desiered pickup time.</p>
                            </li>
                            <li>
                                <span class="pick-icon"></span>
                                <h4>Pick Up Your Order</h4>
                                <p>Head to your food truck of choice and pickup your hot and ready order! Then enjoy.</p>
                            </li>
                        </ul>
                    </div>
                </div>
                <a href="#popupExamplehowWorks" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnhowWorks"></a>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="show_cart"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplehowWorks" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuphowWorks"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>
        
        
        <div data-role="page" id="logIn">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" class="header_style">
                <h2><a href="#" title="What The Trucks">Sign In</a></h2>
                <a onclick="back_function();" data-rel="back" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="inner-content">
                    <div class="logInBox">

                        <h3>Select One</h3>
                        <p>Please select your preferred sign in method, must sign in to check out.</p>
                        <div class="logInList">
                            <ul>
                                <li>
                                    <a href="#" class="facebook" onclick="login();">facebook</a>
                                </li>
                                <!-- <li>
                                    <a href="#" class="facebook" onclick="otherfblogin();">facebook</a>
                                </li> -->
                                <!--<li>
                                    <a href="#" class="twitter" onclick = "ridrect()" >twitter</a>
                                </li>-->
                                <li>
                                    <a href="#" class="gPlus" onclick="logingoogle()">gPlus</a>
                                </li>
                                <!-- <li>
                                    <a href="#" class="yahoo">yahoo</a>
                                </li> -->
                            </ul>
                             
                        </div>

                    </div>
                    <img id="sign_in_loader" style="left: 50%; width: 32px; height: 25px; top: 50%; position: absolute; margin-left: -13px;display:none;" src="img/loader.GIF">
                </div>
                <a href="#popupExamplelogIn" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnlogIn"></a>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="show_cart1"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplelogIn" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuplogIn"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
            <div id="fb-root"></div>
        </div>
        
        
        <div data-role="page" id="settings">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" class="header_style">
                <h2><a href="#" title="What The Trucks">Settings</a></h2>
                <!-- <a onclick="back_function_settings();" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a> -->
                <a href="#" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px; display:none;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="inner-content">
                    <div class="settingsBox">
                            <div class="settingBorderRow">
                                <span id="logoimg" class="fbSttings"></span>
                                <h4>Signed in as</h4>
                                <h6 id="signed_in_name"></h6>
                            </div>
                            <div class="listGroup">
                                <!-- <div class="bar bar-default">
                                    <a href="#contactInfo">Manage Contact Info</a>
                                </div>
                                <div class="bar bar-default">
                                    <a href="#paymentMethod">Manage Credit Cards</a>
                                </div> -->
                                 <div class="bar bar-default">
                                   <a onclick="redirect_settings_cnct('fromSettingscontact');">Manage Contact Info</a>
                               </div>
                               <div class="bar bar-default">
                                   <a onclick="redirect_settings_credits('fromSettingscards');">Manage Credit Cards</a>
                               </div>
                                <!-- <div class="bar bar-default">
                                    <label for="flip2">Allow Social Sharing</label>
                                    <select name="flip2" id="flip2" class="slideroffon" data-theme="none" data-role="slider" data-corners="false" data-shadow="false">
                                        <option value="off">Off</option>
                                        <option value="on">On</option>
                                    </select>
                                </div> -->
                            </div>
                        </div>
                </div>
                 <a href="#popupExamplesettings" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnsettings"></a>   
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="cartval2"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplesettings" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupsettings"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>
        
        <div data-role="page" id="contactInfo">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#" title="What The Trucks">Contact Info</a></h2>
                <a onclick="back_function_cnct();" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="inner-content">
                    <div class="contactInfoHeader">
                        <div class="ui-bar ui-bar-white" onclick="opendiv();">
                            <h2>Add Contact Info <span class="right plus-icon"></span></h2>
                        </div>
                        <div class="ui-bar ui-bar-blue">
                            <h2>Select Preferred Address</h2>
                        </div>
                    </div>
                    <div class="contactInfoList" id="contacts-list">
                        
                    </div>
                </div>
                <a href="#popupExamplecontactInfo" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtncontactInfo"></a>
                <a href="#popupDeletecontactInfo" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="deletebtncontactInfo"></a>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="show_cartcnctinfo"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplecontactInfo" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupcontactInfo"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
            <div data-role="popup" id="popupDeletecontactInfo" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2>Deleting...</h2>
                    <p id="popupdeletecontactInfo"><img src="http://esolzdemos.com/lab1/whatthetrucks/www/img/loader.GIF" style="width: 32px; height: 25px; "></p>
                </div>
                <!-- <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div> -->
            </div>

        </div>
        
        
        <div data-role="page" id="paymentMethod">
        <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" class="header_style">
        <h2><a href="#" title="What The Trucks">Payment Method</a></h2>
        <a onclick="back_function_pay();" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
        <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
        </header><!-- /header -->

        <section data-role="content">
        <div class="inner-content">
        <div class="contactInfoHeader">
        <div class="ui-bar ui-bar-white">
        <h2>Add Credit Card <a onclick="gotonewcard()"><span class="right plus-icon"></span></a></h2>
        </div>
        <div class="ui-bar ui-bar-blue">
        <h2>Select Preferred Payment</h2>
        </div>
        </div>
        <div class="contactInfoList" id="paymentlist">

        </div>
        <a href="#popupExamplepaymentMethod" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnpaymentMethod"></a>
        <a href="#popupDeletepaymentMethod" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="deletebtnpaymentMethod"></a>
        </div>
        </section><!-- /content -->
        <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
        <div data-role="controlgroup" data-type="horizontal">
           <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
           <a href="#howWorks" data-role="button" class="footer-search"></a>
           <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="show_cartpayment"></span></a>
           <a href="#" data-role="button" class="footer-settings"></a>
        </div>
        </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplepaymentMethod" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuppaymentMethod"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
            <div data-role="popup" id="popupDeletepaymentMethod" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2>Deleting...</h2>
                    <p id="popupdeletepaymentMethod"><img src="http://esolzdemos.com/lab1/whatthetrucks/www/img/loader.GIF" style="width: 32px; height: 25px; "></p>
                </div>
                <!-- <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div> -->
            </div>
        </div>
        
        <div data-role="page" id="pickUp">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" class="header_style">
                <h2><a href="#" title="What The Trucks">Pick Up</a></h2>
                <a href="#" onclick="back_function();" data-rel="back" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content" id="change_pickup">
                <!-- <div class="inner-content">
                    <div class="contactInfoHeader">
                        <div class="ui-bar ui-bar-white">
                            <h2><b>Dinner at City Hall Plaza</b></h2>
                            <h4><b>10am - 6:30pm</b></h4>
                        </div>
                        <div class="ui-bar ui-bar-blue">
                            <h2>Change Pick Up Time</h2>
                        </div>
                    </div>
                    <div class="pickUpBox pickupselect">
                        <select name="pickUpTime" id="pickUpTime" data-mini="true">
                           <option value="1">6:00 pm</option>
                           <option value="1">8:00 pm</option>
                           <option value="1">10:00 pm</option>
                           <option value="1">11:30 pm</option>
                        </select>
                    </div>
                </div> -->
            </section>
            <a href="#popupExamplepickUp" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnpickUp"></a><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a onclick="gotoCheckout()" class="ui-btn full-btn">Save Selection</a>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplepickUp" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuppickUp"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>
        
        
        <div data-role="page" id="newCard">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" class="header_style">
                <h2><a href="#" title="What The Trucks">New Card</a></h2>
                <a href="#" onclick="back_function();" data-rel="back" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="inner-content">
                    <div class="extraPaddingContent stateaddress">
                    
                        <form role="form" class="defaultForm">
                            
                            <label>Select Card Type</label>
                            <fieldset data-mini="true" class="ui-grid-c selectCardType" id="cardType">
                                <div class="ui-block-a">
                                    <a onclick="assing_value('Visa')" class="ui-btn visa-btn" id="visaimg">visa</a>
                                </div>
                                <div class="ui-block-b">
                                    <a onclick="assing_value('American Express')" class="ui-btn americanExpress-btn" id="ameximg">AMEX</a>
                                </div>
                                <div class="ui-block-c">
                                    <a onclick="assing_value('Master')" class="ui-btn masterCard-btn" id="masterimg">Master</a>
                                </div>
                                <div class="ui-block-d">
                                    <a onclick="assing_value('Discover')" class="ui-btn discover-btn" id="discimg">discover</a>
                                </div>
                            </fieldset>
                            
                            <label for="nameOnCard">Name on Card</label>
                            <input data-clear-btn="true" name="nameOnCard" id="nameOnCard" value="" type="text">
                            
                            <label for="cardNumber">Card Number</label>
                            <input data-clear-btn="true" name="cardNumber" id="cardNumber" value="" type="number" onkeyup="limitcrdno(this)"> 
                            
                            
                            <fieldset class="ui-grid-a">
                                <div class="ui-block-a" style="padding-right:10px;">
                                    <label for="expMonth">Exp. Month</label>
                                    <select name="expMonth" id="expMonth">
                                        <option value="">Select</option>
                                        <option value="01">01</option>
                                        <option value="02">02</option>
                                        <option value="03">03</option>
                                        <option value="04">04</option>
                                        <option value="05">05</option>
                                        <option value="06">06</option>
                                        <option value="07">07</option>
                                        <option value="08">08</option>
                                        <option value="09">09</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                    </select>
                                    <!-- <input type="text" pattern="\d*" name="expMonth" id="expMonth" maxlength="2" value="" data-clear-btn="true"> -->
                                </div>
                                <div class="ui-block-b" id="expyeardiv">
                                    <!-- <label for="expYear">Exp. Year</label>
                                    <input type="text" pattern="\d*" name="expYear" id="expYear" value="" maxlength="4" data-clear-btn="true">  -->
                                </div>
                            </fieldset>
                            
                            <fieldset class="ui-grid-a">
                                <div class="ui-block-a">
                                    <label for="CVVCode">CVV Code</label>
                                    <input type="number" name="CVVCode" id="CVVCode" value="" data-clear-btn="true" onkeyup="limitcvv(this)">
                                </div>
                               <!--  <div class="ui-block-b">
                                    <label for="ZIP">ZIP</label>
                                    <input type="text" name="ZIP" id="ZIP" value="">
                                </div> -->
                            </fieldset>

                            <input type="hidden" name="card_Type" id="card_Type" value="">
                        </form>
                    </div>                  

                </div>
                <a href="#popupExamplenewCard" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnnewCard"></a>
                <a href="#popupExampleaddnewCard" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnaddnewCard"></a>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a onclick="submit_card();" class="ui-btn full-btn">Add</a>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplenewCard" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupnewCard"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
            <div data-role="popup" id="popupExampleaddnewCard" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2>Adding...</h2>
                    <p id="popupaddnewCard"><img src="http://esolzdemos.com/lab1/whatthetrucks/www/img/loader.GIF" style="width: 32px; height: 25px; "></p>
                </div>
                <!-- <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div> -->
            </div>
        </div>
                
        
        <div data-role="page" id="newAddress">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" class="header_style">
                <h2><a href="#" title="What The Trucks">New Address</a></h2>
                <a href="#" onclick="back_function();" data-rel="back" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                <div class="inner-content">
                    <div class="extraPaddingContent stateaddress">
                    
                        <form role="form" class="defaultForm">
                                                        
                            <label for="Name">Name</label>
                            <input data-clear-btn="true" name="Name" id="Name" value="" type="text">
                            
                            <label for="Address">Address</label>
                            <input data-clear-btn="true" name="Address" id="Address" value="" type="text">
                            
                            <label for="City">City</label>
                            <input data-clear-btn="true" name="City" id="City" value="" type="text">

                            <label for="City">State</label>
                            <select name="State" id="State" style="width:100%;">
                                <option value="">Select</option>
                                <option value="Alabama">Alabama</option>
                                <option value="Alaska">Alaska</option>
                                <option value="Arizona">Arizona</option>
                                <option value="Arkansas">Arkansas</option>
                                <option value="California">California</option>
                                <option value="Colorado">Colorado</option>
                                <option value="Connecticut">Connecticut</option>
                                <option value="Delaware">Delaware</option>
                                <option value="Florida">Florida</option>
                                <option value="Georgia">Georgia</option>
                                <option value="Hawaii">Hawaii</option>
                                <option value="Idaho">Idaho</option>
                                <option value="Illinois">Illinois</option>
                                <option value="Indiana">Indiana</option>
                                <option value="Iowa">Iowa</option>
                                <option value="Kansas">Kansas</option>
                                <option value="Kentucky">Kentucky</option>
                                <option value="Louisiana">Louisiana</option>
                                <option value="Maine">Maine</option>
                                <option value="Massachusetts">Massachusetts</option>
                                <option value="Minnesota">Minnesota</option>
                                <option value="Mississippi">Mississippi</option>
                                <option value="Missouri">Missouri</option>
                                <option value="Montana">Montana</option>
                                <option value="Nebraska">Nebraska</option>
                                <option value="Nevada">Nevada</option>
                                <option value="New Hampshire">New Hampshire</option>
                                <option value="New Jersey">New Jersey</option>
                                <option value="New Mexico">New Mexico</option>
                                <option value="New York">New York</option>
                                <option value="North Carolina">North Carolina</option>
                                <option value="North Dakota">North Dakota</option>
                                <option value="Ohio">Ohio</option>
                                <option value="Oklahoma">Oklahoma</option>
                                <option value="Oregon">Oregon</option>
                                <option value="Pennsylvania">Pennsylvania</option>
                                <option value="Rhode Island">Rhode Island</option>
                                <option value="South Carolina">South Carolina</option>
                                <option value="South Dakota">South Dakota</option>
                                <option value="Tennessee">Tennessee</option>
                                <option value="Texas">Texas</option>
                                <option value="Utah">Utah</option>
                               
                                <option value="Vermont">Vermont</option>
                                <option value="Virginia">Virginia</option>
                                <option value="Washington">Washington</option>
                                <option value="West Virginia">West Virginia</option>
                                <option value="Wisconsin">Wisconsin</option>
                                <option value="Wyoming">Wyoming</option>
                                
                            </select>
                           <!--  <input data-clear-btn="true" name="State" id="State" value="" type="text"> -->

                            <!-- <div id="the-basics">
                              <input class="typeahead" type="text">
                            </div> -->

                             <!-- <div class="ui-widget"> -->
                             <!--  <label for="tags">Tags: </label>
                              <input id="tags" autocomplete="off" type="text" value=""> -->
                            <!-- </div> -->

                           <!--  <div id="the-basics">
                                  <input class="typeahead" type="text" placeholder="States of USA">
                                </div> -->
                            
                            <fieldset class="ui-grid-a">
                                <div class="ui-block-a">
                                    <label for="ZIP">ZIP</label>
                                    <input type="number" name="ZIP" id="ZIP" value="" data-clear-btn="true" onkeyup="limitzip(this)">
                                </div>
                                <div class="ui-block-b">
                                    <label for="Mobile">Mobile</label>
                                    <input type="number" name="Mobile" id="Mobile" value="" data-clear-btn="true" onkeyup="limitmob(this)">
                                </div>
                            </fieldset>
                            
                            <label for="Email">Email</label>
                            <input data-clear-btn="true" name="Email" id="Email" value="" type="email">
                            
                        </form>
                    
                    </div>
                </div>
                <a href="#popupExamplenewAddress" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnnewAddress"></a>
                <a href="#popupExampleaddnewAddress" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnaddnewAddress"></a>
            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a onclick="add_addressinfo();" class="ui-btn full-btn" id="addcnctbtn">Add</a>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplenewAddress" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupnewAddress"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
            <div data-role="popup" id="popupExampleaddnewAddress" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2>Adding...</h2>
                    <p id="popupaddnewAddress"><img src="http://esolzdemos.com/lab1/whatthetrucks/www/img/loader.GIF" style="width: 32px; height: 25px; "></p>
                </div>
                <!-- <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div> -->
            </div>
        </div>
            
        
        <div data-role="page" id="addItem">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#" title="What The Trucks">Food</a></h2>
                <a href="" onclick="redirectfromfood();" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content" id="food_div">
                <!-- <div class="inner-content">
                    
                    <div class="contactInfoHeader">                 
                        <div class="bar bar-default">
                            <div class="search-result-box">
                                <h2><a class="ui-link" href="#">Smoked Salmon Crepe</a></h2>
                                <p>Nova lox salmon, red onion, cream cheese, caper mix</p>
                                <div class="right-small-box">
                                    <h5>$8.00</h5>
                                </div>
                            </div>
                        </div>
                        <div class="ui-bar ui-bar-blue">
                            <h2>Item Options</h2>
                        </div>
                    </div>
                    <div class="listGroup">
                        <div class="bar bar-default">
                            <form method="post" action="">
                                <div class="increase-btn">
                                    <label for="name">Quantity</label>
                                    <div class="right">
                                        <div class="dec button">-</div>
                                        <input type="text" name="french-hens" id="french-hens" value="1" data-theme="none" data-role="none">
                                        <div class="inc button">+</div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="bar bar-default">
                            <a href="#" class="ui-link">Choice <small>Steak Tips</small></a>
                        </div>
                        <div class="bar bar-default">
                            <a href="#" class="ui-link">Extras <small>Lettuce, Tomato, Pickles, Onions</small></a>
                        </div>
                        <div class="bar bar-default">
                            <a href="#specialInstructions" class="ui-link">Special Instructions <small>(additional charges may apply)</small></a>
                        </div>
                    </div>
                    
                </div> -->
            </section><!-- /content -->
            <a href="#popupExampleaddItem" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnaddItem"></a>
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a href="#popupExample" onclick="storeVal();" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn">Add to basket</a>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExample" data-theme="a" class="ui-corner-all">
                <div class="popUp">
                    <h2>Benny’s Crepe Cafe</h2>
                    <p>Please use same copy for all pop ups as website and this design for all pop ups</p>
                </div>
                <div class="popUpFooter">
                    <a href="" data-rel="back" >OK</a>
                </div>
            </div>
            <div data-role="popup" id="popupExampleaddItem" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupaddItem"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>

        </div>

       

        ​<div data-role="page" id="listingPage">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#" title="What The Trucks">Food</a></h2>
                <!-- <a href="#Basket" data-position="left" class="back-btn" data-theme="none" ></a> -->
                <a onclick="gotoadditem()" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content" id="listpageId">
                <!-- <div class="inner-content">
                    <form action="">
                        <ul class="listingRadio">
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item" data-role="none" />
                                    <label for="Item">Item</label>
                                </div>
                            </li>
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item2" data-role="none" />
                                    <label for="Item2">Item 2</label>
                                </div>
                            </li>
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item3" data-role="none" />
                                    <label for="Item3">Item 3</label>
                                </div>
                            </li>
                            <li>
                                <div class="inputRadio">
                                    <input type="radio" name="Item" id="Item4" data-role="none" />
                                    <label for="Item4">Item 4</label>
                                </div>
                            </li>
                        </ul>
                    </form>            
                </div> -->
            </section><!-- /content -->
            <a href="#popupExamplelistingPage" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnlistingPage"></a>
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a href="#addItem" onclick="get_extras();" class="ui-btn full-btn">Save Selection</a>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplelistingPage" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popuplistingPage"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>
        
        
        <div data-role="page" id="specialInstructions">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#" title="What The Trucks">Food</a></h2>
                <a href="#addItem" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content" id="specialDescription">
                <!-- <div class="inner-content">
                    
                    <div class="contactInfoHeader">                 
                        <div class="bar bar-default">
                            <div class="search-result-box">
                                <h2><a class="ui-link" href="#">Smoked Salmon Crepe</a></h2>
                                <p>Nova lox salmon, red onion, cream cheese, caper mix</p>
                                <div class="right-small-box">
                                    <h5>$8.00</h5>
                                </div>
                            </div>
                        </div>
                        <div class="ui-bar ui-bar-blue">
                            <h2>Special Instructions</h2>
                        </div>
                    </div>
                    <div class="listGroup">
                        <div class="bar bar-default">
                            <label for="speInstruction">Enter special instructions here.</label>
                            <textarea name="speInstruction" id="speInstruction"></textarea>
                        </div>
                    </div>
                    
                </div> -->
            </section><!-- /content -->
            <a href="#popupExamplespecialInstructions" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnspecialInstructions"></a>
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a href="#addItem" onclick="save_desc();" class="ui-btn full-btn">Save</a>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplespecialInstructions" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupspecialInstructions"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>


        <div data-role="page" id="specialInstructions_checkout">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#" title="What The Trucks">Special Instructions</a></h2>
                <a onclick="back_function();" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content" id="specialDescription_checkout">
                <!-- <div class="inner-content">
                    
                    <div class="contactInfoHeader">                 
                        <div class="bar bar-default">
                            <div class="search-result-box">
                                <h2><a class="ui-link" href="#">Smoked Salmon Crepe</a></h2>
                                <p>Nova lox salmon, red onion, cream cheese, caper mix</p>
                                <div class="right-small-box">
                                    <h5>$8.00</h5>
                                </div>
                            </div>
                        </div>
                        <div class="ui-bar ui-bar-blue">
                            <h2>Special Instructions</h2>
                        </div>
                    </div>
                    <div class="listGroup">
                        <div class="bar bar-default">
                            <label for="speInstruction">Enter special instructions here.</label>
                            <textarea name="speInstruction" id="speInstruction"></textarea>
                        </div>
                    </div>
                    
                </div> -->
            </section><!-- /content -->
            <a href="#popupExamplespecialInstructions_checkout" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnspecialInstructions_checkout"></a>
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a onclick="save_desc_checkout();" class="ui-btn full-btn">Save</a>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplespecialInstructions_checkout" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupspecialInstructions_checkout"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>
        
        
        <div data-role="page" id="Basket">
            <header data-role="header" data-tap-toggle="false" data-tap-toggle="false" data-id="my-header" data-position="fixed" class="header_style">
                <h2><a href="#" title="What The Trucks">Basket</a></h2>
                <a href="" onclick="gototruckdetails();" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            <a href="#popupExampleBasket" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnBasket"></a>
            <section data-role="content" id="basktRed" >
                </section>

            






            
            <!-- /content -->

            <input type="hidden" clas="item_val_class" name="item_val" id="item_val" value="">
             
            <footer data-role="footer" data-tap-toggle="false" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a class="ui-btn full-btn" onclick="testIslogin()" >Proceed to checkout</a>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExampleBasket" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupBasket"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
            
        </div>
        
        
        <div data-role="page" id="checkOut" class="top_header_style">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" class="header_style">
                <h2><a href="#" title="What The Trucks">Checkout</a></h2>
                <a onclick="check_basredirect();" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content" id="checkoutPage">
                




</section>

            <a href="#popupExamplecheckOut" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtncheckOut"></a>

                <!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a onclick="success_alert1();" class="ui-btn full-btn">Place Order</a>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExamplecheckOut" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupcheckOut"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>
        
        
        <div data-role="page" id="checkOutContact">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed">
                <h2><a href="#" title="What The Trucks">Checkout</a></h2>
                <a onclick="check_basredirect()" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content">
                

            </section><!-- /content -->
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed" data-theme="b">
                <a href="#checkOut" class="ui-btn full-btn">Checkout</a>
            </footer><!-- /footer -->

        </div>
        
        
        <div data-role="page" id="ConfirmationList">
            <header data-role="header" data-tap-toggle="false" data-id="my-header" data-position="fixed" style="padding-top:10px;">
                <h2><a href="#" title="What The Trucks">Confirmation</a></h2>
                <a onclick="back_function();" data-position="left" class="back-btn" data-theme="none" style="margin-top:10px; display:none;"></a>
                <a href="#mypanel" data-position="right" data-theme="none" class="menu-btn" style="margin-top:10px;"></a>
            </header><!-- /header -->
            
            <section data-role="content" id="success_confirmation">
                
            </section><!-- /content -->
            <a href="#popupExampleConfirmationList" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn full-btn" style="display:none;" id="alertbtnConfirmationList"></a>
            <footer data-role="footer" data-tap-toggle="false" data-position="fixed">
                <div data-role="controlgroup" data-type="horizontal">
                    <a onclick="redirecttohome()" data-role="button" class="footer-home"></a>
                    <a onclick="redirecttohome()" data-role="button" class="footer-search"></a>
                    <a onclick = "check_basredirect();" data-role="button" class="footer-cart"><span class="cart_value" style="display:none;" id="show_cart"></span></a>
                    <a onclick="show_settings();" data-role="button" class="footer-settings"></a>
                </div>
            </footer><!-- /footer -->
            <div data-role="popup" id="popupExampleConfirmationList" data-theme="a" class="ui-corner-all" style="width:285px;">
                <div class="popUp">
                    <h2></h2>
                    <p id="popupConfirmationList"></p>
                </div>
                <div class="popUpFooter">
                    <a href="#" data-rel="back" onclick="closeok()">OK</a>
                </div>
            </div>
        </div>



        
        
        
        <aside data-role="panel" id="mypanel" data-position="right" data-display="push" data-position-fixed="true">
            <ul class="main-menu">
                <li><a onclick="redirecttohome()"><span class="menu-home"></span>Home</a></li>
                <li><a href="#howWorks"><span class="menu-howitworks"></span>How It Works</a></li>
                <li><a onclick="show_settings();"><span class="menu-settings"></span>Settings</a></li>
                <li>
                    <a onclick = "check_basredirect();">
                        <span class="menu-basket"></span>
                        Basket
                        <!-- <span class="busket-val" id ="countval">0</span> -->
                    </a>
                </li>
                <li><a onclick="opentermsofuse()"><span class="menu-terms"></span>Terms of Use</a></li>
                <li><a onclick="openprivacypolicy()"><span class="menu-privacy"></span>Privacy Policy</a></li>
                <li id="show_login_li"><a onclick="redirecttologin()" id="show_login"><span class="menu-signin"></span>Sign In</a> </li>
                <li id="show_logout" style="display:none;"><a onclick="logout_normal();"><span class="menu-signin"></span>Sign Out</a> </li>
            </ul>
        </aside><!-- /panel -->

         <input type="hidden" name="totpriceval" id="totpriceval" value="">

        <input type="hidden" name="choiceval" id="choiceval" value="" />
        <input type="hidden" name="breadid" id="breadid" value="" />
        <input type="hidden" name="breadprice" id="breadprice" value="" />
        <input type="hidden" name="breadtype" id="breadtype" value="" />

        <input type="hidden" name="sauceval" id="sauceval" value="" />
         <input type="hidden" name="sauceid" id="sauceid" value="" />
        <input type="hidden" name="sauceprice" id="sauceprice" value="" />
        <input type="hidden" name="saucetype" id="saucetype" value="" />

        <input type="hidden" name="choicesval" id="choicesval" value="" />
         <input type="hidden" name="choicesid" id="choicesid" value="" />
        <input type="hidden" name="choicesprice" id="choicesprice" value="" />
        <input type="hidden" name="choicestype" id="choicestype" value="" />

        <input type="hidden" name="proteinval" id="proteinval" value="" />
         <input type="hidden" name="proteinid" id="proteinid" value="" />
        <input type="hidden" name="proteinprice" id="proteinprice" value="" />
        <input type="hidden" name="proteintype" id="proteintype" value="" />

        <input type="hidden" name="final_email" id="final_email" value="" />
        <input type="hidden" name="final_paymentprofId" id="final_paymentprofId" value="" />
        <input type="hidden" name="payment_info" id="payment_info" value="" />
        <input type="hidden" name="final_sendstr" id="final_sendstr" value="" />
        <input type="hidden" name="final_sendstr_payment" id="final_sendstr_payment" value="" />

         <input type="hidden" name="final_ppId" id="final_ppId" value="" />
         <input type="hidden" name="final_mailid" id="final_mailid" value="" />
         <input type="hidden" name="final_payment_info" id="final_payment_info" value="" />
         <input type="hidden" name="final_paymentprofId" id="final_paymentprofId" value="" />
         <input type="hidden" name="payment_expirydate" id="payment_expirydate" value="" />

         <input type="hidden" name="selected_truck_name" id="selected_truck_name" value="" />

         <input type="hidden" name="checkout_check" id="checkout_check" value="" />

         <input type="hidden" name="basket_check" id="basket_check" value="" />
            <input type="hidden" name="menu_check" id="menu_check" value="" />
            <input type="hidden" name="details_check" id="details_check" value="" />


         <input type="hidden" id="checkout_html_value" name="checkout_html_value" value="" />


         <input type="hidden" id="add_priceval" name="add_priceval" value="" />

         <input type="hidden" id="extrasvalue" name="extrasvalue" value="" />
         <input type="hidden" id="extrasnames" name="extrasnames" value="" />
         <input type="hidden" id="extrasprices" name="extrasprices" value="" />

         <input type="hidden" id="extrasvalue_toppings" name="extrasvalue_toppings" value="" />
         <input type="hidden" id="extrasnames_toppings" name="extrasnames_toppings" value="" />
         <input type="hidden" id="extrasprices_toppings" name="extrasprices_toppings" value="" />
     
     <input type="hidden" id="breadname" name="breadname" value="" />
     <input type="hidden" id="saucename" name="saucename" value="" />
     <input type="hidden" id="choicesoptname" name="choicesoptname" value="" />
     <input type="hidden" id="proteinname" name="proteinname" value="" />

     <input type="hidden" id="specialinsttext" name="specialinsttext" value="" />
     <input type="hidden" id="active_id" name="active_id" value="" />
     <input type="hidden" id="redirect_settings_val" name="redirect_settings_val" value="" />
    <input type="hidden" id="redirect_settings_val_cnct" name="redirect_settings_val_cnct" value="" />

    <input type="hidden" id="selectedpaymentheart" name="selectedpaymentheart" value="" />
    <input type="hidden" id="selectedaddressheart" name="selectedaddressheart" value="" />

    <input type="hidden" id="exist_payment" name="exist_payment" value="0" />
    <input type="hidden" id="exist_add" name="exist_add" value="0" />


    <input type="hidden" id="final_hrtidval" name="final_hrtidval" value="" />
    <input type="hidden" id="final_hrtpayment" name="final_hrtpayment" value="" />

    <input type="hidden" id="bread_clicked" name="bread_clicked" value="" />
    <input type="hidden" id="sauce_clicked" name="sauce_clicked" value="" />
    <input type="hidden" id="choice_clicked" name="choice_clicked" value="" />
    <input type="hidden" id="protein_clicked" name="protein_clicked" value="" />

    <input type="hidden" id="add_details_blank" name="add_details_blank" value="" />
    <input type="hidden" id="payment_details_blank" name="payment_details_blank" value="" />

    <input type="hidden" id="delete_recall_div" name="delete_recall_div" value="" />

    <input type="hidden" id="choice_limit" name="choice_limit" value="" />
    <input type="hidden" id="WTTpickup" name="WTTpickup" value="" />
        
        
        
        <script src="js/jquery-1.11.1.min.js"></script>
        <script type="text/javascript" src="js/retina.min.js"></script>

        <script src="js/jquery.mobile-1.4.5.min.js"></script>
        <script type="text/javascript" src="js/index.js"></script>


   
        <script type="text/javascript" src="js/jquery.cookie.js"></script>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="openfb.js"></script>
        <script type="text/javascript" src="js/facebookConnectPlugin.js"></script>
        <script type="text/javascript" src="js/GooglePlus.js"></script>
        
            <script type="text/javascript" charset="utf-8" src="js/TwitterPlugin.js"></script>
             <script type="text/javascript" charset="utf-8" src="js/demo.js"></script>
             <script type="text/javascript" charset="utf-8" src="js/childbrowser.js"></script> 
             <script type="text/javascript" charset="utf-8" src="phonegap-1.3.0.js"></script>
        <script type="text/javascript">
           
            var selectedLanguage = new Array();
            var selectedPrice = new Array();
            var selectedExtrasName = new Array();

            var selectedLanguage_toppings = new Array();
            var selectedPrice_toppings = new Array();
            var selectedExtrasName_toppings = new Array();

            var globalcardtype="";

            var frompageval="";
            var lat=0;
            var lngt=0;

            var d = new Date();
            var n = d.getFullYear();

            var expyearinnerhtml="";
            expyearinnerhtml+="<label for='expYear'>Exp. Year</label><select name='expYear' id='expYear'><option value=''>Select</option>";
            for(var yr=n;yr<=(n+20);yr++){
                expyearinnerhtml+='<option value="'+yr+'">'+yr+'</option>';
            }
            expyearinnerhtml+="</select>";
            document.getElementById('expyeardiv').innerHTML=expyearinnerhtml;

            //alert(expyearinnerhtml);

            document.addEventListener("deviceready", onDeviceReady, false);

             

            // // PhoneGap is ready
            // //
            function onDeviceReady() {
                // Update every 3 seconds
                //alert('ready');
               navigator.geolocation.getCurrentPosition(ptsuccess, pterror);
            }

            // onSuccess Geolocation
            //
            function ptsuccess(position) {

                lat=position.coords.latitude;
                lngt=position.coords.longitude;
                //alert(position.coords.latitude);
             // var latitude = position.coords.latitude;
             // var longitude = position.coords.longitude;
             // getDetails(latitude, longitude);
             }
             
            function pterror(error) {
             alert('Some error occured please try again.');
             }

             function limitcrdno(obj){
                // alert('pppp');
                // alert(obj.value.length);
                if(obj.value.length>16){
                    document.getElementById('cardNumber').value=obj.value.slice(0, 16);
                }
            }

            function limitcvv(obj){
                // alert('pppp');
                // alert(obj.value.length);
                if(obj.value.length>3){
                    document.getElementById('CVVCode').value=obj.value.slice(0, 3);
                }
            }

            function limitzip(obj){
                // alert('pppp');
                // alert(obj.value.length);
                if(obj.value.length>5){
                    document.getElementById('ZIP').value=obj.value.slice(0, 5);
                }
            }

            function limitmob(obj){
                // alert('pppp');
                // alert(obj.value.length);
                if(obj.value.length>10){
                    document.getElementById('Mobile').value=obj.value.slice(0, 10);
                }
            }

            function gotonewcard()
            {
                $('select').selectmenu();
                $('select').selectmenu('refresh', true);
                $.mobile.changePage("#newCard");
            }

            function gotoadditem()
            {
                //alert(document.getElementById('extrasvalue').value);
                if(document.getElementById('extrasvalue').value==""){
                    selectedLanguage = [];
                        selectedPrice = [];
                        selectedExtrasName=[];
                }

                if(document.getElementById('extrasvalue_toppings').value==""){
                    selectedLanguage_toppings = [];
                        selectedPrice_toppings = [];
                        selectedExtrasName_toppings=[];
                }
                $.mobile.changePage("#addItem");

            }

            function closeok()
            {
                //alert('close');
                document.getElementById('homepagebtn').href="#"+$.mobile.activePage.attr('id')
                document.getElementById('homepagebtn').click();
                var pageid=$.mobile.activePage.attr('id');
                if((pageid=="checkOut") && (document.getElementById('popupcheckOut').innerHTML=="Please Select Pickup Time")){
                    changepickup();
                    return false;
                }
            }

            function firefunc(){
                    //alert('eee');
                var skillsSelect = document.getElementById("select-choice-1");
                var selectedText = skillsSelect.options[skillsSelect.selectedIndex].text;
                //alert(selectedText);
                var splittext=selectedText.split(',');
                var firstpart=splittext[0];
                var firstpartsplit=firstpart.split(' at ');
                // alert(firstpartsplit[1]);
                //  alert(splittext[1]);
                 var place=firstpartsplit[1];
                 place=place.replace(/\s+$/g, '');
                 place=place.replace(/^\s+/g, '');
                //alert('place - '+place);

                var time=splittext[1];
               
                 //alert(time);

                // alert('other_lat - '+$.cookie("other_lat"));
                // alert('other_longt - '+$.cookie("other_longt"));
                // alert('other_idv - '+$.cookie("other_idv"));
                // alert('other_rp - '+$.cookie("other_rp"));
                // alert('other_show_loc - '+$.cookie("other_show_loc"));
                // alert('other_time - '+$.cookie("other_time"));
                // alert('other_addr - '+$.cookie("other_addr"));
                // alert('busnsid - '+$.cookie("busnsid"));

                // $.cookie("other_lat", lat, { expires: date });
                // $.cookie("other_longt", longt, { expires: date });
                // $.cookie("other_idv", idv, { expires: date });
                // $.cookie("other_rp", rp, { expires: date });
                // $.cookie("other_show_loc", show_loc, { expires: date });
                // $.cookie("other_time", time, { expires: date });
                // $.cookie("other_addr", addr, { expires: date });
                // $.cookie("busnsid", busid, { expires: date });

                 time=time.replace(/\s+$/g, '');
                 time=time.replace(/^\s+/g, '');
                 //alert(time);
                $.cookie("showaddr", place);
                if(time=="Closed for the day"){
                    document.getElementById('searchrsltDetls').style.display='none';
                }else{
                    document.getElementById('searchrsltDetls').style.display='';
                    $.cookie("showtime", time);
                }
                

                // alert('time - '+time);

                // var date = new Date();
                // var minutes = 1440;
                // date.setTime(date.getTime() + (minutes * 60 * 1000));

                // $.cookie("showaddr", place, { expires: date });
                // $.cookie("showtime", time, { expires: date });

                

                // alert('cookieaddr - '+$.cookie("showaddr"));
                // alert('cookietime - '+$.cookie("showtime"));

                }

            function back_function_settings()
            {
                // alert(frompageval);
                // $.mobile.changePage("#"+frompageval);
                //  $("#mypanel").panel("close");
                //  frompageval="";

                // alert(frompageval);
                if(frompageval=="checkOut"){
                     $("#mypanel").panel("close");
                     frompageval="";
                     testIslogin()
                }else{
                    $.mobile.changePage("#"+frompageval);
                     $("#mypanel").panel("close");
                     frompageval="";
                 }
            }

            function redirecttohome()
            {
                document.getElementById('whereYou').value="";
                $.mobile.changePage("#home");
                 $("#mypanel").panel("close");

                 // if(typeof $.cookie("pickuptm") != "undefined"){
                 //            $.cookie("pickuptm",'undefined');
                 //     }

            }

            function opentermsofuse()
            {
                //document.getElementById('whereYou').value="";
                $.mobile.changePage("#termsOfUse");
                 $("#mypanel").panel("close");

                 // if(typeof $.cookie("pickuptm") != "undefined"){
                 //            $.cookie("pickuptm",'undefined');
                 //     }

            }

            function openprivacypolicy()
            {
                //document.getElementById('whereYou').value="";
                $.mobile.changePage("#privacyPolicy");
                 $("#mypanel").panel("close");

                 // if(typeof $.cookie("pickuptm") != "undefined"){
                 //            $.cookie("pickuptm",'undefined');
                 //     }

            }

            function redirecttologin()
            {
                frompageval=$.mobile.activePage.attr('id');
                //alert(4);
                $.mobile.changePage("#logIn");
                 $("#mypanel").panel("close");
            }

            function formatphone()
            {
                if(document.getElementById('Mobile').value.search(/\S/) != -1){
                    if(document.getElementById('Mobile').value.length==10){
                        document.getElementById('Mobile').value=document.getElementById('Mobile').value.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
                    }else{
                        document.getElementById('Mobile').value=document.getElementById('Mobile').value.replace(/-/g, "");
                    }
                }
            }
            function formatphoneonout()
            {
                if(document.getElementById('Mobile').value.search(/\S/) != -1){
                    if(document.getElementById('Mobile').value.length==10){
                        document.getElementById('Mobile').value= document.getElementById('Mobile').value.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
                    }
                }
            }

            function deformatphone1()
            {
                document.getElementById('Mobile').value= document.getElementById('Mobile').value.replace(/-/g, "");
            }

            function deformatphone()
            {
                return document.getElementById('Mobile').value.replace(/-/g, "");
            }

            function returnphoneformat(phone)
            {
                if(phone!=""){
                    if(phone.length==10){
                        return phone.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
                    }
                }
            }


function loadHome(){


     $("#home").fadeOut(100);
      $("#whereYou").val('');
      $("#foodTruckName").val('');
      document.getElementById("whereYou").className="";
      document.getElementById("foodTruckName").className="";
$("#home").fadeIn(400);

            

}
function onBodyLoad()
               {


                     

                //alert("hiiiiii");
                     // var date = new Date();
                     //    var minutes = 30;
                     //     date.setTime(date.getTime() + (minutes * 60 * 1000));
                     //    $.cookie("islogin", "no", { expires: date });

                     //alert($.cookie("islogin"));
                document.addEventListener("backbutton", onBackKeyDown, false); function onBackKeyDown(e) { e.preventDefault(); }
                        if($.cookie("islogin") == "yes" && fb_html!="")
                        {
                            document.getElementById("show_logout").style.display="";
                            document.getElementById("show_login_li").style.display="none";
                        }
                        

                      

                        //alert($.cookie("islogin"));
               }



           
               

               // function loadhomepage()
               // {
               //      $.mobile.changePage("#home", {
               //              transition : "fade",
               //              reverse : false,
               //              changeHash : false,
               //              allowSamePageTransition : true,
               //              reloadPage:true
               //          });
               // }

               function gototruckdetails()
               {
                //alert('shwetaa');
                    if(typeof $.cookie("prevsName") == "undefined"){
                        document.getElementById('whereYou').value="";
                            $.mobile.changePage("#home");
                    }else{
                        //alert('shwetaa');
                            $.mobile.changePage("#truckDetails");
                    }
               }

        function ridrect(){

            
            // $.ajax({
            //     type: "POST",
            //     url: "http://esolzdemos.com/lab1/whatthetrucks/redirect.php",
            //     data: "",
            //     cache: false,
            //     success: function(html){
            //         alert(html);
            //     }
            // });
                //alert(b.a());
                //b.a();
            
        }

function redirectfromfood()
{
    //alert($.cookie("mode"));
    if($.cookie("mode")=="edit"){
        $.mobile.changePage("#Basket");
    }else{
        $.mobile.changePage("#truckDetails");
    }
   
}

var logout_normal = function () { 

    if(document.getElementById("logoimg").className=="fbSttings"){
                    facebookConnectPlugin.logout( 
                    function (response) { 
                        //alert(JSON.stringify(response));
                        if(response=="OK"){
                            //alert('pppp');
                                var date = new Date();
                                    var minutes = 1440;
                                     date.setTime(date.getTime() + (minutes * 60 * 1000));
                                    $.cookie("islogin", "no", { expires: date });
                                    document.getElementById("show_logout").style.display="none";
                                    document.getElementById("show_login_li").style.display="block";
                                    fb_html="";
                                $.cookie("prevsName", "");
                                $.cookie("descriptionsp",'');
                                $.cookie("descriptiontm",'');
                                if(typeof $.cookie("pickuptm") != "undefined"){
                                                        $.cookie("pickuptm",'undefined');
                                                 }
                                //alert("count-cookie : "+$.cookie("count"));
                                $.cookie("count", 0);
                                var countcart=parseInt($.cookie("count"));
                                
                                $("#countval").val = countcart;
                                document.getElementById('show_cart').style.display='';
                                document.getElementById('show_cart1').style.display='';
                                document.getElementById('show_cartpayment').style.display='';
                                document.getElementById('show_cartcnctinfo').style.display='';
                                document.getElementById('cartval').style.display='';
                                document.getElementById('cartval1').style.display='';
                                document.getElementById('cartval2').style.display='';
                                document.getElementById('selected_truck_name').value="";
                                document.getElementById('add_details_blank').value="";
                                document.getElementById('payment_details_blank').value="";
                                document.getElementById("final_sendstr_payment").value="";
                                document.getElementById("final_sendstr").value="";
                                document.getElementById("WTTpickup").value="";
                                $(".footer-cart .cart_value").text(countcart);
                                document.getElementById("checkout_check").value="";
                                if(countcart==0)
                                {
                                    //alert("remove");
                                    document.getElementById('show_cart').style.display='none';
                                    document.getElementById('show_cart1').style.display='none';
                                    document.getElementById('show_cartpayment').style.display='none';
                                document.getElementById('show_cartcnctinfo').style.display='none';
                                    document.getElementById('cartval').style.display='none';
                                    document.getElementById('cartval1').style.display='none';
                                            document.getElementById('cartval2').style.display='none';
                                }
                                    document.getElementById('whereYou').value="";
                                    $.mobile.changePage("#home");
                                     $("#mypanel").panel("close");
                         }
                        }
                    //function (response) { alert(JSON.stringify(response)) }
                    );
                }else if(document.getElementById("logoimg").className=="gpSttings"){

                    window.plugins.googleplus.logout(
                        function (msg) {
                          // alert(msg);
                          if(msg=="logged out"){
                            var date = new Date();
                                    var minutes = 1440;
                                     date.setTime(date.getTime() + (minutes * 60 * 1000));
                                    $.cookie("islogin", "no", { expires: date });
                                    document.getElementById("show_logout").style.display="none";
                                    document.getElementById("show_login_li").style.display="block";
                                    fb_html="";
                                $.cookie("prevsName", "");
                                $.cookie("descriptionsp",'');
                                $.cookie("descriptiontm",'');
                                if(typeof $.cookie("pickuptm") != "undefined"){
                                                        $.cookie("pickuptm",'undefined');
                                                 }
                                //alert("count-cookie : "+$.cookie("count"));
                                $.cookie("count", 0);
                                var countcart=parseInt($.cookie("count"));
                                
                                $("#countval").val = countcart;
                                document.getElementById('show_cart').style.display='';
                                document.getElementById('show_cart1').style.display='';
                                document.getElementById('show_cartpayment').style.display='';
                                document.getElementById('show_cartcnctinfo').style.display='';
                                document.getElementById('cartval').style.display='';
                                document.getElementById('cartval1').style.display='';
                                document.getElementById('cartval2').style.display='';
                                document.getElementById('selected_truck_name').value="";
                                document.getElementById('add_details_blank').value="";
                                document.getElementById('payment_details_blank').value="";
                                document.getElementById("final_sendstr_payment").value="";
                                document.getElementById("final_sendstr").value="";
                                document.getElementById("WTTpickup").value="";
                                $(".footer-cart .cart_value").text(countcart);
                                document.getElementById("checkout_check").value="";
                                if(countcart==0)
                                {
                                    //alert("remove");
                                    document.getElementById('show_cart').style.display='none';
                                    document.getElementById('show_cart1').style.display='none';
                                    document.getElementById('show_cartpayment').style.display='none';
                                document.getElementById('show_cartcnctinfo').style.display='none';
                                    document.getElementById('cartval').style.display='none';
                                    document.getElementById('cartval1').style.display='none';
                                            document.getElementById('cartval2').style.display='none';
                                }
                                    document.getElementById('whereYou').value="";
                                    $.mobile.changePage("#home");
                                     $("#mypanel").panel("close");
                          }
                        }
                    );
                             
                            }
            }

// function logout_normal()
// {
//     var date = new Date();
//         var minutes = 1440;
//          date.setTime(date.getTime() + (minutes * 60 * 1000));
//         $.cookie("islogin", "no", { expires: date });
//         document.getElementById("show_logout").style.display="none";
//         document.getElementById("show_login_li").style.display="block";
//         fb_html="";
//     $.cookie("prevsName", "");
//     $.cookie("descriptionsp",'');
//     $.cookie("descriptiontm",'');
//     if(typeof $.cookie("pickuptm") != "undefined"){
//                             $.cookie("pickuptm",'undefined');
//                      }
//     //alert("count-cookie : "+$.cookie("count"));
//     $.cookie("count", 0);
//     var countcart=parseInt($.cookie("count"));
    
//     $("#countval").val = countcart;
//     document.getElementById('show_cart').style.display='';
//     document.getElementById('show_cart1').style.display='';
//     document.getElementById('show_cartpayment').style.display='';
//     document.getElementById('show_cartcnctinfo').style.display='';
//     document.getElementById('cartval').style.display='';
//     document.getElementById('cartval1').style.display='';
//     document.getElementById('cartval2').style.display='';
//     document.getElementById('selected_truck_name').value="";
//     document.getElementById('add_details_blank').value="";
//     document.getElementById('payment_details_blank').value="";
//     document.getElementById("final_sendstr_payment").value="";
//     document.getElementById("final_sendstr").value="";
//     document.getElementById("WTTpickup").value="";
//     $(".footer-cart .cart_value").text(countcart);
//     document.getElementById("checkout_check").value="";
//     if(countcart==0)
//     {
//         //alert("remove");
//         document.getElementById('show_cart').style.display='none';
//         document.getElementById('show_cart1').style.display='none';
//         document.getElementById('show_cartpayment').style.display='none';
//     document.getElementById('show_cartcnctinfo').style.display='none';
//         document.getElementById('cartval').style.display='none';
//         document.getElementById('cartval1').style.display='none';
//                 document.getElementById('cartval2').style.display='none';
//     }
//         document.getElementById('whereYou').value="";
//         $.mobile.changePage("#home");
//          $("#mypanel").panel("close");

// }
               //func


    // For Facebook details
        function seeAdreesa(){

            // alert(lat);
            // alert(lngt);
            if(lat==0 && lngt==0){
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="What The Trucks is fetching your current location. Please wait for few seconds.";
                    document.getElementById('alertbtn'+pageid).click();
            }else{
                    var url="http://maps.googleapis.com/maps/api/geocode/json?latlng="+lat+","+lngt+"&sensor=true";
                    $.ajax({
                       url: "http://esolzdemos.com/lab1/whatthetrucks/return_json.php",
                       async:false,
                       data: {
                           url:url
                         },
                       success: function(response) {            
                           //alert(response);
                           var obj = JSON.parse(response);  
                           //alert(obj.results[0].formatted_address);   
                           //alert(obj.results[0].formatted_address);
                           document.getElementById('whereYou').value=obj.results[0].formatted_address;         
                       }        
                   })
            }
            // if(typeof street == "undefined"){
            //     //jAlert("We are not able to drag your location,please enter your location");
            //     var pageid=$.mobile.activePage.attr('id');
            //     document.getElementById('popup'+pageid).innerHTML="We are not able to drag your location,please enter your location";
            //     document.getElementById('alertbtn'+pageid).click();
            // }
            // else if(street=="(null)")
            // {
            //     //jAlert("We are not able to drag your location,please enter your location");
            //      var pageid=$.mobile.activePage.attr('id');
            //     document.getElementById('popup'+pageid).innerHTML="We are not able to drag your location,please enter your location";
            //     document.getElementById('alertbtn'+pageid).click();
            // }
            // else
            // {
            //     document.getElementById('whereYou').value = street;

            // }

        }


         var string="'+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+'";

       function recall_div(fname,lname,email){



            //alert('sendfacebookcnct-'+document.getElementById("checkout_check").value);
            // alert(fname+'.......'+lname+'......'+email);
        $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/facebookcoonecnt.php",
            data: "fname="+fname+"&lname="+lname+"&email="+email,
            cache: false,
                    success: function(html){

                        var date = new Date();
                        var minutes = 1440;
                         date.setTime(date.getTime() + (minutes * 60 * 1000));
                        $.cookie("islogin", "yes", { expires: date });
                        
                    // alert(fname+'.......'+lname+'......'+email);
                    // alert(html);

                    //  console.log(html);

                    var splitArray = html.split('@@');
                    var profId=splitArray[1];
                    var Email1=splitArray[2];
                    var Name1=splitArray[3];
                    var Address1=splitArray[4];
                    var City1=splitArray[5];
                    var State1=splitArray[6];
                    var Zipcode1=splitArray[7];
                    var Phone1=splitArray[8];

                    //$.cookie('the_cookie', 'the_value');

                    
                    var name=fname+" "+lname;
                    $.cookie("fb_uname", name , { expires: date });
                    fb_html=splitArray[0];
                    //alert(fb_html);

                    var obj = JSON.parse(fb_html);
                 // alert(obj.pmtList.length);
                
                var i=0;
                var innerhtmltext='';
                var name='';
                    var email='';
                    var city='';
                    var state='';
                    var zipcode='';
                    var address='';
                    var id='';
                    var phone='';
                    var hrtid='';
                if (typeof obj.addressList != "undefined") {
                    //alert('length-'+obj.addressList.length);
                    if (typeof obj.addressList.length == "undefined") {
                        document.getElementById("exist_add").value="1";
                        if (typeof obj.addressList.name != "undefined")
                        {
                        name=obj.addressList.name;
                        }else{
                        name='';
                        }
                        
                        if (typeof obj.addressList.email != "undefined")
                        {
                        email=obj.addressList.email;
                        }else{
                        email='';
                        }
                        
                        if (typeof obj.addressList.city != "undefined")
                        {
                        city=obj.addressList.city;
                        }else{
                        city='';
                        }
                        
                        if (typeof obj.addressList.state != "undefined")
                        {
                        state=obj.addressList.state;
                        }else{
                        state='';
                        }
                        
                        if (typeof obj.addressList.zipcode != "undefined")
                        {
                        zipcode=obj.addressList.zipcode;
                        }else{
                        zipcode='';
                        }
                        
                        if (typeof obj.addressList.address1 != "undefined")
                        {
                        address=obj.addressList.address1;
                        }else{
                        address='';
                        }
                        if (typeof obj.addressList.id != "undefined")
                        {
                        id=obj.addressList.id;
                        }else{
                        id='';
                        }

                        if (typeof obj.addressList.phone1 != "undefined")
                        {
                        phone=obj.addressList.phone1;
                        phone=returnphoneformat(phone);
                        }else{
                        phone='';
                        }

                        hrtid=i+'heart';
    
                var string="'"+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+'=='+id+'=='+phone+"'";
                        
                        innerhtmltext+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span>​<span class="top-icon-2 delete1" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​<h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p></div></div>';
                    }else{
                    document.getElementById("exist_add").value="1";
                    //alert(1111);
                    for(i=0;i<obj.addressList.length;i++)
                {
                    
                    
                    if (typeof obj.addressList[i].name != "undefined")
                    {
                    name=obj.addressList[i].name;
                    }else{
                    name='';
                    }
                    
                    if (typeof obj.addressList[i].email != "undefined")
                    {
                    email=obj.addressList[i].email;
                    }else{
                    email='';
                    }
                    
                    if (typeof obj.addressList[i].city != "undefined")
                    {
                    city=obj.addressList[i].city;
                    }else{
                    city='';
                    }
                    
                    if (typeof obj.addressList[i].state != "undefined")
                    {
                    state=obj.addressList[i].state;
                    }else{
                    state='';
                    }
                    
                    if (typeof obj.addressList[i].zipcode != "undefined")
                    {
                    zipcode=obj.addressList[i].zipcode;
                    }else{
                    zipcode='';
                    }
                    
                    if (typeof obj.addressList[i].address1 != "undefined")
                    {
                    address=obj.addressList[i].address1;
                    }else{
                    address='';
                    }

                    if (typeof obj.addressList[i].id != "undefined")
                        {
                        id=obj.addressList[i].id;
                        }else{
                        id='';
                        }

                        if (typeof obj.addressList[i].phone1 != "undefined")
                        {
                        phone=obj.addressList[i].phone1;
                        phone=returnphoneformat(phone);
                        }else{
                        phone='';
                        }

                        hrtid=i+'heart';

                     var string="'"+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+'=='+id+'=='+phone+"'";
                    
                    innerhtmltext+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span>​<span class="top-icon-2 delete1" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​<h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p></div></div>';
                    
                    
                }
                    }
                
                    }
                
                    var finlhrt=hrtid;
                var final_email=email;
                var name1=name;
                var email1=email;
                var city1=city;
                var state1=state;
                var zipcode1=zipcode;
                var address1=address;
                var id1=id;
                var phone1=phone;

                //if (typeof obj.addressList[i-1].name != "undefined")
                //{
                //   name1=obj.addressList[i-1].name;
                //}
                //
                //if (typeof obj.addressList[i-1].email != "undefined")
                //{
                //   email1=obj.addressList[i-1].email;
                //}
                //
                //if (typeof obj.addressList[i-1].city != "undefined")
                //{
                //   city1=obj.addressList[i-1].city;
                //}
                //
                //if (typeof obj.addressList[i-1].state != "undefined")
                //{
                //   state1=obj.addressList[i-1].state;
                //}
                //
                //if (typeof obj.addressList[i-1].zipcode != "undefined")
                //{
                //   zipcode1=obj.addressList[i-1].zipcode;
                //}
                //
                //if (typeof obj.addressList[i-1].address1 != "undefined")
                //{
                //   address1=obj.addressList[i-1].address1;
                //}

               document.getElementById("final_sendstr").value="'"+name1+'=='+email1+'=='+address1+'=='+city1+'=='+state1+'=='+zipcode1+'=='+id1+'=='+phone1+"'";

               // alert("reall_div"+document.getElementById("final_sendstr").value);
               // alert("reall_div_stat"+document.getElementById("redirect_settings_val_cnct").value);
             var value_new=document.getElementById("final_sendstr").value;
               if(document.getElementById("redirect_settings_val_cnct").value!='fromSettingscontact')
                 {

                    // alert("hello hello");
                    // alert(value_new);
                    var splitvals=value_new.split('==');
                    var name_final=splitvals[0];
                    var email_final=splitvals[1];
                    var addr_final=splitvals[2];
                    var city_final=splitvals[3];
                    var state_final=splitvals[4];
                    var zipcode_final=splitvals[5];
                    var address_id=splitvals[6];
                    var phone1_final=splitvals[7];
                    phone1_final=phone1_final.replace("'","");

                    //alert(name_final);

                    var name_new=name_final.replace("'","");

                    $("#dis_name").html(name_new);
                    $("#dis_mail").html(email_final);
                    $("#dis_add").html(addr_final);
                    $("#dis_add_del").html(city_final+','+state_final+','+zipcode_final+'<br/>'+phone1_final);
                 }
           // alert('recall_div final_sendstr - '+document.getElementById("final_sendstr").value);

                document.getElementById("final_email").value=final_email;





                var innerhtmltext2='';
                var lasfour='';
                var payment_profid='';
                var cardtype='';
                var payment_info='';
                var payment_expdate='';
                var hrtpaymnt='';
                 if (typeof obj.pmtList != "undefined") {
                    if (typeof obj.pmtList.length == "undefined") {
                        document.getElementById("exist_payment").value="1";
                    lasfour=obj.pmtList.lastFour;
                        payment_profid=obj.pmtList.paymentProfileId;
                        payment_info=obj.pmtList.lastFour;
                        payment_expdate=obj.pmtList.expDate;
                        cardtype=obj.pmtList.cardtype;
                        if(cardtype=="American Express"){
                            cardtype="AMEX";
                        }

                        hrtpaymnt=i+'heart1';
               var string_payment="'"+lasfour+'=='+payment_expdate+'=='+cardtype+"'";
             innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+obj.pmtList.expDate+'</h2></div></div>';
                    }else{
                    document.getElementById("exist_payment").value="1";
                    for(i=0;i<obj.pmtList.length;i++)
                    {
                        //alert(obj.pmtList[i].lastFour);
                        lasfour=obj.pmtList[i].lastFour;
                        payment_profid=obj.pmtList[i].paymentProfileId;
                        payment_info=obj.pmtList[i].lastFour;
                        payment_expdate=obj.pmtList[i].expDate;
                        cardtype=obj.pmtList[i].cardtype;
                        if(cardtype=="American Express"){
                            cardtype="AMEX";
                        }

                        hrtpaymnt=i+'heart1';

                        var string_payment="'"+lasfour+'=='+payment_expdate+'=='+cardtype+"'";
    
             innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+obj.pmtList[i].expDate+'</h2></div></div>';
                             //alert(innerhtmltext2);
                        
                    }
                 }
                 }

                var final_paymentprofId=payment_profid;
                var final_payment_info=lasfour;
               var final_payment_expdate=payment_expdate;
               var final_payment_cardtype=cardtype;

                document.getElementById("final_sendstr_payment").value="'"+final_payment_info+'=='+final_payment_expdate+'=='+final_payment_cardtype+"'";
                //alert('final_sendstr_payment - '+document.getElementById("final_sendstr_payment").value);

                var final_payment_in=document.getElementById("final_sendstr_payment").value;
                //alert('final_payment_in - '+final_payment_in);

                if(document.getElementById("redirect_settings_val").value!='fromSettingscards')
                 {
                    var splitvals=final_payment_in.split('==');
                    var last_four=splitvals[0];
                    var expdate=splitvals[1];

                    var lastfour_new=last_four.replace("'","");
                    var expdate_new=expdate.replace("'","");

                     $("#last_four").html(final_payment_cardtype+': **** **** **** '+lastfour_new);
                    $("#expdate").html('Exp: '+expdate_new);
                 }

                //alert(final_paymentprofId);
                document.getElementById("final_paymentprofId").value=final_paymentprofId;
                //alert('function recall_div - '+final_payment_info);
                document.getElementById("payment_info").value=final_payment_info;
        document.getElementById("payment_expirydate").value=final_payment_expdate;

        document.getElementById("show_logout").style.display="block";
        document.getElementById("show_login_li").style.display="none";

            //alert('recall_div-'+document.getElementById("payment_info").value);    //alert(innerhtmltext2);
                //  var sharing="";

                // var objSelect = document.getElementById("flip2");
                // //Set selected
                // if(obj.sharing=="0"){
                //     sharing="Off";hgvftcft
                // }else{
                //     sharing="On";
                // }
                    
                //     for (var x = 0; x < objSelect.options.length; x++) {
                //         if (objSelect.options[x].text== sharing) {
                //             objSelect.options[x].selected = true;
                            
                //         }
                //     }
                

                $("#contacts-list").html(innerhtmltext);
                
                $("#paymentlist").html(innerhtmltext2);

                document.getElementById("final_hrtidval").value=finlhrt;
                document.getElementById("final_hrtpayment").value=hrtpaymnt;

                 if(innerhtmltext!=""){
                    document.getElementById(finlhrt).className = "top-icon-1 heart-icon active";
                }
                 if(innerhtmltext2!=""){
                     document.getElementById(hrtpaymnt).className = "top-icon-1 heart-icon active";
                 }

                 if(document.getElementById('delete_recall_div').value=="1"){
                document.getElementById('homepagebtn').href="#"+$.mobile.activePage.attr('id')
                document.getElementById('homepagebtn').click();
                document.getElementById('delete_recall_div').value="";
            }

                    
                   
                    //testIslogin();
                    }
            });


           

        }


        //var string="'"+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+"'";
        var fb_html='';
        function sendfacebookcnct(fname,lname,email){
            //alert('eeeeee');
            document.getElementById('sign_in_loader').style.display='';
            //alert('sendfacebookcnct-'+document.getElementById("checkout_check").value);
             //alert(fname+'.......'+lname+'......'+email);
        $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/facebookcoonecnt.php",
            data: "fname="+fname+"&lname="+lname+"&email="+email,
            cache: false,
                    success: function(html){

                        //alert(html);
            //alert();
            document.getElementById('sign_in_loader').style.display='';
                        var date = new Date();
                        var minutes = 1440;
                         date.setTime(date.getTime() + (minutes * 60 * 1000));
                        $.cookie("islogin", "yes", { expires: date });
                        
                    // alert(fname+'.......'+lname+'......'+email);
                    //alert('sendfacebookcnct html -- '+html);

                    //  console.log(html);

                    var splitArray = html.split('@@');
                    var profId=splitArray[1];
                    var Email1=splitArray[2];
                    var Name1=splitArray[3];
                    var Address1=splitArray[4];
                    var City1=splitArray[5];
                    var State1=splitArray[6];
                    var Zipcode1=splitArray[7];
                    var Phone1=splitArray[8];

                    //$.cookie('the_cookie', 'the_value');

                    
                    var name=fname+" "+lname;
                    $.cookie("fb_uname", name , { expires: date });
                    fb_html=splitArray[0];

                    //alert('===='+fb_html);

                    var obj = JSON.parse(fb_html);
                 // alert(obj.pmtList.length);
                
                var i=0;
                var innerhtmltext='';
                var name='';
                    var email='';
                    var city='';
                    var state='';
                    var zipcode='';
                    var address='';
                    var id='';
                    var phone='';
                    var hrtid='';
                    if (typeof obj.addressList != "undefined") {
                    //alert('length-'+obj.addressList.length);
                    if (typeof obj.addressList.length == "undefined") {

                        document.getElementById("exist_add").value="1";
                        if (typeof obj.addressList.name != "undefined")
                        {
                        name=obj.addressList.name;
                        }else{
                        name='';
                        }
                        
                        if (typeof obj.addressList.email != "undefined")
                        {
                        email=obj.addressList.email;
                        }else{
                        email='';
                        }
                        
                        if (typeof obj.addressList.city != "undefined")
                        {
                        city=obj.addressList.city;
                        }else{
                        city='';
                        }
                        
                        if (typeof obj.addressList.state != "undefined")
                        {
                        state=obj.addressList.state;
                        }else{
                        state='';
                        }
                        
                        if (typeof obj.addressList.zipcode != "undefined")
                        {
                        zipcode=obj.addressList.zipcode;
                        }else{
                        zipcode='';
                        }
                        
                        if (typeof obj.addressList.address1 != "undefined")
                        {
                        address=obj.addressList.address1;
                        }else{
                        address='';
                        }

                        if (typeof obj.addressList.id != "undefined")
                        {
                        id=obj.addressList.id;
                        }else{
                        id='';
                        }

                        if (typeof obj.addressList.phone1 != "undefined")
                        {
                        phone=obj.addressList.phone1;
                        phone=returnphoneformat(phone);
                        }else{
                        phone='';
                        }
                        hrtid=i+'heart';
    
                var string="'"+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+'=='+id+'=='+phone+"'";
                        
                        innerhtmltext+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span>​<span class="top-icon-2 delete1" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​<h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p></div></div>';
                    }else{
                    document.getElementById("exist_add").value="1";
                    //alert(1111);
                    for(i=0;i<obj.addressList.length;i++)
                {
                    
                    
                    if (typeof obj.addressList[i].name != "undefined")
                    {
                    name=obj.addressList[i].name;
                    }else{
                    name='';
                    }
                    
                    if (typeof obj.addressList[i].email != "undefined")
                    {
                    email=obj.addressList[i].email;
                    }else{
                    email='';
                    }
                    
                    if (typeof obj.addressList[i].city != "undefined")
                    {
                    city=obj.addressList[i].city;
                    }else{
                    city='';
                    }
                    
                    if (typeof obj.addressList[i].state != "undefined")
                    {
                    state=obj.addressList[i].state;
                    }else{
                    state='';
                    }
                    
                    if (typeof obj.addressList[i].zipcode != "undefined")
                    {
                    zipcode=obj.addressList[i].zipcode;
                    }else{
                    zipcode='';
                    }
                    
                    if (typeof obj.addressList[i].address1 != "undefined")
                    {
                    address=obj.addressList[i].address1;
                    }else{
                    address='';
                    }

                    if (typeof obj.addressList[i].id != "undefined")
                        {
                        id=obj.addressList[i].id;
                        }else{
                        id='';
                        }

                        if (typeof obj.addressList[i].phone1 != "undefined")
                        {
                        phone=obj.addressList[i].phone1;
                        phone=returnphoneformat(phone);
                        }else{
                        phone='';
                        }

                        hrtid=i+'heart';



                    var string="'"+name+'=='+email+'=='+address+'=='+city+'=='+state+'=='+zipcode+'=='+id+'=='+phone+"'";
                    
                    innerhtmltext+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart" onclick="send_email('+string+',this)"></span>​<span class="top-icon-2 delete1" id="'+i+'del" onclick="delete_email('+id+',this)"></span>​<h2><a href="#"><b>'+name+'</b></a></h2><p><a href="#">'+email+'</a></p><p>'+address+'</p><p>'+city+', '+state+' '+zipcode+'<br/>'+phone+'</p></div></div>';
                    
                    
                }
                    }
                
                    }

                    //alert(hrtid);
                
                    var finlhrt=hrtid;
                
                var final_email=email;
                var name1=name;
                var email1=email;
                var city1=city;
                var state1=state;
                var zipcode1=zipcode;
                var address1=address;
                var id1=id;
                var phone1=phone;

                //if (typeof obj.addressList[i-1].name != "undefined")
                //{
                //   name1=obj.addressList[i-1].name;
                //}
                //
                //if (typeof obj.addressList[i-1].email != "undefined")
                //{
                //   email1=obj.addressList[i-1].email;
                //}
                //
                //if (typeof obj.addressList[i-1].city != "undefined")
                //{
                //   city1=obj.addressList[i-1].city;
                //}
                //
                //if (typeof obj.addressList[i-1].state != "undefined")
                //{
                //   state1=obj.addressList[i-1].state;
                //}
                //
                //if (typeof obj.addressList[i-1].zipcode != "undefined")
                //{
                //   zipcode1=obj.addressList[i-1].zipcode;
                //}
                //
                //if (typeof obj.addressList[i-1].address1 != "undefined")
                //{
                //   address1=obj.addressList[i-1].address1;
                //}

               document.getElementById("final_sendstr").value="'"+name1+'=='+email1+'=='+address1+'=='+city1+'=='+state1+'=='+zipcode1+'=='+id1+'=='+phone1+"'";
                document.getElementById("final_email").value=final_email;
                    var ddd="'"+name1+'=='+email1+'=='+address1+'=='+city1+'=='+state1+'=='+zipcode1+'=='+id1+'=='+phone1+"'";
                //alert('sendfacebookcnct final_sendstr - '+document.getElementById("final_sendstr").value);



                var innerhtmltext2='';
                var lasfour='';
                var payment_profid='';
                var payment_info='';
                var payment_expdate='';
                var payment_id='';
                var hrtpaymnt='';
                var cardtype='';
                 if (typeof obj.pmtList != "undefined") {
                    if (typeof obj.pmtList.length == "undefined") {

                        document.getElementById("exist_payment").value="1";
                    lasfour=obj.pmtList.lastFour;
                        payment_profid=obj.pmtList.paymentProfileId;
                        payment_info=obj.pmtList.lastFour;
                        payment_expdate=obj.pmtList.expDate;
                        payment_id=obj.pmtList.id;
                        hrtpaymnt=i+'heart1';
                        cardtype=obj.pmtList.cardtype;
                        if(cardtype=="American Express"){
                            cardtype="AMEX";
                        }

                        var string_payment="'"+lasfour+'=='+payment_expdate+'=='+cardtype+"'";
    
             innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+obj.pmtList.expDate+'</h2></div></div>';
                    }else{
                        document.getElementById("exist_payment").value="1";
                    
                    for(i=0;i<obj.pmtList.length;i++)
                    {
                        //alert(obj.pmtList[i].lastFour);
                        lasfour=obj.pmtList[i].lastFour;
                        payment_profid=obj.pmtList[i].paymentProfileId;
                        payment_info=obj.pmtList[i].lastFour;
                        payment_expdate=obj.pmtList[i].expDate;
                        payment_id=obj.pmtList[i].id;
                        cardtype=obj.pmtList[i].cardtype;
                        if(cardtype=="American Express"){
                            cardtype="AMEX";
                        }
                        hrtpaymnt=i+'heart1';

                        var string_payment="'"+lasfour+'=='+payment_expdate+'=='+cardtype+"'";
    
             innerhtmltext2+='<div class="bar bar-default"><div class="addressBar addressBarChange"><span class="top-icon-1 heart-icon" id="'+i+'heart1" onclick = "payment_proflid('+payment_profid+','+lasfour+','+payment_expdate+',this,'+string_payment+');"></span><span class="deleteicon"></span>​<span class="top-icon-2 delete1" id="'+i+'delp" onclick = "delete_payment('+payment_profid+',this);"></span>​<h2>'+cardtype+': **** **** **** '+lasfour+'</h2><h2>Exp: '+obj.pmtList[i].expDate+'</h2></div></div>';
                             //alert(innerhtmltext2);
                        
                    }
                 }
                 }

                 //alert(hrtpaymnt);

                var final_paymentprofId=payment_profid;
                var final_payment_info=lasfour;
               var final_payment_expdate=payment_expdate;
                var final_payment_cardtype=cardtype;


               document.getElementById("final_sendstr_payment").value="'"+final_payment_info+'=='+final_payment_expdate+'=='+final_payment_cardtype+"'";

               //alert(final_paymentprofId);
               document.getElementById("final_paymentprofId").value=final_paymentprofId;
              // alert('function sendfacebookcnct - '+final_payment_info);
               document.getElementById("payment_info").value=final_payment_info;
                document.getElementById("payment_expirydate").value=final_payment_expdate;

                 //alert(innerhtmltext2);


                 document.getElementById("show_logout").style.display="block";
                 document.getElementById("show_login_li").style.display="none";
                    //g();

                        if(frompageval=="home"){
                             frompageval="";
                             document.getElementById('whereYou').value="";
                            $.mobile.changePage("#home");
                            document.getElementById('sign_in_loader').style.display='none';
                        }else if(frompageval=="truckDetails"){
                            frompageval="";
                            $.mobile.changePage("#truckDetails");
                            document.getElementById('sign_in_loader').style.display='none';
                        }else if(frompageval=="addItem"){
                            frompageval="";
                            $.mobile.changePage("#addItem");
                            document.getElementById('sign_in_loader').style.display='none';
                        }else if(document.getElementById("checkout_check").value!="")
                        {
                            //alert('gotocheckout');

                            //$("#checkoutPage").html(document.getElementById('checkout_html_value').value);
                            //alert('add_details_blank - '+document.getElementById('add_details_blank').value);

                            var val_add=document.getElementById("final_sendstr").value;

                            var splitvals=val_add.split('==');
                            var name_final=splitvals[0];
                            var email_final=splitvals[1];
                            var addr_final=splitvals[2];
                            var city_final=splitvals[3];
                            var state_final=splitvals[4];
                            var zipcode_final=splitvals[5];
                            var address_id=splitvals[6];
                            var phone1_final=splitvals[7];
                             var name_new=name_final.replace("'","");


                            var val_payment=document.getElementById("final_sendstr_payment").value;

                            var splitvals1=val_payment.split('==');
                            var last_four1=splitvals1[0];
                            var expdate1=splitvals1[1];
                            var pmt_cardtype1=splitvals1[2];

                            var lastfour_new=last_four1.replace("'","");
                            var expdate_new=expdate1.replace("'","");
                            var pmt_cardtype_new=pmt_cardtype1.replace("'","");


                             if(document.getElementById('add_details_blank').value!=""){
                                //alert(email_final);
                                //if (typeof $.cookie("count") == "undefined"){}
                                //alert(splitvals[1]);
                                if (splitvals[1]!=""){
                                    document.getElementById('addnewcnct').innerHTML='<h2 id="dis_name"></h2><p id="dis_mail"></p><p id="dis_add"></p><p id="dis_add_del"></p>';
                                    document.getElementById('addnewcnct').className = "addressBar ui-link";
                                    document.getElementById('add_details_blank').value="";
                                }
                            }
                            //alert('paymentdetails - '+document.getElementById('payment_details_blank').value);

                            if(document.getElementById('payment_details_blank').value!=""){
                                if(splitvals1[1]!=""){
                                    document.getElementById('addnewpmt').innerHTML='<p id="last_four"></p><p id="expdate"></p>';
                                    document.getElementById('addnewpmt').className = "addressBar ui-link";
                                    document.getElementById('payment_details_blank').value="";
                                }
                            }


                    //alert(name_final);
                       phone1_final=phone1_final.replace("'","");
                        $("#dis_name").html(name_new);
                        $("#dis_mail").html(email_final);
                        $("#dis_add").html(addr_final);
                        $("#dis_add_del").html(city_final+','+state_final+','+zipcode_final+'<br/>'+phone1_final);

                       

                        //alert(last_four);

                       

                        $("#last_four").html(pmt_cardtype_new+': **** **** **** '+lastfour_new);
                        $("#expdate").html('Exp: '+expdate_new);

                            document.getElementById('checkout_html_value').value="";
                            document.getElementById("basket_check").value="";
                            document.getElementById("checkout_check").value="";
                            document.getElementById("menu_check").value="";
                            document.getElementById("details_check").value="";
                            $.mobile.changePage("#checkOut");
                            document.getElementById('sign_in_loader').style.display='none';

                        }
                        else if(document.getElementById("basket_check").value!="")
                        {
                            //alert('gotobasket');
                            document.getElementById("basket_check").value="";
                            document.getElementById("checkout_check").value="";
                            document.getElementById("menu_check").value="";
                            document.getElementById("details_check").value="";
                            //alert($.cookie("count"));
                            if (typeof $.cookie("count") == "undefined" || $.cookie("count")=="0"){
                                document.getElementById('whereYou').value="";
                                $.mobile.changePage("#home");
                                document.getElementById('sign_in_loader').style.display='none';
                            }else{
                                $.mobile.changePage("#Basket");
                                document.getElementById('sign_in_loader').style.display='none';
                            }
                        }
                        else if(document.getElementById("menu_check").value!="")
                        {
                            //alert('gotobasket');
                            document.getElementById("basket_check").value="";
                            document.getElementById("checkout_check").value="";
                            document.getElementById("menu_check").value="";
                            document.getElementById("details_check").value="";
                            $.mobile.changePage("#searchResult");
                            document.getElementById('sign_in_loader').style.display='none';
                        }
                        else if(document.getElementById("details_check").value!="")
                        {
                            //alert('gotobasket');
                            document.getElementById("basket_check").value="";
                            document.getElementById("checkout_check").value="";
                            document.getElementById("menu_check").value="";
                            document.getElementById("details_check").value="";
                            $.mobile.changePage("#truckDetails");
                            document.getElementById('sign_in_loader').style.display='none';
                        }
                        else
                        {
                            document.getElementById('whereYou').value="";
                           $.mobile.changePage("#home");
                           document.getElementById('sign_in_loader').style.display='none';
                        }
                    

                //  var sharing="";

                // var objSelect = document.getElementById("flip2");
                // //Set selected
                // if(obj.sharing=="0"){
                //  sharing="Off";
                // }else{
                //  sharing="On";
                // }
                    
                //     for (var x = 0; x < objSelect.options.length; x++) {
                //         if (objSelect.options[x].text== sharing) {
                //             objSelect.options[x].selected = true;
                            
                //         }
                //     }

                document.getElementById("final_hrtidval").value=finlhrt;
                document.getElementById("final_hrtpayment").value=hrtpaymnt;
                
                //alert(innerhtmltext);
                $("#contacts-list").html(innerhtmltext);
                
                $("#paymentlist").html(innerhtmltext2);
                if(innerhtmltext!=""){
                    document.getElementById(finlhrt).className = "top-icon-1 heart-icon active";
                }
                 if(innerhtmltext2!=""){
                     document.getElementById(hrtpaymnt).className = "top-icon-1 heart-icon active";
                 }
                    
                   $.cookie("profId", profId , { expires: date });
                   $.cookie("Email1", Email1 , { expires: date });
                   $.cookie("Name1", Name1 , { expires: date });
                   $.cookie("Address1", Address1 , { expires: date });
                   $.cookie("City1", City1 , { expires: date });
                   $.cookie("State1", State1 , { expires: date });
                   $.cookie("Zipcode1", Zipcode1 , { expires: date });
                   $.cookie("Phone1", Phone1 , { expires: date });
                    //alert($.cookie("profId"));
            //alert($.cookie("islogin"));

                    
                      

                    }
            });


            

        }


        function redirect_settings_credits(value)
            {
               //alert(value);

               document.getElementById("redirect_settings_val").value=value;
               $.mobile.changePage("#paymentMethod");

            }

            function redirect_settings_cnct(value)
            {
               //alert(value);

               document.getElementById("redirect_settings_val_cnct").value=value;
               //alert('checkout_stat_set '+document.getElementById("redirect_settings_val_cnct").value)
               $.mobile.changePage("#contactInfo");

            }


            function submit_card(){

           //alert("hello");

           
           var redirect_val=document.getElementById("redirect_settings_val").value;
           //alert(redirect_val);

           $("#checkoutPage").html('');
           //$("#checkoutPage").html('');

        var d = new Date();
        var n = d.getFullYear();
       var cardtype=$("#card_Type").val();
       var cardname=$("#nameOnCard").val();
       var cardNumber=$("#cardNumber").val();
       var expMonth=$("#expMonth").val();
       var expYear=$("#expYear").val();
       var CVVCode=$("#CVVCode").val();
       var profileId = $.cookie("profId");
       var checkout_string=encodeURIComponent($.cookie("prevsName"));

       //alert(checkout_string);

       //"string="+$.cookie("prevsName")

       //alert(profileId);

       //alert(CVVCode);

       if (cardtype.search(/\S/)==-1) {
       //jAlert('Card Type is mandatory');
       var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card Type is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
       else if (cardname.search(/\S/)==-1) {
       //jAlert('Card Name is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card Name is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (cardNumber.search(/\S/)==-1) {
       //jAlert('Card Number is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card Number is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if(cardNumber.length!=16){
        //jAlert('Card number should be 16 digits');
         var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Card number should be 16 digits";
        document.getElementById('alertbtn'+pageid).click();
    }
         else if (expMonth.search(/\S/)==-1) {
       //jAlert('Exp month is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp month is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (expMonth>12 || expMonth<1) {
       //jAlert('Exp month is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp month should be between 1 to 12";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (expYear.search(/\S/)==-1) {
       //jAlert('Exp year is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp year is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (expYear<n) {
       //jAlert('Exp year should be greater than current year');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="Exp year should be greater than current year";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (CVVCode.search(/\S/)==-1) {
       //jAlert('CVV Code is mandatory');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="CVV Code is mandatory";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else if (CVVCode.length!=3) {
       //jAlert('CVV code should be 3 digits');
        var pageid=$.mobile.activePage.attr('id');
        document.getElementById('popup'+pageid).innerHTML="CVV code should be 3 digits";
        document.getElementById('alertbtn'+pageid).click();
       return false;
         }
         else{

                      $("#checkoutPage").fadeOut(500,function(){
                       $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                      $(this).show("fast");
                      });
                      globalcardtype=cardtype;

       $.ajax({
             type: "POST",
             url: "http://esolzdemos.com/lab1/whatthetrucks/CustomerPaymet.php",
             data: "cardtype="+cardtype+"&cardname="+cardname+"&cardNumber="+cardNumber+"&expMonth="+expMonth+"&expYear="+expYear+"&CVVCode="+CVVCode+"&profileId="+profileId+"&checkout_string="+checkout_string,
             cache: false,
                     success: function(html){
                        //alert('html - '+html);

                        

                    // $("#card_Type").val('');
                    // $("#nameOnCard").val('');
                    // $("#cardNumber").val('');
                    // $("#expMonth").val('');
                    // $("#expYear").val('');
                    // $("#CVVCode").val('');

                     //alert(allval);
                     var allval=html;
                     if(allval=="-1"){
                        var pageid=$.mobile.activePage.attr('id');
                        document.getElementById('popup'+pageid).innerHTML="Sorry we were unable to add the credit card. Please try again";
                        document.getElementById('alertbtn'+pageid).click();
                        return false;
                     }
                     var four_last=cardNumber.substr(cardNumber.length - 4);
                        var yr_mnth=expYear+"-"+expMonth;
                        if(cardtype=="American Express"){
                            cardtype="AMEX";
                        }
                        document.getElementById("final_sendstr_payment").value="'"+four_last+'=='+yr_mnth+'=='+cardtype+"'";

                     

                     document.getElementById("exist_payment").value="1";
                     recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                     //alert('submit_card - '+redirect_val);
                     if(redirect_val!='fromSettingscards')
                     {
                        //alert('1');
                           testIslogin();

                         // $.mobile.changePage("#checkOut");
                         //  //$('#checkoutPage').html(allval);
                            
                         //      $('#checkoutPage').fadeOut(500,function(){
                         //          $(this).html(allval);
                         //          $(this).fadeIn(500);
                         //         $('.delete').click(function() {
                         //                     $(this).parent().parent().remove();
                         //             });
                         //      });
                     }
                     else
                     {
                            //$.mobile.changePage("#checkOut");
                            //alert('2');
                            var pageid=$.mobile.activePage.attr('id');
                                            //document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
                                            document.getElementById('alertbtnadd'+pageid).click(); 
                           setTimeout(loadpaymentmethod, 2000);


                     }
                                 

                      }
             });

         } 

       }

        
        // function submit_card(){

        //     $("#checkoutPage").html('');

        // var cardtype=$("#card_Type").val();
        // var cardname=$("#nameOnCard").val();
        // var cardNumber=$("#cardNumber").val();
        // var expMonth=$("#expMonth").val();
        // var expYear=$("#expYear").val();
        // var CVVCode=$("#CVVCode").val();
        // var profileId = $.cookie("profId");
        // var checkout_string=encodeURIComponent($.cookie("prevsName"));

        // //alert(checkout_string);

        // //"string="+$.cookie("prevsName")

        // //alert(profileId);

        // //alert(CVVCode);
        //   if (cardNumber.search(/\S/)==-1) {
        // alert('Card Number is mandatory');
        // return false;
        //   }else{

        //                $("#checkoutPage").fadeOut(500,function(){
        //                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
        //                $(this).show("fast");
        //                });

        // $.ajax({
        //       type: "POST",
        //       url: "http://esolzdemos.com/lab1/whatthetrucks/CustomerPaymet.php",
        //       data: "cardtype="+cardtype+"&cardname="+cardname+"&cardNumber="+cardNumber+"&expMonth="+expMonth+"&expYear="+expYear+"&CVVCode="+CVVCode+"&profileId="+profileId+"&checkout_string="+checkout_string,
        //       cache: false,
        //               success: function(html){

        //               var allval=html;
        //               //alert(allval);
        //                           testIslogin();

        //               $.mobile.changePage("#checkOut");
        //                //$('#checkoutPage').html(allval);
                         
        //                    $('#checkoutPage').fadeOut(500,function(){
        //                        $(this).html(allval);
        //                        $(this).fadeIn(500);
        //                       $('.delete').click(function() {
        //                                   $(this).parent().parent().remove();
        //                           });
        //                    });

        //                }
        //       });

        //   } 

        // }
function validateEmail(elementValue)
    {
      var pattern = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/😕?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/😕?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
     return pattern.test(elementValue);
    }

        function add_addressinfo(){
            document.getElementById("addcnctbtn").disabled = true;

               var redirect_val_add=document.getElementById("redirect_settings_val_cnct").value;
               //alert("add_addressinfo "+redirect_val_add);

var Name=$("#Name").val();
var Address=$("#Address").val();
var City=$("#City").val();
var State=$("#State").val();
var ZIP=$("#ZIP").val();
var Mobile=$("#Mobile").val();
var Email=$("#Email").val();
var profileId = $.cookie("profId");
var Email1 = $.cookie("Email1");
var Name1 = $.cookie("Name1");
var Address1 = $.cookie("Address1");
var City1 = $.cookie("City1");
var State1 = $.cookie("State1");
var Zipcode1 = $.cookie("Zipcode1");
var Phone1 = $.cookie("Phone1");
var checkout_string=encodeURIComponent($.cookie("prevsName"));

//alert(Mobile);




if(Name.search(/\S/) == -1){
//jAlert('Name is mandatory');
var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
document.getElementById('alertbtn'+pageid).click();
return false;
}
else if(Address.search(/\S/) == -1){
//jAlert('Address is mandatory');
var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="Address is mandatory";
document.getElementById('alertbtn'+pageid).click();
return false;
}
else if(City.search(/\S/) == -1){
//jAlert('City is mandatory');
var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="City is mandatory";
document.getElementById('alertbtn'+pageid).click();
return false;
}
else if(State.search(/\S/) == -1){
//jAlert('State is mandatory');
var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="State is mandatory";
document.getElementById('alertbtn'+pageid).click();
return false;
}
else if(ZIP.search(/\S/) == -1){
//jAlert('ZIP is mandatory');
var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="ZIP is mandatory";
document.getElementById('alertbtn'+pageid).click();
return false;
}
else if(ZIP.length!=5){
    //jAlert('ZIP should be 5 digits');
var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="ZIP should be 5 digits";
document.getElementById('alertbtn'+pageid).click();
}
else if(Mobile.search(/\S/) == -1){
//jAlert('Mobile is mandatory');
var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="Mobile is mandatory";
document.getElementById('alertbtn'+pageid).click();
return false;
}
else if(Mobile.length!=10){
    //jAlert('Phone should be 10 digits');
    var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="Phone should be 10 digits";
document.getElementById('alertbtn'+pageid).click();
}
else if(Email.search(/\S/) == -1){
//jAlert('Email is mandatory');
var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="Email is mandatory";
document.getElementById('alertbtn'+pageid).click();
return false;
}
else if(!validateEmail(Email))
{
                   //alert('Provide a valid email');
                  //jAlert('Invalid Email');
                  var pageid=$.mobile.activePage.attr('id');
document.getElementById('popup'+pageid).innerHTML="Invalid Email";
document.getElementById('alertbtn'+pageid).click();
return false;
}

else{
Mobile=deformatphone();
//alert('Mobile - '+Mobile);
        
$.ajax({
      type: "POST",
      url: "http://esolzdemos.com/lab1/whatthetrucks/Add_addressInfo.php",
      data: "Name="+Name+"&Address="+Address+"&City="+City+"&ZIP="+ZIP+"&Mobile="+Mobile+"&Email="+Email+"&State="+State+"&profileId="+profileId+"&checkout_string="+checkout_string+"&Email1="+Email1+"&Name1="+Name1+"&Address1="+Address1+"&City1="+City1+"&State1="+State1+"&Zipcode1="+Zipcode1+"&Phone1="+Phone1,
      cache: false,
              success: function(html){
                
                Mobile=returnphoneformat(Mobile);
                document.getElementById("final_sendstr").value="'"+Name+'=='+Email+'=='+Address+'=='+City+'=='+State+'=='+ZIP+'=='+profileId+'=='+Mobile+"'";

                //alert(Name);
                //document.getElementById("dis_name").innerHTML=Name;
                // $("#dis_name").html(Name);
                //     $("#dis_mail").html(Email);
                //     $("#dis_add").html(Address);
                //     $("#dis_add_del").html(Address1+','+State1+','+Zipcode1);
                                document.getElementById("exist_add").value=="1";


                                   recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                                   // var final_string=document.getElementById("final_sendstr").value;
                                   //         alert("final_stradd"+final_string);
                                   
               var allval=html;
               //alert(allval);
               // $("#Name").val('');
               //  $("#Address").val('');
               //  $("#City").val('');
               // $("#State").val('');
               // $("#ZIP").val('');
               //  $("#Mobile").val('');
               //  $("#Email").val('');
               //alert(allval);
                                   if(redirect_val_add!='fromSettingscontact')
                                     {
                                       
                                           testIslogin();

                                           

                                        
                                     }
                                     else
                                     {
                                           var pageid=$.mobile.activePage.attr('id');
                                            //document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
                                            document.getElementById('alertbtnadd'+pageid).click(); 
                                          setTimeout(loadcontactinfo, 2000);


                                     }

               }
      });
}



}

            openFB.init({appId: '899987186706780'});
            function otherfblogin() {
                    openFB.login(
                            function(response) {
                                if(response.status === 'connected') {
                                    alert('Facebook login succeeded, got access token: ' + response.authResponse.token);
                                    getInfo();
                                } else {
                                    alert('Facebook login failed: ' + response.error);
                                }
                            }, {scope: 'email,read_stream,publish_stream'});
                }
                
                function getInfo() {
                        openFB.api({
                            path: '/me',
                            success: function(data) {
                                console.log(JSON.stringify(data));
                                alert(data.name);
                            },
                            error: errorHandler});
                    }
                  

            var login = function () {
                //alert('alertlogin');
                var date = new Date();
                var minutes = 1440;
                 date.setTime(date.getTime() + (minutes * 60 * 1000));
                if (!window.cordova) {
                    var appId = prompt("Enter FB Application ID", "");
                    facebookConnectPlugin.browserInit(appId);
                }
                facebookConnectPlugin.login( ["email"],
                    function (response) { 
                        //alert(JSON.stringify(response)) 
                        var res = JSON.stringify(response);
                          var responseData = JSON.parse(res);

                          // alert(responseData.authResponse.firstName);
                          // alert(responseData.authResponse.lastName);
                          // alert(responseData.authResponse.emailId);
                          
                          $.cookie("fbname", responseData.authResponse.firstName, { expires: date });
                          $.cookie("fblname", responseData.authResponse.lastName, { expires: date });
                          $.cookie("fbeml", responseData.authResponse.emailId, { expires: date });
                          document.getElementById("logoimg").className="fbSttings";
                          
                          //alert('sendfacebookcnct1('+$.cookie("fbname")+','+$.cookie("fblname")+','+$.cookie("fbeml")+')');
                          sendfacebookcnct($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));

                    }
                    //function (response) { alert(JSON.stringify(response)) }
                    );
            }


           
            var showDialog = function () { 
                facebookConnectPlugin.showDialog( { method: "feed" }, 
                    function (response) { jAlert(JSON.stringify(response)) },
                    function (response) { jAlert(JSON.stringify(response)) });
                    
            }
            
            var apiTest = function () { 
                facebookConnectPlugin.api( "me/?fields=id,email", ["user_birthday"],
                    function (response) { jAlert(JSON.stringify(response)) },
                    function (response) { jAlert(JSON.stringify(response)) });
                    
            }

            var logPurchase = function () {
                facebookConnectPlugin.logPurchase(1.99, "USD",
                    function (response) { jAlertjAlert(JSON.stringify(response)) },
                    function (response) { jAlert(JSON.stringify(response)) });
            }

            var logEvent = function () {
                // For more information on AppEvent param structure see
                // https://developers.facebook.com/docs/ios/app-events
                // https://developers.facebook.com/docs/android/app-events
                facebookConnectPlugin.logEvent("Purchased",
                    {
                        NumItems: 1,
                        Currency: "USD",
                        ContentType: "shoes",
                        ContentID: "HDFU-8452"
                    }, null,
                    function (response) { jAlert(JSON.stringify(response)) },
                    function (response) { jAlert(JSON.stringify(response)) });
            }

            var getAccessToken = function () { 
                facebookConnectPlugin.getAccessToken( 
                    function (response) { jAlert(JSON.stringify(response)) },
                    function (response) { jAlert(JSON.stringify(response)) });
            }
            
            var getStatus = function () { 
                facebookConnectPlugin.getLoginStatus( 
                    function (response) { jAlert(JSON.stringify(response)) },
                    function (response) { jAlert(JSON.stringify(response)) });
            }

            var logout = function () { 
                facebookConnectPlugin.logout( 
                    function (response) { jAlert(JSON.stringify(response)) },
                    function (response) { jAlert(JSON.stringify(response)) });
            }








    //

            
            ///ajax pages

            function testIslogin(){

                //alert("hiihello");

                
                if($.cookie("prevsName")=="" || typeof $.cookie("prevsName") == "undefined")
                {
                    //jAlert("Please select some items");
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Please select some items";
                    document.getElementById('alertbtn'+pageid).click();
                    return false;
                    //$.mobile.changePage("#home");


                }
               document.getElementById("checkout_check").value="1";

                //$('#checkout_check').val('1');

                

                //document.g

                var check_value=document.getElementById("checkout_check").value;
                 //alert("testIslogin-"+check_value);

                

                var minorderamt=$.cookie("minorderamt");
                //var check_val=value;

                //totalpricevalue=document.getElementById("set_price").innerHTML;




                     

                        //alert("hiiii");

                       
                                

                       

                       

                            
               
            
        var showname=$.cookie("showname");
        var showaddr=$.cookie("showaddr");
        var showtime=$.cookie("showtime");
        var pickuptime=$.cookie("pickuptime");
        var taxRate=$.cookie("taxRate");

        var add_details=document.getElementById("final_sendstr").value;
        //alert('add_details- '+add_details);
        if(add_details==""){
            document.getElementById('add_details_blank').value="1";
        }
        
        //alert(add_details);
        var payment_details=document.getElementById("final_sendstr_payment").value;
        if(payment_details==""){
            document.getElementById('payment_details_blank').value="1";
        }

         // alert(last_four);
        // var mnth_yr=document.getElementById("payment_expirydate").value;

        //alert(add_details);
        
        var prevsnamestr=$.cookie("prevsName");
        var prevsnamestr_arr=prevsnamestr.split('=====');
        var cnt=0;
        var totalprice=0;
        for(cnt=0;cnt<prevsnamestr_arr.length;cnt++){
            var price=0;
            if(prevsnamestr_arr[cnt]!=""){
                var totalstr_arr=prevsnamestr_arr[cnt].split('##');
                //alert(totalstr_arr[5]);
                price=Number(totalstr_arr[5]);
                totalprice=Number(totalprice)+Number(price);
            }
        }
        // alert('totalprice - '+totalprice);
        // alert('minorderamt - '+minorderamt);
        if(totalprice<Number(minorderamt)){
            //alert('order amount should be minimum this ');
            $.mobile.changePage("#"+pageid);
           var pageid=$.mobile.activePage.attr('id');
            document.getElementById('popup'+pageid).innerHTML=showname+" has a $"+minorderamt+" minimum order amount.";
            document.getElementById('alertbtnBasket').click();
            return false;
        }
        //alert('add_details - '+add_details);
        // alert('timelimit - '+$.cookie("showtime"));
        // alert('pickuptm - '+$.cookie("pickuptm"));
        //alert('timelimit - '+$.cookie("showtime"));

                         $("#checkoutPage").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                $(this).show("fast");
                });
        // alert('final_sendstr - '+document.getElementById("final_sendstr").value);
        // alert('final_sendstr_payment - '+document.getElementById("final_sendstr_payment").value);
                $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/checkout_android.php",
            data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt+"&taxRate="+taxRate+"&add_details="+encodeURIComponent(add_details)+"&payment_details="+encodeURIComponent(payment_details)+"&pickup="+$.cookie("pickuptm"),
            cache: false,
                    success: function(html){
                    var allval=html;

                    
                    if($("#card_Type").val()=="Visa"){
                        document.getElementById('visaimg').className="ui-btn visa-btn";
                    }else if($("#card_Type").val()=="American Express"){
                        document.getElementById('ameximg').className="ui-btn americanExpress-btn";

                    }else if($("#card_Type").val()=="Master"){
                        document.getElementById('masterimg').className="ui-btn masterCard-btn";

                    }else if($("#card_Type").val()=="Discover"){
                        document.getElementById('discimg').className="ui-btn discover-btn";

                    }

                    $("#card_Type").val('');
                    $("#nameOnCard").val('');
                    $("#cardNumber").val('');
                    $("#expMonth").val('');
                    //$('#expMonth>option:eq(0)').attr('selected', true);
                    // $('select').selectmenu();
                    //         $('select').selectmenu('refresh', true);
                    $("#expYear").val('');
                    $("#CVVCode").val('');


                    if($.cookie("islogin") == "yes" && fb_html!=""){

                       if(check_value==1)
                       {
                           $.mobile.changePage("#checkOut");
                           $('#checkoutPage').fadeOut(500,function(){
                                                $(this).html(allval);
                                                $(this).fadeIn(500);
                                               $('.delete').click(function() {
                                                           $(this).parent().parent().remove();
                                                   });
                                            });

                        var date = new Date();
                        var minutes = 1440;
                        date.setTime(date.getTime() + (minutes * 60 * 1000));
                        var str="0";
                        $.cookie("tip_amount", str, { expires: date });
    
                   
                       }
                    }
                  else{
                   document.getElementById('checkout_html_value').value=allval;
                   frompageval="";
                   //alert(1);
                  $.mobile.changePage("#logIn");
                  $('#checkoutPage').fadeOut(500,function(){
                                                $(this).html(allval);
                                                $(this).fadeIn(500);
                                               $('.delete').click(function() {
                                                           $(this).parent().parent().remove();
                                                   });
                                            });

                  }
                  $("#Name").val('');
                    $("#Address").val('');
                    $("#City").val('');
                   //$("#State").val('');
                   $("#State").val($("#State option:first").val());
                   $("#ZIP").val('');
                    $("#Mobile").val('');
                    $("#Email").val('');
                    document.getElementById("addcnctbtn").disabled = false;
                    }
            });

                    // if($.cookie("islogin") === "yes"){

                    //     if(check_value==1)
                    //     {
                    //         $.mobile.changePage("#checkOut");
                    //     }
                    // }
                    //     else{
                            
                    //             $.mobile.changePage("#logIn");
                                

                    //     }



            }


  //           function storeVal()
  //           {
  //               //alert('hiiii');
  //           var addprice_val=0;
  //           document.getElementById("basket_check").value="1";

  //           var choiceval = document.getElementById('choiceval').value;
  //           var breadid= document.getElementById('breadid').value;
  //           var breadtype= document.getElementById('breadtype').value;
  //           var breadprice= document.getElementById('breadprice').value;

            
  //           //addprice_val=addprice_val+Number(breadprice);


           

  //           var choicesval = document.getElementById('choicesval').value;
  //           var choicesid= document.getElementById('choicesid').value;
  //           var choicestype= document.getElementById('choicestype').value;
  //           var choicesprice= document.getElementById('choicesprice').value;

  //           //addprice_val=addprice_val+Number(choicesprice);
            
            

  //           var sauceval = document.getElementById('sauceval').value;
  //           var sauceid= document.getElementById('sauceid').value;
  //           var saucetype= document.getElementById('saucetype').value;
  //           var sauceprice= document.getElementById('sauceprice').value;

  //           //addprice_val=addprice_val+Number(sauceprice);

  //           var extrasprice1= document.getElementById('extrasprices').value;

  //           //alert(extrasprice1);

  //           var splitvalue=extrasprice1.split(",");
  //           var pricevalues=0;

  //           for(var i=0;i<splitvalue.length;i++)
  //           {
  //               pricevalues=pricevalues+Number(splitvalue[i]);
  //               //alert(pricevalues);
  //           }

  //           //addprice_val=addprice_val+pricevalues;

  //           //alert('addprice_val - '+addprice_val);

  //           if(breadtype!="")
  //           {
  //               var breadString=choiceval+"^"+breadid+"^"+breadtype;
  //           }
  //           else
  //           {
  //               var breadString="";
  //           }

  //           if(choicestype!="")
  //           {
  //               var choicesString=choicesval+"^"+choicesid+"^"+choicestype;
  //           }
  //           else
  //           {
  //               var choicesString="";
  //           }

  //           //alert(choicesString);

  //           if(saucetype!="")
  //           {
  //               var sauceString=sauceval+"^"+sauceid+"^"+saucetype;
  //           }

  //            //alert(sauceString);
  //           else
  //           {
  //               var sauceString="";
  //           }

  //             var finalchoice_string=breadString+"@@"+choicesString+"@@"+sauceString;

  //             var date = new Date();
  //               var minutes = 30;
  //                date.setTime(date.getTime() + (minutes * 60 * 1000));
  //               $.cookie("finalchoice_string", finalchoice_string, { expires: date });

  //             //alert(finalchoice_string);


            
  //           //alert(breadString);
  //           // var sauceval = document.getElementById('sauceval').value;
  //           // var choicesval = document.getElementById('choicesval').value;
  //           var extraval = $.cookie("extraval");
  //           var descprtn = $.cookie("description");
  //           var quty = $("#quantity").val();
  //           var foodname = $.cookie("foodname");
  //           var item_id = $.cookie("item_id");
  //           var pricevaln;

  //           //alert($.cookie("totpriceval"));


  //               var error=0;
        // var additionalextras=new Array();
        // var additionalextrastr="";
         
                       
  //           if (document.getElementById('hasbread').value=="1") {
  //           if (choiceval=="") {
  //           alert('Select a Bread Option');
  //           error++;
  //           return false;
  //               }else{
        //     //alert('Bread name -'+document.getElementById('breadname').value);
        //     additionalextras.push(document.getElementById('breadname').value);
        // }
  //           }

  //            if (document.getElementById('hassauce').value=="1") {
  //              if (sauceval=="") {
  //           alert('Select a Sauce Option');
  //           error++;
  //           return false;
  //               }else{
        //     //alert('saucename -'+document.getElementById('saucename').value);
        //     additionalextras.push(document.getElementById('saucename').value);
        // }
  //           }
  //           if (document.getElementById('haschoice').value=="1") {
  //           if (choicesval=="") {
  //           alert('Select a Choice Option');
  //           error++;
  //           return false;
  //               }else{
        //     additionalextras.push(document.getElementById('choicesoptname').value);
        // }
        
  //           }
     //    if (additionalextras.length > 0) {
        // additionalextrastr=additionalextras.join(",");
     //    }


  //           if(error==0){

  //               document.getElementById('choiceval').value="";
  //                  document.getElementById('choicesval').value="";
  //                  document.getElementById('sauceval').value="";

  //                   var pricevalue=document.getElementById("set_price").innerHTML;

            

  //                   if(document.getElementById("totpriceval").value!="")
  //                   {
                        
  //                       pricevaln = document.getElementById("totpriceval").value;
                        
  //                   }
  //                   else
  //                   {
                        
  //                       pricevaln =pricevalue;
                        
  //                   }

  //                   //alert(pricevaln);

  //                   // var indexofvalue=pricevaln.indexOf("$");

  //                   // alert('hiivalue'+indexofvalue);


  //                   if(pricevaln.indexOf("$") > -1)
  //                   {
  //                       var final_priceval=pricevaln.replace('$','');

  //                        //var final_priceval=split_priceval[1];
                        
  //                   }
  //                   else
  //                   {
  //                        var final_priceval=pricevaln;
  //                   }

                    
                    
  //                       pricevaln=Number(final_priceval)+addprice_val;
        //  //alert(pricevaln);
                
  //                  document.getElementById("add_priceval").value=addprice_val;
                    

  //                   // alert(choiceval);
  //                   // alert(extraval);
  //                   // alert(quty);
  //                   // alert(foodname);
  //                   // alert(pricevaln);
  //                   // alert(descprtn);

  //                      //if($.cookie("islogin") === "yes"){
  //                           if (typeof $.cookie("count") === "undefined")
  //                           {
  //                           $.cookie("count", 1);
  //                           }else{
  //                           $.cookie("count", parseInt($.cookie("count"))+1);
  //                           }
  //                           //alert(parseInt($.cookie("count")));
  //                           $("#countval").val = parseInt($.cookie("count"));

  //                           document.getElementById('show_cart').style.display='';
  //                           document.getElementById('show_cart1').style.display='';
  //                           document.getElementById('cartval').style.display='';
  //                           $(".footer-cart .cart_value").text(parseInt($.cookie("count")));

  //                       //}
        //  if (typeof $.cookie("prevsName") === "undefined") {
            
  //                           var string = quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+pricevaln+"##"+item_id+"=====";
  //                       }else{

  //                           var string = $.cookie("prevsName")+quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+pricevaln+"##"+item_id+"=====";
  //                       }

  //                       //alert(string);
  //                       $.cookie("prevsName", "");
                        
  //                       $.cookie("prevsName", string);

  //                       document.getElementById("totpriceval").value="";
        //  //alert('@@@@');
                         
  //                        document.getElementById('choiceval').value="";
  //                       document.getElementById('breadid').value="";
  //                       document.getElementById('breadtype').value="";
  //                       document.getElementById('breadprice').value="";
  //                       document.getElementById('choicesval').value="";
  //                       document.getElementById('choicesid').value="";
  //                       document.getElementById('choicestype').value="";
  //                       document.getElementById('choicesprice').value="";
  //                       document.getElementById('sauceval').value="";
  //                       document.getElementById('sauceid').value="";
  //                       document.getElementById('saucetype').value="";
  //                       document.getElementById('sauceprice').value="";
  //                       document.getElementById('extrasprices').value="";
  //                        document.getElementById('extrasvalue').value="";
  //                       document.getElementById('breadname').value="";
  //                       document.getElementById('saucename').value="";
  //                       document.getElementById('choicesoptname').value="";
  //                       document.getElementById("add_priceval").value="";
  //                       document.getElementById('specialinsttext').value="";
  //                       selectedLanguage = [];
  //                       selectedPrice = [];


  //                       basketredirect();
  //               }
  //           }

            // Arunima Savename

            function storeVal()
            {

                //$.mobile.changePage("#popupExample");
                var mode1=$.cookie("mode");

                //alert(mode1);
                        //alert(mode1);
                var edit_index_new=$.cookie("edit_indexval");

                //alert('hiiii');
            var addprice_val=0;
            document.getElementById("basket_check").value="1";

            var choiceval = document.getElementById('choiceval').value;
            //alert(choiceval);
            var breadid= document.getElementById('breadid').value;
            var breadtype= document.getElementById('breadtype').value;
            var breadprice= document.getElementById('breadprice').value;
            var breadname= document.getElementById('breadname').value;

            
            //addprice_val=addprice_val+Number(breadprice);


           

            var choicesval = document.getElementById('choicesval').value;
            var choicesid= document.getElementById('choicesid').value;
            var choicestype= document.getElementById('choicestype').value;
            var choicesprice= document.getElementById('choicesprice').value;
            var choicesname= document.getElementById('choicesoptname').value;

            //addprice_val=addprice_val+Number(choicesprice);
            
            

            var sauceval = document.getElementById('sauceval').value;
            var sauceid= document.getElementById('sauceid').value;
            var saucetype= document.getElementById('saucetype').value;
            var sauceprice= document.getElementById('sauceprice').value;
            var saucename=document.getElementById('saucename').value;


            var proteinval = document.getElementById('proteinval').value;
            var proteinid= document.getElementById('proteinid').value;
            var proteintype= document.getElementById('proteintype').value;
            var proteinprice= document.getElementById('proteinprice').value;
            var proteinname=document.getElementById('proteinname').value;

            //addprice_val=addprice_val+Number(sauceprice);

            var extras_selected_id=document.getElementById("extrasvalue").value;
            var extras_selected_names=document.getElementById("extrasnames").value;
            var extras_selected_prices=document.getElementById("extrasprices").value;

            var extras_selected_id_toppings=document.getElementById("extrasvalue_toppings").value;

            //alert('extras_selected_id_toppings - '+extras_selected_id_toppings);
            var extras_selected_names_toppings=document.getElementById("extrasnames_toppings").value;
            var extras_selected_prices_toppings=document.getElementById("extrasprices_toppings").value;

            var extrasprice1= document.getElementById('extrasprices').value;

            //alert(extrasprice1);

            var splitvalue=extrasprice1.split(",");
            var pricevalues=0;

            for(var i=0;i<splitvalue.length;i++)
            {
                pricevalues=pricevalues+Number(splitvalue[i]);
                //alert(pricevalues);
            }

            //addprice_val=addprice_val+pricevalues;

            //alert('addprice_val - '+addprice_val);

            // alert('breadtype - '+breadtype);
            // alert('choiceval - '+choiceval);
            // alert('breadid - '+breadid);
            // alert('breadprice - '+breadprice);
            // alert('breadname - '+breadname);
            if(breadtype!="")
            {
                var breadString=choiceval+"^"+breadid+"^"+breadtype+"^"+breadprice+"^"+breadname;
            }
            else
            {
                var breadString="";
            }

            //alert(breadString);

            if(choicestype!="")
            {
                var choicesString=choicesval+"^"+choicesid+"^"+choicestype+"^"+choicesprice+"^"+choicesname;
            }
            else
            {
                var choicesString="";
            }

            //alert(choicesString);

            if(saucetype!="")
            {
                var sauceString=sauceval+"^"+sauceid+"^"+saucetype+"^"+sauceprice+"^"+saucename;
            }

            else
            {
                var sauceString="";
            }

             if(proteintype!="")
            {
                var proteinString=proteinval+"^"+proteinid+"^"+proteintype+"^"+proteinprice+"^"+proteinname;
            }

            else
            {
                var proteinString="";
            }

            if(extras_selected_id!=""){
                var extrasString=extras_selected_id+"^"+'extras_id'+"^"+'extras'+"^"+extras_selected_prices+"^"+extras_selected_names;
            }else{
                var extrasString="";
            }

            if(extras_selected_id_toppings!=""){
                var extrasString_toppings=extras_selected_id_toppings+"^"+'toppings_id'+"^"+'toppings'+"^"+extras_selected_prices_toppings+"^"+extras_selected_names_toppings;
            }else{
                var extrasString_toppings="";
            }

            //alert(extrasString);
            //alert('storeval - '+$.cookie("descriptionsp"));
              var finalchoice_string=breadString+"@@"+choicesString+"@@"+sauceString+"@@"+proteinString+"@@"+extrasString+"@@"+extrasString_toppings+"@@"+$.cookie("descriptionsp")+"@@"+$.cookie("description")+"@@"+document.getElementById('choice_limit').value;



              //alert(finalchoice_string);

              var date = new Date();
                var minutes = 1440;
                 date.setTime(date.getTime() + (minutes * 60 * 1000));
                $.cookie("finalchoice_string", finalchoice_string, { expires: date });

              //alert(finalchoice_string);


            
            //alert(breadString);
            // var sauceval = document.getElementById('sauceval').value;
            // var choicesval = document.getElementById('choicesval').value;
            var extraval = $.cookie("extraval");
            var descprtn = $.cookie("description");
            var quty = $("#quantity").val();
            var foodname = $.cookie("foodname");

            //alert(foodname);
            var item_id = $.cookie("item_id");

            //alert(item_id);
            var pricevaln;

            //alert($.cookie("totpriceval"));


                var error=0;
        var additionalextras=new Array();
        var additionalextrastr="";
         
                       
            if (document.getElementById('hasbread').value=="1") 
            {

            
                if (choiceval=="") 
                {
                    //jAlert('Select a Bread Option');
                     var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Select a Bread Option";
                    document.getElementById('alertbtn'+pageid).click();
                    error++;
                    return false;
                }
              
                else
                {
                    //alert('Bread name -'+document.getElementById('breadname').value);
                    additionalextras.push(document.getElementById('breadname').value);
                }
            }

           // alert(additionalextras.length);

            //if(mode1==)

             if (document.getElementById('hassauce').value=="1") {
                
                   if (sauceval=="") 
                   {
                        //jAlert('Select a Sauce Option');
                         var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Select a Sauce Option";
                    document.getElementById('alertbtn'+pageid).click();
                        error++;
                        return false;
                   }
                
                else{
            //alert('saucename -'+document.getElementById('saucename').value);
            additionalextras.push(document.getElementById('saucename').value);
              }
            }

            if (document.getElementById('hasprotein').value=="1") {
                
                   if (proteinval=="") 
                   {
                        //jAlert('Select a Sauce Option');
                         var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Select a Protien Option";
                    document.getElementById('alertbtn'+pageid).click();
                        error++;
                        return false;
                   }
                
                else{
            //alert('saucename -'+document.getElementById('saucename').value);
            additionalextras.push(document.getElementById('proteinname').value);
              }
            }

            if (document.getElementById('haschoice').value=="1") {
                
                    if (choicesval=="") 
                    {
                            //jAlert('Select a Choice Option');
                            var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Select a Choice Option";
                    document.getElementById('alertbtn'+pageid).click();
                            error++;
                            return false;
                    }
            
            else
            {
              additionalextras.push(document.getElementById('choicesoptname').value);
            }
        
            }
            if(extras_selected_id!=""){
                additionalextras.push(document.getElementById('extrasnames').value);
            }

            if(extras_selected_id_toppings!=""){
                additionalextras.push(document.getElementById('extrasnames_toppings').value);
            }
            //alert(document.getElementById('extrasnames').value);
        if (additionalextras.length > 0) {
        additionalextrastr=additionalextras.join(", ");
        }
        //alert(additionalextrastr);


            if(error==0){

                document.getElementById('choiceval').value="";
                   document.getElementById('choicesval').value="";
                   document.getElementById('sauceval').value="";
                   document.getElementById('proteinval').value="";

                    var pricevalue=document.getElementById("set_price").innerHTML;

            

                    if(document.getElementById("totpriceval").value!="")
                    {
                        
                        pricevaln = document.getElementById("totpriceval").value;
                        
                    }
                    else
                    {
                        
                        pricevaln =pricevalue;
                        
                    }

                    //alert(pricevaln);

                    // var indexofvalue=pricevaln.indexOf("$");

                    // alert('hiivalue'+indexofvalue);


                    if(pricevaln.indexOf("$") > -1)
                    {
                        var final_priceval=pricevaln.replace('$','');

                         //var final_priceval=split_priceval[1];
                        
                    }
                    else
                    {
                         var final_priceval=pricevaln;
                    }

                    
                    
                        pricevaln=Number(final_priceval)+addprice_val;
            //alert(pricevaln);
                
                   document.getElementById("add_priceval").value=addprice_val;
                    

                    // alert(choiceval);
                    // alert(extraval);
                    // alert(quty);
                    // alert(foodname);
                    // alert(pricevaln);
                    // alert(descprtn);

                    var sendfinalprice=document.getElementById('set_price').innerHTML;
                    sendfinalprice=sendfinalprice.replace("$","");

                       //if($.cookie("islogin") === "yes"){
                            

                        //}

                        
                        //alert(edit_index_new);




            

                        if(mode1=="edit")
                        {

                            //alert("hiiii");
                            var arr=$.cookie("prevsName");
                            var newarr=new Array();
            //alert(arr);
                            var splitarr = arr.split("=====");
                            var arrlength=splitarr.length;

                            for(var i=0;i<arrlength;i++)
                            {
                                //alert(splitarr[i]);

                                if(i==edit_index_new)
                                {

                                    //alert("indexmatch");
                                   // alert('finalchoice_string - '+finalchoice_string);
                                   //alert(descprtn);
                                    var string = quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+sendfinalprice+"##"+item_id+"##"+finalchoice_string;

                                    //alert(string);
                                    newarr.push(string);
                                }
                                else
                                {
                                    // if (splitarr[i] != "")
                                    // {
                                        newarr.push(splitarr[i]);
                                    //}
                                    
                                }
                            }

                            //alert(newarr.length);


                            //alert(newarr);

                            var newarrjoin = newarr.join("=====");

                            //alert(newarrjoin);



                            $.cookie("prevsName", newarrjoin);
                               
                               
                              
                            //alert(mode1);
                           
                            
                            //alert('storeVal - '+$.cookie("mode"));
                         $.cookie("edit_indexval","");
                        }
                        else
                        {

                           // alert("hello");
                            if (typeof $.cookie("prevsName") == "undefined") {
            
                            var string = quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+sendfinalprice+"##"+item_id+"##"+finalchoice_string+"=====";
                            }else{

                                var string = $.cookie("prevsName")+quty+"##"+additionalextrastr+"##"+extraval+"##"+descprtn+"##"+foodname+"##"+sendfinalprice+"##"+item_id+"##"+finalchoice_string+"=====";
                            }

                             $.cookie("prevsName", string);
                             if (typeof $.cookie("count") == "undefined")
                            {
                            $.cookie("count", 1);
                            }else{
                            $.cookie("count", parseInt($.cookie("count"))+1);
                            }
                            //alert(parseInt($.cookie("count")));
                            

                        }
                        $("#countval").val = parseInt($.cookie("count"));

                            document.getElementById('show_cart').style.display='';
                            document.getElementById('show_cart1').style.display='';
                            document.getElementById('show_cartpayment').style.display='';
    document.getElementById('show_cartcnctinfo').style.display='';
                            document.getElementById('cartval').style.display='';
                            document.getElementById('cartval1').style.display='';
                            document.getElementById('cartval2').style.display='';
                            $(".footer-cart .cart_value").text(parseInt($.cookie("count")));

                        
                        //alert(string);
                        //$.cookie("prevsName", "");
                        
                       

                        document.getElementById("totpriceval").value="";
            //alert('@@@@');
                         
                         document.getElementById('choiceval').value="";
                        document.getElementById('breadid').value="";
                        document.getElementById('breadtype').value="";
                        document.getElementById('breadprice').value="";
                        document.getElementById('choicesval').value="";
                        document.getElementById('choicesid').value="";
                        document.getElementById('choicestype').value="";
                        document.getElementById('choicesprice').value="";
                        document.getElementById('sauceval').value="";
                        document.getElementById('sauceid').value="";
                        document.getElementById('saucetype').value="";
                        document.getElementById('sauceprice').value="";

                         document.getElementById('proteinval').value="";
                        document.getElementById('proteinid').value="";
                        document.getElementById('proteintype').value="";
                        document.getElementById('proteinprice').value="";

                        document.getElementById('extrasprices').value="";
                         document.getElementById('extrasvalue').value="";
                         document.getElementById('extrasnames').value="";
                         document.getElementById('extrasprices_toppings').value="";
                         document.getElementById('extrasvalue_toppings').value="";
                         document.getElementById('extrasnames_toppings').value="";
                        document.getElementById('breadname').value="";
                        document.getElementById('saucename').value="";
                        document.getElementById('proteinname').value="";
                        document.getElementById('choicesoptname').value="";
                        document.getElementById("add_priceval").value="";
                        document.getElementById('specialinsttext').value="";
                        selectedLanguage = [];
                        selectedPrice = [];
                        selectedExtrasName=[];

                        selectedLanguage_toppings = [];
                        selectedPrice_toppings = [];
                        selectedExtrasName_toppings=[];


                        basketredirect();
                }
            }
            
        

            // Arunima End


            function savename(name,priceval,itemid,choiceLimit,description,rp,business_name){

         // alert('cookie - '+$.cookie("item_id"));
         // alert('itemid - '+itemid);
        // if($.cookie("item_id")==)

        //alert('choiceLimit - '+choiceLimit);
        //alert(description);



        if (typeof $.cookie("item_id") != "undefined")
        {
            if($.cookie("item_id") != itemid){
                document.getElementById('choiceval').value="";
                document.getElementById('breadid').value="";
                document.getElementById('breadtype').value="";
                document.getElementById('breadprice').value="";
                document.getElementById('choicesval').value="";
                document.getElementById('choicesid').value="";
                document.getElementById('choicestype').value="";
                document.getElementById('choicesprice').value="";
                document.getElementById('sauceval').value="";
                document.getElementById('sauceid').value="";
                document.getElementById('saucetype').value="";
                document.getElementById('sauceprice').value="";

                document.getElementById('proteinval').value="";
                document.getElementById('proteinid').value="";
                document.getElementById('proteintype').value="";
                document.getElementById('proteinprice').value="";

                document.getElementById('extrasprices').value="";
                document.getElementById('extrasvalue').value="";
                document.getElementById('extrasnames').value="";
                document.getElementById('extrasprices_toppings').value="";
                document.getElementById('extrasvalue_toppings').value="";
                document.getElementById('extrasnames_toppings').value="";
                document.getElementById('breadname').value="";
                document.getElementById('saucename').value="";

                document.getElementById('proteinname').value="";

                document.getElementById('choicesoptname').value="";
                document.getElementById("add_priceval").value="";
                document.getElementById('specialinsttext').value="";
                selectedLanguage = [];
                selectedPrice = [];
                selectedExtrasName=[];

                selectedLanguage_toppings = [];
                        selectedPrice_toppings = [];
                        selectedExtrasName_toppings=[];
            }
        }

         

    //alert(business_name);
    $("#food_div").html('');
        if(rp == 'no'){


        }else{
        
        if (document.getElementById('selected_truck_name').value=="") {
        
        document.getElementById('selected_truck_name').value=business_name;
        document.getElementById("WTTpickup").value="";
        document.getElementById('choice_clicked').value="";
        document.getElementById('bread_clicked').value="";
        document.getElementById('sauce_clicked').value="";    
        document.getElementById('protein_clicked').value="";   
        $(".show_itemname").text(name);
        $(".item_val_class").val(name);
        $.cookie("priceval", priceval);
        $.cookie("description", description);
        $.cookie("foodname", name);
        $.cookie("item_id", itemid);
        
         $("#food_div").fadeOut(500,function(){
         $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
         $(this).show("fast");
         });
     
        
        //alert("1 - "+description);
        $.ajax({
        type: "POST",
        url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
        data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value+"&proteinname="+document.getElementById('proteinname').value,
        cache: false,
        success: function(html){
        var allval=html;
         document.getElementById('choice_limit').value=choiceLimit;
           $('#food_div').fadeOut(500,function(){
         $(this).html(allval);
         $(this).fadeIn(500);
        $('.delete').click(function() {
        $(this).parent().parent().remove();
        });
         });
           
         //$('#food_div').html(allval);
        }
        });
        
        $.mobile.changePage("#addItem");
        }
        else{
        
        if (document.getElementById('selected_truck_name').value!=business_name) {
            
           //alert('different names');
            //alert($.cookie("count"));
        if (typeof $.cookie("count") == "undefined" || $.cookie("count")=="0"){
            document.getElementById('selected_truck_name').value=business_name;
            document.getElementById("WTTpickup").value="";
            document.getElementById('choice_clicked').value="";
        document.getElementById('bread_clicked').value="";
        document.getElementById('sauce_clicked').value=""; 
        document.getElementById('protein_clicked').value=""; 
        $(".show_itemname").text(name);
        $(".item_val_class").val(name);
        $.cookie("priceval", priceval);
        $.cookie("description", description);
        $.cookie("foodname", name);
        $.cookie("item_id", itemid);
        
         $("#food_div").fadeOut(500,function(){
         $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
         $(this).show("fast");
         });
     
        
        //alert("2 - "+description);
        $.ajax({
        type: "POST",
        url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
        data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value+"&proteinname="+document.getElementById('proteinname').value,
        cache: false,
        success: function(html){
        var allval=html;
        document.getElementById('choice_limit').value=choiceLimit;
           $('#food_div').fadeOut(500,function(){
         $(this).html(allval);
         $(this).fadeIn(500);
        $('.delete').click(function() {
        $(this).parent().parent().remove();
        });
         });

           if(typeof $.cookie("pickuptm") != "undefined"){
                            $.cookie("pickuptm",'undefined');
                     }
           
         //$('#food_div').html(allval);
        }
        });
        
        $.mobile.changePage("#addItem");
        }else{
        //alert('@@@@');

            jConfirm('You have items in your basket for a different business, selecting this business will empty your basket. Do you want to continue?', 'Confirmation Dialog', function(r) {
                    if(r==true)
                    {
                        document.getElementById('selected_truck_name').value=business_name;
                        document.getElementById("WTTpickup").value="";
                        document.getElementById('choice_clicked').value="";
        document.getElementById('bread_clicked').value="";
        document.getElementById('sauce_clicked').value=""; 
        document.getElementById('protein_clicked').value=""; 
            $.cookie("prevsName", "");
            if(typeof $.cookie("pickuptm") != "undefined"){
                            $.cookie("pickuptm",'undefined');
                     }
            //alert("count-cookie : "+$.cookie("count"));
            $.cookie("count", 0);
            var countcart=parseInt($.cookie("count"));
        
            $("#countval").val = countcart;
            document.getElementById('show_cart').style.display='';
            document.getElementById('show_cart1').style.display='';
            document.getElementById('show_cartpayment').style.display='';
    document.getElementById('show_cartcnctinfo').style.display='';
            document.getElementById('cartval').style.display='';
            document.getElementById('cartval1').style.display='';
            document.getElementById('cartval2').style.display='';
            $(".footer-cart .cart_value").text(countcart);
        
            if(countcart==0)
            {
                //alert("remove");
                document.getElementById('show_cart').style.display='none';
                document.getElementById('show_cart1').style.display='none';
                document.getElementById('show_cartpayment').style.display='none';
    document.getElementById('show_cartcnctinfo').style.display='none';
                document.getElementById('cartval').style.display='none';
                document.getElementById('cartval1').style.display='none';
                document.getElementById('cartval2').style.display='none';
            }
            //shwetaa
            
            
            $(".show_itemname").text(name);
            $(".item_val_class").val(name);
            $.cookie("priceval", priceval);
            $.cookie("description", description);
            $.cookie("foodname", name);
            $.cookie("item_id", itemid);
            
             $("#food_div").fadeOut(500,function(){
             $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
             $(this).show("fast");
             });
         
            
            //alert("3 - "+description);
            $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
            data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value+"&proteinname="+document.getElementById('proteinname').value,
            cache: false,
            success: function(html){
            var allval=html;
            document.getElementById('choice_limit').value=choiceLimit;
               $('#food_div').fadeOut(500,function(){
             $(this).html(allval);
             $(this).fadeIn(500);
            $('.delete').click(function() {
            $(this).parent().parent().remove();
            });
             });
               
             //$('#food_div').html(allval);
            }
            });
            
            $.mobile.changePage("#addItem");
            
            
            //shwetaa
                    }
            });

            
        }
        
    
            
        }else{
            
            //shwetaa
            
            document.getElementById('choice_clicked').value="";
            document.getElementById('bread_clicked').value="";
            document.getElementById('sauce_clicked').value=""; 
            document.getElementById('protein_clicked').value=""; 
            $(".show_itemname").text(name);
            $(".item_val_class").val(name);
            $.cookie("priceval", priceval);
            $.cookie("description", description);
            $.cookie("foodname", name);
            $.cookie("item_id", itemid);
            
             $("#food_div").fadeOut(500,function(){
             $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
             $(this).show("fast");
             });
            
            var breadname=document.getElementById('breadname').value;
            
            //alert("4 - "+description);
            $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
            data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+breadname+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value+"&proteinname="+document.getElementById('proteinname').value,
            cache: false,
            success: function(html){
            var allval=html;
            document.getElementById('choice_limit').value=choiceLimit;
               $('#food_div').fadeOut(500,function(){
             $(this).html(allval);
             $(this).fadeIn(500);
            $('.delete').click(function() {
            $(this).parent().parent().remove();
            });
             });
               
             //$('#food_div').html(allval);
            }
            });
            
            $.mobile.changePage("#addItem");
            
            
            //shwetaa
            
        }
        }
           
           
           }


     
        
        

        

       }

        

    //    function savename(name,priceval,itemid,choiceLimit,description,rp,business_name){

    //      // alert('cookie - '+$.cookie("item_id"));
    //      // alert('itemid - '+itemid);
    //     // if($.cookie("item_id")==)


    //     //alert(description);

    //     if (typeof $.cookie("item_id") != "undefined")
    //     {
    //         if($.cookie("item_id") != itemid){
    //             document.getElementById('choiceval').value="";
    //             document.getElementById('breadid').value="";
    //             document.getElementById('breadtype').value="";
    //             document.getElementById('breadprice').value="";
    //             document.getElementById('choicesval').value="";
    //             document.getElementById('choicesid').value="";
    //             document.getElementById('choicestype').value="";
    //             document.getElementById('choicesprice').value="";
    //             document.getElementById('sauceval').value="";
    //             document.getElementById('sauceid').value="";
    //             document.getElementById('saucetype').value="";
    //             document.getElementById('sauceprice').value="";
    //             document.getElementById('extrasprices').value="";
    //             document.getElementById('extrasvalue').value="";
    //             document.getElementById('extrasnames').value="";
    //             document.getElementById('extrasprices_toppings').value="";
    //             document.getElementById('extrasvalue_toppings').value="";
    //             document.getElementById('extrasnames_toppings').value="";
    //             document.getElementById('breadname').value="";
    //             document.getElementById('saucename').value="";
    //             document.getElementById('choicesoptname').value="";
    //             document.getElementById("add_priceval").value="";
    //             document.getElementById('specialinsttext').value="";
    //             selectedLanguage = [];
    //             selectedPrice = [];
    //             selectedExtrasName=[];

    //             selectedLanguage_toppings = [];
    //                     selectedPrice_toppings = [];
    //                     selectedExtrasName_toppings=[];
    //         }
    //     }

         

    // //alert(business_name);
    // $("#food_div").html('');
    //     if(rp == 'no'){


    //     }else{
        
    //     if (document.getElementById('selected_truck_name').value=="") {
        
    //     document.getElementById('selected_truck_name').value=business_name;
    //     $(".show_itemname").text(name);
    //     $(".item_val_class").val(name);
    //     $.cookie("priceval", priceval);
    //     $.cookie("description", description);
    //     $.cookie("foodname", name);
    //     $.cookie("item_id", itemid);
        
    //      $("#food_div").fadeOut(500,function(){
    //      $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
    //      $(this).show("fast");
    //      });
     
        
    //     //alert("1 - "+description);
    //     $.ajax({
    //     type: "POST",
    //     url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
    //     data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value,
    //     cache: false,
    //     success: function(html){
    //     var allval=html;
        
    //        $('#food_div').fadeOut(500,function(){
    //      $(this).html(allval);
    //      $(this).fadeIn(500);
    //     $('.delete').click(function() {
    //     $(this).parent().parent().remove();
    //     });
    //      });
           
    //      //$('#food_div').html(allval);
    //     }
    //     });
        
    //     $.mobile.changePage("#addItem");
    //     }
    //     else{
        
    //     if (document.getElementById('selected_truck_name').value!=business_name) {
            
    //        //alert('different names');
    //         //alert($.cookie("count"));
    //     if (typeof $.cookie("count") == "undefined" || $.cookie("count")=="0"){
    //         document.getElementById('selected_truck_name').value=business_name;
    //     $(".show_itemname").text(name);
    //     $(".item_val_class").val(name);
    //     $.cookie("priceval", priceval);
    //     $.cookie("description", description);
    //     $.cookie("foodname", name);
    //     $.cookie("item_id", itemid);
        
    //      $("#food_div").fadeOut(500,function(){
    //      $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
    //      $(this).show("fast");
    //      });
     
        
    //     //alert("2 - "+description);
    //     $.ajax({
    //     type: "POST",
    //     url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
    //     data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value,
    //     cache: false,
    //     success: function(html){
    //     var allval=html;
        
    //        $('#food_div').fadeOut(500,function(){
    //      $(this).html(allval);
    //      $(this).fadeIn(500);
    //     $('.delete').click(function() {
    //     $(this).parent().parent().remove();
    //     });
    //      });
           
    //      //$('#food_div').html(allval);
    //     }
    //     });
        
    //     $.mobile.changePage("#addItem");
    //     }else{
    //     //alert('@@@@');
    //         var r=confirm('You have items in your basket for a different business, selecting this business will empty your basket. Do you want to continue?');
    //         if (r==true) {
    //         document.getElementById('selected_truck_name').value=business_name;
    //         $.cookie("prevsName", "");
    //         if(typeof $.cookie("pickuptm") != "undefined"){
    //                         $.cookie("pickuptm",'undefined');
    //                  }
    //         //alert("count-cookie : "+$.cookie("count"));
    //         $.cookie("count", 0);
    //         var countcart=parseInt($.cookie("count"));
        
    //         $("#countval").val = countcart;
    //         document.getElementById('show_cart').style.display='';
    //         document.getElementById('show_cart1').style.display='';
    //         document.getElementById('show_cartpayment').style.display='';
    // document.getElementById('show_cartcnctinfo').style.display='';
    //         document.getElementById('cartval').style.display='';
    //         document.getElementById('cartval1').style.display='';
    //         document.getElementById('cartval2').style.display='';
    //         $(".footer-cart .cart_value").text(countcart);
        
    //         if(countcart==0)
    //         {
    //             //alert("remove");
    //             document.getElementById('show_cart').style.display='none';
    //             document.getElementById('show_cart1').style.display='none';
    //             document.getElementById('show_cartpayment').style.display='none';
    // document.getElementById('show_cartcnctinfo').style.display='none';
    //             document.getElementById('cartval').style.display='none';
    //             document.getElementById('cartval1').style.display='none';
    //             document.getElementById('cartval2').style.display='none';
    //         }
    //         //shwetaa
            
            
    //         $(".show_itemname").text(name);
    //         $(".item_val_class").val(name);
    //         $.cookie("priceval", priceval);
    //         $.cookie("description", description);
    //         $.cookie("foodname", name);
    //         $.cookie("item_id", itemid);
            
    //          $("#food_div").fadeOut(500,function(){
    //          $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
    //          $(this).show("fast");
    //          });
         
            
    //         //alert("3 - "+description);
    //         $.ajax({
    //         type: "POST",
    //         url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
    //         data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value,
    //         cache: false,
    //         success: function(html){
    //         var allval=html;
            
    //            $('#food_div').fadeOut(500,function(){
    //          $(this).html(allval);
    //          $(this).fadeIn(500);
    //         $('.delete').click(function() {
    //         $(this).parent().parent().remove();
    //         });
    //          });
               
    //          //$('#food_div').html(allval);
    //         }
    //         });
            
    //         $.mobile.changePage("#addItem");
            
            
    //         //shwetaa
    //         }
    //     }
        
    
            
    //     }else{
            
    //         //shwetaa
            
            
    //         $(".show_itemname").text(name);
    //         $(".item_val_class").val(name);
    //         $.cookie("priceval", priceval);
    //         $.cookie("description", description);
    //         $.cookie("foodname", name);
    //         $.cookie("item_id", itemid);
            
    //          $("#food_div").fadeOut(500,function(){
    //          $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
    //          $(this).show("fast");
    //          });
            
    //         var breadname=document.getElementById('breadname').value;
            
    //         //alert("4 - "+description);
    //         $.ajax({
    //         type: "POST",
    //         url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
    //         data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&itemname="+name+"&price="+priceval+"&description="+encodeURIComponent(description)+"&breadname="+breadname+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+document.getElementById('extrasnames').value+"&toppingsname="+document.getElementById('extrasnames_toppings').value,
    //         cache: false,
    //         success: function(html){
    //         var allval=html;
            
    //            $('#food_div').fadeOut(500,function(){
    //          $(this).html(allval);
    //          $(this).fadeIn(500);
    //         $('.delete').click(function() {
    //         $(this).parent().parent().remove();
    //         });
    //          });
               
    //          //$('#food_div').html(allval);
    //         }
    //         });
            
    //         $.mobile.changePage("#addItem");
            
            
    //         //shwetaa
            
    //     }
    //     }
           
           
    //        }


     
        
        

        

    //    }

      //   function show_choices(itemid,choiceLimit)
      //   {

      //       $("#listpageId").html('');

      //       var selected_val=document.getElementById('choiceval').value;

      //       $("#listpageId").fadeOut(200,function(){
      //            $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
      //            $(this).show("fast");
      //       });

      //    $.ajax({
            //     type: "POST",
            //     url: "http://esolzdemos.com/lab1/whatthetrucks/item_listing.php",
            //     data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_val="+selected_val,
            //     cache: false,
            //             success: function(html){
            //             var allval=html;

            //             $('#listpageId').fadeOut(200,function(){
                        //  $(this).html(allval);
                        //  $(this).fadeIn(500);
                        // $('.delete').click(function() {
                        //          $(this).parent().parent().remove();
                        //  });
                     // });
                       
                        //  //$('#listpageId').html(allval);
            //             }
            //     });



      //   }

      function show_choices(itemid,choiceLimit,selectid,mode)
      {

            // alert(mode);

            $("#listpageId").html('');

            var selected_val=document.getElementById('choiceval').value;
            // alert('selectid - '+selectid);
            // alert('selected_val - '+selected_val);

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/item_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_val="+selected_val+"&selectid="+selectid+"&mode="+mode,
                cache: false,
                        success: function(html){
                        var allval=html;

                        $('#listpageId').fadeOut(200,function(){
                         $(this).html(allval);
                         $(this).fadeIn(500);
                        $('.delete').click(function() {
                                    $(this).parent().parent().remove();
                            });
                     });
                       
                         //$('#listpageId').html(allval);
                        }
                });



        }

        function show_topping(itemid,choiceLimit)
        {

            $("#listpageId").html('');

            var selected_items=document.getElementById('extrasvalue_toppings').value;
            //alert(selected_items);

             $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/toppings_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_items="+selected_items,
                cache: false,
                        success: function(html){
                        var allval=html;

                        //alert(allval);

                        $('#listpageId').fadeOut(200,function(){
                         $(this).html(allval);
                         $(this).fadeIn(500);
                        $('.delete').click(function() {
                                    $(this).parent().parent().remove();
                            });
                     });
                       
                         //$('#listpageId').html(allval);
                        }
                });



        }

        function show_extras(itemid,choiceLimit)
        {

            $("#listpageId").html('');

            var selected_items=document.getElementById('extrasvalue').value;

             $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/extras_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_items="+selected_items,
                cache: false,
                        success: function(html){
                        var allval=html;

                        //alert(allval);

                        $('#listpageId').fadeOut(200,function(){
                         $(this).html(allval);
                         $(this).fadeIn(500);
                        $('.delete').click(function() {
                                    $(this).parent().parent().remove();
                            });
                     });
                       
                         //$('#listpageId').html(allval);
                        }
                });



        }

        // function show_Sauce(itemid,choiceLimit)
        // {

        //     $("#listpageId").html('');
        //      var selected_val=document.getElementById('sauceval').value; 

        //     $("#listpageId").fadeOut(200,function(){
        //          $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
        //          $(this).show("fast");
        //     });

        //  $.ajax({
              //   type: "POST",
              //   url: "http://esolzdemos.com/lab1/whatthetrucks/sauce_listing.php",
              //   data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_val="+selected_val,
              //   cache: false,
              //           success: function(html){
              //           var allval=html;

            
                       
                    //      $('#listpageId').fadeOut(200,function(){
        //                      $(this).html(allval);
        //                      $(this).fadeIn(200);
        //                     $('.delete').click(function() {
        //                                 $(this).parent().parent().remove();
        //                         });
        //                  });
              //           }
              //   });



        // }

        // function show_Choice(itemid,choiceLimit)
        // {
        //     $("#listpageId").html('');
        //     var selected_val=document.getElementById('choicesval').value;
        //     //alert(selected_val);
        //  // alert(itemid);
        //  // alert(choiceLimit);

        //     $("#listpageId").fadeOut(200,function(){
        //          $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
        //          $(this).show("fast");
        //     });
        //  $.ajax({
              //   type: "POST",
              //   url: "http://esolzdemos.com/lab1/whatthetrucks/choice_listing.php",
              //   data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_val="+selected_val,
              //   cache: false,
              //           success: function(html){
              //           var allval=html;

            
              //            $('#listpageId').fadeOut(200,function(){
        //                      $(this).html(allval);
        //                      $(this).fadeIn(500);
        //                     $('.delete').click(function() {
        //                                 $(this).parent().parent().remove();
        //                         });
        //                  });
              //           }
              //   });



        // }

        function show_Sauce(itemid,choiceLimit,selectid,mode)
        {

            $("#listpageId").html('');
             var selected_val=document.getElementById('sauceval').value; 

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/sauce_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_val="+selected_val+"&selectid="+selectid+"&mode="+mode,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                       
                            $('#listpageId').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(200);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }

        function show_Protein(itemid,choiceLimit,selectid,mode)
        {

            $("#listpageId").html('');
             var selected_val=document.getElementById('proteinval').value; 

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/protein_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selected_val="+selected_val+"&selectid="+selectid+"&mode="+mode,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                       
                            $('#listpageId').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(200);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }

        function show_Choice(itemid,choiceLimit,selectid,mode)
        {
            $("#listpageId").html('');
            var selected_val=document.getElementById('choicesval').value;
            //alert(selected_val);
            // alert(itemid);
            // alert(choiceLimit);

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });
            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/choice_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit+"&selectid="+selectid+"&mode="+mode+"&selected_val="+selected_val,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                        $('#listpageId').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(500);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }

        // function signout()
        // {
        //     alert("successfully logout");
        // }

        function show_Size(itemid,choiceLimit)
        {

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/size_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                       
                          $('#listpageId').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(200);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }

        function show_Drinks(itemid,choiceLimit)
        {

            $("#listpageId").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/drinks_listing.php",
                data: "itemid="+itemid+"&choiceLimit="+choiceLimit,
                cache: false,
                        success: function(html){
                        var allval=html;

            
                       
                          $('#listpageId').fadeOut(500,function(){
                             $(this).html(allval);
                             $(this).fadeIn(500);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
                        }
                });



        }

        function instructions(itemname,description,price)
        {

            $("#specialDescription").fadeOut(200,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
            });
            var specialinst=document.getElementById('specialinsttext').value;
            //alert('show_instruction= '+specialinst);

            $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/show_instruction.php",
                data: "itemname="+itemname+"&description="+description+"&price="+price+"&specialinst="+specialinst,
                cache: false,
                        success: function(html){
                        var allval=html;

                            $('#specialDescription').fadeOut(200,function(){
                             $(this).html(allval);
                             $(this).fadeIn(200);
                            $('.delete').click(function() {
                                        $(this).parent().parent().remove();
                                });
                         });
            
                       
                         //$('#specialDescription').html(allval);
                        }
                });



        }


        function basketredirect (){ 

            $("#basktRed").html('');

            // if($.cookie("islogin") === "yes")
            // {
                $.mobile.changePage("#Basket");
                 $("#mypanel").panel("close");

                 var itemval=$( "#item_val" ).val();
                 //alert(itemval);

                $("#basktRed").fadeOut(2,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                $(this).show("fast");
                });
            
        
        
                //  $.cookie("showname", name, { expires: date });
                //$.cookie("showaddr", addr, { expires: date });
                //$.cookie("showtime", time, { expires: date });
                    var showname=$.cookie("showname");
                    var showaddr=$.cookie("showaddr");
                    var showtime=$.cookie("showtime");
                    var pickuptime=$.cookie("pickuptime");
                    var minorderamt=$.cookie("minorderamt");

                    // alert(showaddr);
                    // alert(showtime);

                    //alert($.cookie("prevsName"));
                    $.cookie("mode", "");
                    //alert(showaddr);
                    $.ajax({
                        type: "POST",
                        url: "http://esolzdemos.com/lab1/whatthetrucks/basketpage.php",
                        data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt,
                        cache: false,
                                success: function(html){
                                var allval=html;

                                //alert(allval);
                               
                                 $('#basktRed').fadeOut(2,function(){
                                     $(this).html(allval);
                                     $(this).fadeIn(2);
                                    $('.delete').click(function() {
                                                $(this).parent().parent().remove();
                                        });
                                    
                                 });
                                 $.cookie("descriptionsp","");
                                 //$( "table" ).table( "refresh" );
                                }
                        });
            //}

            // else
            // {
            //      $.mobile.changePage("#logIn");
            // }

                


// Code to add


        }


        function searchResult(lat,longt,keyword){

            //$("#basktRed").html('');

            $("#searchrslt").html('');

             $.mobile.changePage("#searchResult");
        
        $("#searchrslt").fadeOut(20,function(){
             $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
             $(this).show("fast");
        });
            
        
        $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/searchresult.php",
            data: "lat="+lat+"&longt="+longt+"&keywrd="+keyword,
            cache: false,
                    success: function(html){
                    var allval=html;
                    //alert(allval);
                   document.getElementById('menu_check').value="1";
                     $('#searchrslt').fadeOut(20,function(){
                         $(this).html(allval);
                         $(this).fadeIn(20);

                                    $('.right-small-box').click(function() {
                                        $(this).parent().parent().find(".collapsed-schedule").slideToggle();
                                    });
                        
                     });

                    },
                    error: function(xhr, status, error) {
                          var err = eval("(" + xhr.responseText + ")");
                          alert(err.Message);
                        }
            });
        
        
        
    }


    function gotoDetailsRes(idv,lat,longt,busid,name,addr,time,pickuptime,minorderamt,deliveryCharge,deliveryMethod,deliveryTime,minDeliveryOrd,locationId,taxRate,tandcversion,tandc,rp,loc_id,show_loc){

        $("#searchrsltDetls").html('');
        $("#searchrsltDetlsdropdown").html('');

        //alert(time);

        //alert(rp);

        //$.mobile.changePage("#truckDetails");

        var date = new Date();
    var minutes = 1440;
     date.setTime(date.getTime() + (minutes * 60 * 1000));

    $.cookie("busnsid", busid, { expires: date });
    $.cookie("showname", name, { expires: date });
    $.cookie("showaddr", addr, { expires: date });
    $.cookie("showtime", time, { expires: date });
    $.cookie("pickuptime", pickuptime, { expires: date });
    $.cookie("minorderamt", minorderamt, { expires: date });
    $.cookie("deliveryCharge", deliveryCharge, { expires: date });
    $.cookie("deliveryMethod", deliveryMethod, { expires: date });
    $.cookie("deliveryTime", deliveryTime, { expires: date });
    $.cookie("minDeliveryOrd", minDeliveryOrd, { expires: date });
    $.cookie("locationId", locationId, { expires: date });
    $.cookie("loc_id", loc_id, { expires: date });

    $.cookie("taxRate", taxRate, { expires: date });
    $.cookie("tandcversion", tandcversion, { expires: date });
    $.cookie("tandc", tandc, { expires: date });

    //cookies for redirection on dropdown change

    $.cookie("other_lat", lat, { expires: date });
    $.cookie("other_longt", longt, { expires: date });
    $.cookie("other_idv", idv, { expires: date });
    $.cookie("other_rp", rp, { expires: date });
    $.cookie("other_show_loc", show_loc, { expires: date });
    $.cookie("other_time", time, { expires: date });
    $.cookie("other_addr", addr, { expires: date });



     $("#searchrsltDetls").fadeOut(200,function(){
             $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
             $(this).show("fast");
        });
            
        geocoder = new google.maps.Geocoder();
        var address = document.getElementById("whereYou").value;

        //alert("ori"+address);
        if(address.length>40){
            var limit_address=address.substring(0,40)+'..';
        }else{
            var limit_address=address.substring(0,40);
        }

        //alert("after"+limit_address);
        var keyword = document.getElementById("foodTruckName").value;

        //alert(address);
                //alert(busid);   
        $('#adreesval1').html("<h2 >"+limit_address+"</h2>");

        $.ajax({
            type: "POST",
            url: "http://esolzdemos.com/lab1/whatthetrucks/searchdetails.php",
            data: "lat="+lat+"&longt="+longt+"&id="+idv+"&busid="+busid+"&rp="+rp+"&show_loc="+encodeURIComponent(show_loc)+"&show_time="+encodeURIComponent(time)+"&addr="+addr,
            cache: false,
                    success: function(html){

                        //alert(html);
                        var splithtml=html.split('########');

                        $('#searchrsltDetls').html('');
                        $("#searchrsltDetlsdropdown").html('');
                    var allval=html;
                    document.getElementById('details_check').value="1";
                    //alert(html);

                    // var splitArray = allval.split('@@');
                    // var itemJson=splitArray[1];

                    // alert(itemJson);
                    //$("#searchrsltDetlsdropdown").html(splithtml[0]);
                    $('#searchrsltDetlsdropdown').fadeOut(10,function(){
                         $(this).html(splithtml[0]);
                         $(this).fadeIn(10);

                                $('.right-small-box1').click(function() {
                                        $(this).parent().parent().find(".collapsed-schedule").slideToggle();
                                    }); 

                                $('select').selectmenu();
                            $('select').selectmenu('refresh', true);
                        
                     });
                    
                     $('#searchrsltDetls').fadeOut(200,function(){
                         $(this).html(splithtml[1]);
                         $(this).fadeIn(500);

                            //     $('.right-small-box1').click(function() {
                            //             $(this).parent().parent().find(".collapsed-schedule").slideToggle();
                            //         }); 

                            //     $('select').selectmenu();
                            // $('select').selectmenu('refresh', true);
                        
                     });
                    }
            });

        $.mobile.changePage("#truckDetails");
    }


            app.initialize();


//Google plus login


// function logingoogle(value) {

//     var date = new Date();
//     var minutes = 1440;
//      date.setTime(date.getTime() + (minutes * 60 * 1000));

//     $.cookie("fbvalue", value, { expires: date });
//     window.plugins.googleplus.login(
//         {
//           'iOSApiKey': '1008791507678-ec8chuj2lkbqo2vo7ejvj9ri7t8870gd.apps.googleusercontent.com'
//         },
//         function (obj) {
//             //alert(obj.displayName);
//             var n = obj.displayName.lastIndexOf(" ");
//             var fname=obj.displayName.substring(0, n);
//             var lname=obj.displayName.substring(n+1);

//             $.cookie("fbname", fname, { expires: date });
//             $.cookie("fblname", lname, { expires: date });
//             $.cookie("fbeml", obj.email, { expires: date });
//               document.getElementById("logoimg").className="gpSttings";
//             sendfacebookcnct(fname,lname,obj.email);
//             // alert(obj.displayName.substring(0, n) + "," + obj.displayName.substring(n+1));
//             // alert(n);
//             // console.log('ppppp----'+JSON.parse(obj));
//             //alert(obj.imageUrl +"Hi, " + obj.displayName + ", " + obj.email);
//           // document.querySelector("#image").src = obj.imageUrl;
//           // document.querySelector("#image").style.visibility = 'visible';
//           // document.querySelector("#feedback").innerHTML = "Hi, " + obj.displayName + ", " + obj.email;
//         },
//         function (msg) {
//           //document.querySelector("#feedback").innerHTML = "error: " + msg;
//         }
//     );
//   }

function logingoogle() {
    window.plugins.googleplus.login(
        {
           
        },
        function (obj) {
             //alert(obj.givenName);
             //alert(obj.familyName);
             //alert(obj.email);
            document.getElementById("logoimg").className="gpSttings";
            var date = new Date();
            var minutes = 1440;
            date.setTime(date.getTime() + (minutes * 60 * 1000));
            $.cookie("fbname", obj.givenName, { expires: date });
            $.cookie("fblname", obj.familyName, { expires: date });
            $.cookie("fbeml", obj.email, { expires: date });
            // document.getElementById("logoimg").className="gpSttings";
            sendfacebookcnct(obj.givenName,obj.familyName,obj.email);
          // document.querySelector("#image").src = obj.imageUrl;
          // document.querySelector("#image").style.visibility = 'visible';
          // document.querySelector("#feedback").innerHTML = "Hi, " + obj.givenName+'----'+obj.familyName + ", " + obj.email;
        },
        function (msg) {
            alert(msg);
          // document.querySelector("#feedback").innerHTML = "error: " + msg;
        }
    );
  } 

  function trySilentLogin() {
    window.plugins.googleplus.trySilentLogin(
        {
          'iOSApiKey': '1008791507678-ec8chuj2lkbqo2vo7ejvj9ri7t8870gd.apps.googleusercontent.com'
        },
        function (obj) {
          // document.querySelector("#image").src = obj.imageUrl;
          // document.querySelector("#image").style.visibility = 'visible';
          // document.querySelector("#feedback").innerHTML = "Silent hi, " + obj.displayName + ", " + obj.email;
        },
        function (msg) {
          //document.querySelector("#feedback").innerHTML = "error: " + msg;
        }
    );
  }

  function logoutgoogle() {
    window.plugins.googleplus.logout(
        function (msg) {
          // document.querySelector("#image").style.visibility = 'hidden';
          // document.querySelector("#feedback").innerHTML = msg;
        }
    );
  }

  function disconnect() {
    window.plugins.googleplus.disconnect(
        function (msg) {
          // document.querySelector("#image").style.visibility = 'hidden';
          // document.querySelector("#feedback").innerHTML = msg;
        }
    );
  }

  window.onerror = function(what, line, file) {
    jAlert(what + '; ' + line + '; ' + file);
  };

  function handleOpenURL (url) {
    //document.querySelector("#feedback").innerHTML = "App was opened by URL: " + url;
  }















        //jquery for design
            
            $('#submit-btn').click(function() {
                    geocoder = new google.maps.Geocoder();
                     var address = document.getElementById("whereYou").value;
                     //var limit_address=address.substring(0,40)+'..';
                     if(address.length>40){
                        var limit_address=address.substring(0,40)+'..';
                    }else{
                        var limit_address=address.substring(0,40);
                    }
                    var keyword = document.getElementById("foodTruckName").value;
                                  
                     $('#adreesval').html("<h2 >"+limit_address+"</h2>");
                    geocoder.geocode( { 'address': address}, function(results, status) {
                    if (status == google.maps.GeocoderStatus.OK) {

                            searchResult(results[0].geometry.location.lat(),results[0].geometry.location.lng(),keyword);
                     } 

                     else {
                        //alert('eeeee');
                        //alert($.mobile.activePage.attr('id'));
                        var pageid=$.mobile.activePage.attr('id');
                        document.getElementById('popup'+pageid).innerHTML="Please Choose an Address first";
                            document.getElementById('alertbtn'+pageid).click();
                         //jAlert("Please Choose an Address first");
                 }
             });
                    
                //$.mobile.changePage("#searchResult");
            });
            
            // $('.right-small-box').click(function() {
            //  $(this).parent().parent().find(".collapsed-schedule").slideToggle();
            // });
            
            $(".contactInfoList .addressBar").click(function(){
              if ($(this).find(".heart-icon").is(".active")) {
                    $(this).removeClass("active");
              }
              else {
                $(".contactInfoList .bar .heart-icon").removeClass("active");
                $(this).find(".heart-icon").addClass("active");
              }
            });
            
            $("#cardType .ui-btn").click(function(){
              if ($(this).is(".active")) {
                    $(this).removeClass("active");
              }
              else {
                $("#cardType .ui-btn").removeClass("active");
                $(this).addClass("active");
              }
            });
            
            
                    
         //     $(".button").on("click", function() {
            //   var $button = $(this);
            //   var oldValue = $button.parent().find("input").val();
            
            //   if ($button.text() == "+") {
            //    var newVal = parseFloat(oldValue) + 1;
            //  } else {
            //    // Don't allow decrementing below zero
            //     if (oldValue > 0) {
            //       var newVal = parseFloat(oldValue) - 1;
            //     } else {
            //       newVal = 0;
            //     }
            //   }
            
            //   $button.parent().find("input").val(newVal);
            
            // });

            function button_val(value,price1)
            {
                var price=Number(document.getElementById("main_price_actual_value").value);

                //alert(price);
                $("#card_Type").val(value);
                
                  var oldValue = $("#quantity").val();
            
                  if (value == "plus") {
                    
                    
                    
                      var newVal = parseFloat(oldValue) + 1;
                      var newprice=price * newVal;

                      document.getElementById("totpriceval").value=newprice;
                      //$.cookie("totpriceval", newprice);
                      $("#set_price").html('$'+newprice.toFixed(2));
                      
                      //alert(newprice);

                    } else {
                   // Don't allow decrementing below zero
                    if (oldValue > 0) {
                      var newVal = parseFloat(oldValue) - 1;
                      if(newVal==0)
                      {
                        newVal=1;
                      }
                      //alert(price);
                      var newprice=price * newVal;
                      //alert(newprice);
                      document.getElementById("totpriceval").value=newprice;
                      $("#set_price").html('$'+newprice.toFixed(2));
                      
                      //alert(newprice);
                    } else {
                      newVal = 1;
                    }
                  }
                
                  $("#quantity").val(newVal);
            }

            
            
            $('.delete').click(function() {
                $(this).parent().parent().remove();
            });
            
            
            $(function() {
                $( "body>[data-role='panel']" ).panel();
            });
            
            var cookieval='';

            
            
            function assing_value(value)
            {
                
                $("#card_Type").val(value);
            }

            function search_del()
            {
                //alert("hiiii");
                
                $.mobile.changePage("#truckDetails");
            }

            // function gotoCheckout()
            // {
            //     //alert("hiiii");
            //     $.mobile.changePage("#checkOut");
            //     var pickuptimeval=document.getElementById("pickUpTime").value;
            //     $.cookie("pickuptm", pickuptimeval);
            // }

            function gotoCheckout()
           {
               //alert("hiiii");
               
               var pickuptimeval=document.getElementById("pickUpTime").value;
               document.getElementById("WTTpickup").value=pickuptimeval;
               //alert(pickuptimeval);
               document.getElementById('show_pick').innerHTML="Pickup Time : "+pickuptimeval;
               //$("#show_pick").html(pickuptimeval);
               $.cookie("pickuptm", pickuptimeval);
               $.mobile.changePage("#checkOut");
           }

           function success_alert1()
           {


                var tot_price=document.getElementById('total_final').innerHTML;

                var final_price=Number(tot_price.replace("$",""));

                var minorderamt=Number($.cookie("minorderamt"));

                 
                // var new_min=minorderamt.toFixed(2);

                // alert(new_min);

                if(final_price<minorderamt)
                {
                    
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML=$.cookie("showname")+" has a $"+minorderamt+" minimum order amount.";;
                    document.getElementById('alertbtn'+pageid).click();
                }else{


                var continuepickup="";
                 $.ajax({
                    type: "POST",
                    url: "http://esolzdemos.com/lab1/whatthetrucks/timezonecheck.php",
                    data: "timelimit="+$.cookie("showtime"),
                    cache: false,
                            success: function(html){
                                continuepickup=html;
                                if(html=="yes"){
                                    success_alert();
                                }else{
                                    if(document.getElementById("WTTpickup").value!=""){
                                        success_alert();
                                    }else{
                                        var pageid=$.mobile.activePage.attr('id');
                                        document.getElementById('popup'+pageid).innerHTML="Please Select Pickup Time";
                                        document.getElementById('alertbtn'+pageid).click();
                                    }
                                }
                                
                            }
                        });
                }
           }


            function success_alert()
            {
                // alert(document.getElementById("final_paymentprofId").value);
                 //alert(document.getElementById("exist_add").value);
                 
                 //alert(continuepickup);

                 var splitvals=document.getElementById("final_sendstr").value.split('==');
                var name_final=splitvals[0];
                var email_final=splitvals[1];
                var addr_final=splitvals[2];
                var city_final=splitvals[3];
                var state_final=splitvals[4];
                var zipcode_final=splitvals[5];
                var address_id=splitvals[6];
                var phone1_final=splitvals[7];

                var finalpaymentstr=document.getElementById('final_sendstr_payment').value;
                var finalpaymentstr_split=finalpaymentstr.split('==');
                var finalcardtype=finalpaymentstr_split[2];
                finalcardtype=finalcardtype.replace(/'+$/,'');


                if(email_final=="")
                {
                    //jAlert("Please add contact info");
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Please add contact info";
                    document.getElementById('alertbtn'+pageid).click();
                }
                else if(finalcardtype=="")
                {
                    //jAlert("Please add payment info");
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Please add payment info";
                    document.getElementById('alertbtn'+pageid).click();
                }
                else
                {


                    $.mobile.changePage("#ConfirmationList");

                

                var profileId = $.cookie("profId");
                var busId = $.cookie("busnsid");
                var product_title = $.cookie("showname");
                var delivery_charge = $.cookie("deliveryCharge");
                var delivery_time = $.cookie("deliveryTime");
                var min_order_amount = $.cookie("minorderamt");
                var location = $.cookie("showaddr");
                var location_id = $.cookie("loc_id");
                var showtime = $.cookie("showtime");
                //var item_id = $.cookie("item_id");
                var string=encodeURIComponent($.cookie("prevsName"));
                var taxes = $.cookie("taxRate");
                var finalchoice_string = $.cookie("finalchoice_string");
                var pickup_time= $.cookie("pickuptime");
                if(typeof $.cookie("tip_amount") == "undefined" ){
                    var tip_amt="0";
                }else{
                    var tip_amt=$.cookie("tip_amount");
                }
                //alert(tip_amt);
                //alert('success_alert final_sendstr - '+document.getElementById("final_sendstr").value);
                
                //document.getElementById("final_sendstr").value="";
                //alert(document.getElementById('payment_info').value);
            

                var emailIdfrst = document.getElementById("final_email").value;
                var paymentProfIdfrst = document.getElementById("final_paymentprofId").value;
                var paymentInfofrst = document.getElementById("payment_info").value;


                var emailIdsecnd = document.getElementById("final_mailid").value;
                var paymentProfIdsecnd = document.getElementById("final_ppId").value;
                var paymentInfosecnd = document.getElementById("final_payment_info").value;



                if(emailIdfrst=="")
                {
                    var fianlem=emailIdsecnd;
                }
                else
                {
                    var fianlem=emailIdfrst;
                }

                if(paymentProfIdfrst=="")
                {
                    var fianlppf=paymentProfIdsecnd;
                }
                else
                {
                    var fianlppf=paymentProfIdfrst;
                }

                if(paymentInfofrst=="")
                {
                    var fianlpInfo=paymentInfosecnd;
                }
                else
                {
                    var fianlpInfo=paymentInfofrst;
                }

                //alert(paymentProfId);
                // var location_id = $.cookie("loc_id");
                // var location_id = $.cookie("loc_id");

                 var total=$( "#final_price" ).val();
                 var pickup=$.cookie("pickuptm");
                 var comment=$.cookie("descriptiontm");
                //alert(document.getElementById('payment_info').value);

                //alert('tttt - '+document.getElementById('final_sendstr_payment').value);
                
                //alert(finalcardtype);
                //alert('pickuptm - '+$.cookie("pickuptm"));
                document.getElementById('selected_truck_name').value="";
                $("#success_confirmation").fadeOut(10,function(){
                     $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                     $(this).show("fast");
                });





                 $.ajax({
                type: "POST",
                url: "http://esolzdemos.com/lab1/whatthetrucks/final_checkout.php",
                data: "profileId="+profileId+"&busId="+busId+"&total="+total+"&product_title="+product_title+"&delivery_charge="+delivery_charge+"&delivery_time="+delivery_time+"&min_order_amount="+min_order_amount+"&location="+encodeURIComponent(location)+"&location_id="+location_id+"&showtime="+showtime+"&taxes="+taxes+"&string="+string+"&finalchoice_string="+finalchoice_string+"&emailId="+fianlem+"&paymentProfId="+fianlppf+"&pickup_time="+pickup+"&fianlpInfo="+document.getElementById('payment_info').value+"&tip_amt="+tip_amt+"&name_final="+name_final+"&email_final="+email_final+"&addr_final="+addr_final+"&city_final="+city_final+"&state_final="+state_final+"&zipcode_final="+zipcode_final+"&expdate="+document.getElementById("payment_expirydate").value+"&address_id="+address_id+"&phone1_final="+phone1_final+"&comment="+comment+"&finalcardtype="+finalcardtype,
                cache: false,
                        success: function(html){
                        var allval=html;
                        //alert(html);
                        //alert(allval);
                        //alert(allval);

                       $.cookie("prevsName", "");
                       $.cookie("descriptionsp",'');
                        $.cookie("descriptiontm",'');
                        document.getElementById("WTTpickup").value="";
                        if(typeof $.cookie("pickuptm") != "undefined"){
                                                $.cookie("pickuptm",'undefined');
                                         }
                        $.cookie("count", 0);
                        $("#countval").val = 0;
                        document.getElementById('show_cart').style.display='none';
                        document.getElementById('show_cart1').style.display='none';
                        document.getElementById('show_cartpayment').style.display='none';
    document.getElementById('show_cartcnctinfo').style.display='none';
                        document.getElementById('cartval').style.display='none';
                        document.getElementById('cartval1').style.display='none';
                         document.getElementById('cartval2').style.display='none';
                        //alert(allval);
                        //console.log(allval);
                        //alert(allval);

                        //$.mobile.changePage("#home");
                        //alert(allval);

                        // var splitArray = allval.split('@@');
                        // var itemJson=splitArray[1];

                        // alert(itemJson);

                        //document.getElementById("success_confirmation").innerHTML=allval;
                        

            //             $('#success_confirmation').html(allval);
            // document.getElementById('payment_info').value="";
            // recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
            // document.getElementById('payment_expirydate').value="";
            // document.getElementById('payment_info').value="";
            // recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
            // $('#success_confirmation').html(allval);

                    $('#success_confirmation').fadeOut(10,function(){
                                                $(this).html(allval);
                                                $(this).fadeIn(10);
                                               $('.delete').click(function() {
                                                           $(this).parent().parent().remove();
                                                   });
                                            });

                        // document.getElementById('payment_info').value="";
                        // //recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                        // document.getElementById('payment_expirydate').value="";
                        // document.getElementById('payment_info').value="";
                        
                                   
                                     // $('#success_confirmation').fadeOut(500,function(){
                                        //  $(this).html(allval);
                                        //  $(this).fadeIn(500);

                                        //          $('.right-small-box').click(function() {
                                        //              $(this).parent().parent().find(".collapsed-schedule").slideToggle();
                                        //          }); 
                                        
                                     // });
                                    }


                            });
                            }

                            //recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                            // alert('final_sendstr - '+document.getElementById("final_sendstr").value);
                            // alert('final_sendstr_payment - '+document.getElementById('final_sendstr_payment').value);
                
            }



        //     function success_alert()
        //     {
        //         $.mobile.changePage("#ConfirmationList");

        //         var profileId = $.cookie("profId");
        //         var busId = $.cookie("busnsid");
        //         var product_title = $.cookie("showname");
        //         var delivery_charge = $.cookie("deliveryCharge");
        //         var delivery_time = $.cookie("deliveryTime");
        //         var min_order_amount = $.cookie("minorderamt");
        //         var location = $.cookie("showaddr");
        //         var location_id = $.cookie("loc_id");
        //         var showtime = $.cookie("showtime");
        //         //var item_id = $.cookie("item_id");
        //         var string=encodeURIComponent($.cookie("prevsName"));
        //         var taxes = $.cookie("taxRate");
        //         var finalchoice_string = $.cookie("finalchoice_string");
        //         var pickup_time= $.cookie("pickuptime");
        // var tip_amt=$.cookie("tip_amount");
        // //alert(tip_amt);
        // //alert(document.getElementById("final_sendstr").value);
        // var splitvals=document.getElementById("final_sendstr").value.split('==');
        // var name_final=splitvals[0];
        // var email_final=splitvals[1];
        // var addr_final=splitvals[2];
        // var city_final=splitvals[3];
        // var state_final=splitvals[4];
        // var zipcode_final=splitvals[5];
        // document.getElementById("final_sendstr").value="";
        // //alert(document.getElementById('payment_info').value);
            

        //         var emailIdfrst = document.getElementById("final_email").value;
        //         var paymentProfIdfrst = document.getElementById("final_paymentprofId").value;
        //         var paymentInfofrst = document.getElementById("payment_info").value;


        //         var emailIdsecnd = document.getElementById("final_mailid").value;
        //         var paymentProfIdsecnd = document.getElementById("final_ppId").value;
        //         var paymentInfosecnd = document.getElementById("final_payment_info").value;



        //         if(emailIdfrst=="")
        //         {
        //             var fianlem=emailIdsecnd;
        //         }
        //         else
        //         {
        //             var fianlem=emailIdfrst;
        //         }

        //         if(paymentProfIdfrst=="")
        //         {
        //             var fianlppf=paymentProfIdsecnd;
        //         }
        //         else
        //         {
        //             var fianlppf=paymentProfIdfrst;
        //         }

        //         if(paymentInfofrst=="")
        //         {
        //             var fianlpInfo=paymentInfosecnd;
        //         }
        //         else
        //         {
        //             var fianlpInfo=paymentInfofrst;
        //         }

        //         //alert(paymentProfId);
        //         // var location_id = $.cookie("loc_id");
        //         // var location_id = $.cookie("loc_id");

        //          var total=$( "#final_price" ).val();
        //          //alert('fianlpInfo - '+document.getElementById('payment_info').value);
                

        //          $.ajax({
        //         type: "POST",
        //         url: "http://esolzdemos.com/lab1/whatthetrucks/final_checkout.php",
        //         data: "profileId="+profileId+"&busId="+busId+"&total="+total+"&product_title="+product_title+"&delivery_charge="+delivery_charge+"&delivery_time="+delivery_time+"&min_order_amount="+min_order_amount+"&location="+location+"&location_id="+location_id+"&showtime="+showtime+"&taxes="+taxes+"&string="+string+"&finalchoice_string="+finalchoice_string+"&emailId="+fianlem+"&paymentProfId="+fianlppf+"&pickup_time="+pickup_time+"&fianlpInfo="+document.getElementById('payment_info').value+"&tip_amt="+tip_amt+"&name_final="+name_final+"&email_final="+email_final+"&addr_final="+addr_final+"&city_final="+city_final+"&state_final="+state_final+"&zipcode_final="+zipcode_final+"&expdate="+document.getElementById("payment_expirydate").value,
        //         cache: false,
        //                 success: function(html){
        //                 var allval=html;

        //                 //console.log(allval);
        //                 //alert(allval);

        //                 //$.mobile.changePage("#home");
        //                 //alert(allval);

        //                 // var splitArray = allval.split('@@');
        //                 // var itemJson=splitArray[1];

        //                 // alert(itemJson);

        //                 //document.getElementById("success_confirmation").innerHTML=allval;
                        

        //                 $('#success_confirmation').html(allval);
        //     document.getElementById('payment_info').value="";
        //     recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
        //     document.getElementById('payment_expirydate').value="";
        //     document.getElementById('payment_info').value="";
        //     recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                       
        //                  // $('#success_confirmation').fadeOut(500,function(){
        //                     //  $(this).html(allval);
        //                     //  $(this).fadeIn(500);

        //                     //          $('.right-small-box').click(function() {
        //                     //              $(this).parent().parent().find(".collapsed-schedule").slideToggle();
        //                     //          }); 
                            
        //                  // });
        //                 }


        //         });
        //     }


       
       function updatetipvalue(val)
       {
            var tipval="0";
            //alert(val.value);
            if(val.value!=""){
               tipval=val.value;
            }

            $.cookie("tip_amount", tipval);
            // alert('tip_amount - '+$.cookie("tip_amount"));
            // alert('tax_price - '+document.getElementById('tax_price').innerHTML);
            // alert('tot_price - '+document.getElementById('tot_price').innerHTML);
            var taxprice=document.getElementById('tax_price').innerHTML;
            taxprice=taxprice.replace("$","");
            //alert('taxprice - '+taxprice);

            var totprice=document.getElementById('tot_price').innerHTML;
            totprice=totprice.replace("$","");
            //alert('totprice - '+totprice);

            var totprice=Number(taxprice)+Number(totprice)+Number(tipval);

            //totprice=Math.round(totprice * 100) / 100;
            totprice=totprice.toFixed(2)
            totprice=parseFloat(totprice);

            document.getElementById('total_final').innerHTML="$"+totprice.toFixed(2);
            //alert(totprice);

        }

            function loadpaymentmethod()
            {
                document.getElementById('homepagebtn').href="#"+$.mobile.activePage.attr('id')
                document.getElementById('homepagebtn').click();
                $.mobile.changePage("#paymentMethod");
                if($("#card_Type").val()=="Visa"){
                        document.getElementById('visaimg').className="ui-btn visa-btn";
                    }else if($("#card_Type").val()=="American Express"){
                        document.getElementById('ameximg').className="ui-btn americanExpress-btn";
                        
                    }else if($("#card_Type").val()=="Master"){
                        document.getElementById('masterimg').className="ui-btn masterCard-btn";
                        
                    }else if($("#card_Type").val()=="Discover"){
                        document.getElementById('discimg').className="ui-btn discover-btn";
                        
                    }

                $("#card_Type").val('');
                    $("#nameOnCard").val('');
                    $("#cardNumber").val('');
                    $("#expMonth").val('');
                    //$('#expMonth>option:eq(0)').attr('selected', true);
                    // $('select').selectmenu();
                    //         $('select').selectmenu('refresh', true);
                    $("#expYear").val('');
                    $("#CVVCode").val('');
            }

            function loadcontactinfo()
            {
                document.getElementById('homepagebtn').href="#"+$.mobile.activePage.attr('id')
                document.getElementById('homepagebtn').click();
                $.mobile.changePage("#contactInfo");
                $("#Name").val('');
                $("#Address").val('');
                $("#City").val('');
               //$("#State").val('');
               $("#State").val($("#State option:first").val());
               $("#ZIP").val('');
                $("#Mobile").val('');
                $("#Email").val('');
                 document.getElementById("addcnctbtn").disabled = false;
            }

            function show_settings()
            {
                // alert($.mobile.activePage.attr('id'));
                // alert('frompageval - '+frompageval);
                if($.mobile.activePage.attr('id')!="newAddress" && $.mobile.activePage.attr('id')!="contactInfo" && $.mobile.activePage.attr('id')!="newCard"){
                    frompageval=$.mobile.activePage.attr('id');
                }
                //alert(frompageval);
                $("#Name").val('');
                $("#Address").val('');
                $("#City").val('');
               //$("#State").val('');
               $("#State").val($("#State option:first").val());
               $("#ZIP").val('');
                $("#Mobile").val('');
                $("#Email").val('');
                 document.getElementById("addcnctbtn").disabled = false;

                 if($("#card_Type").val()=="Visa"){
                        document.getElementById('visaimg').className="ui-btn visa-btn";
                    }else if($("#card_Type").val()=="American Express"){
                        document.getElementById('ameximg').className="ui-btn americanExpress-btn";
                        
                    }else if($("#card_Type").val()=="Master"){
                        document.getElementById('masterimg').className="ui-btn masterCard-btn";
                        
                    }else if($("#card_Type").val()=="Discover"){
                        document.getElementById('discimg').className="ui-btn discover-btn";
                        
                    }

                $("#card_Type").val('');
                    $("#nameOnCard").val('');
                    $("#cardNumber").val('');
                    $("#expMonth").val('');
                    //$('#expMonth>option:eq(0)').attr('selected', true);
                    // $('select').selectmenu();
                    //         $('select').selectmenu('refresh', true);
                    $("#expYear").val('');
                    $("#CVVCode").val('');

                    //alert('***** - '+fb_html);

                    if(fb_html==''){
                        //alert('Please login to continue');
                        //alert(2);
                        $.mobile.changePage("#logIn");
                        return false;
                    }else{

                var loginvalue = $.cookie("fbvalue");
                var fb_uname=$.cookie("fb_uname");
                
                
                $("#signed_in_name").html(fb_uname);
                $.mobile.changePage("#settings");
                
                // alert('redirect_settings_val - '+document.getElementById("redirect_settings_val").value);
                //  alert('redirect_settings_val_cnct - '+document.getElementById("redirect_settings_val_cnct").value);
                //alert(fb_html);
                // if(document.getElementById("redirect_settings_val_cnct").value=="fromSettingscontact"){
                //     document.getElementById("redirect_settings_val_cnct").value="";
                //     $.mobile.changePage("#contactInfo");
                // }else if(document.getElementById("redirect_settings_val").value=="fromSettingscards"){
                //     document.getElementById("redirect_settings_val").value="";
                //     $.mobile.changePage("#paymentMethod");
                // }else{
                //     $.mobile.changePage("#settings");
                // }
                
                 $("#mypanel").panel("close");
                var fts = $('#flip2');
                fts.val('on');
                fts.slider('refresh');
                //alert('redirect_settings_val - '+document.getElementById("redirect_settings_val").value);
                }
                
                
                //alert(loginvalue);
                //alert(fb_uname);
            }

            function opendiv()
            {

                 $('select').selectmenu();
                $('select').selectmenu('refresh', true);
                $.mobile.changePage("#newAddress");

                // $p=jQuery.noConflict();
                 
                //     alert("hiiii");
                //     var availableTags = [ "c++", "java", "php", "coldfusion", "javascript", "asp", "ruby" ];
                //     alert(availableTags);

                // $p( "#tags" ).autocomplete({

                   
                // source: availableTags
                // });
           
         
               
            }


            // function MyRadio()
            // {

            //  var selectedLanguage = new Array();
            //  $('input[name="extraItem"]:checked').each(function() {
            //  selectedLanguage.push(this.value);
            //  });
            //  alert("Number of selected Languages: "+selectedLanguage.length+"\n"+"And, they are: "+selectedLanguage);

            //  // var extraval=value;
            //  // var date = new Date();
   //  //                     var minutes = 30;
   //  //                      date.setTime(date.getTime() + (minutes * 60 * 1000));
   //  //                     $.cookie("extraval", extraval, { expires: date });
                
            // }

            function MyRadio1(value,choiceid,choiceprice,choicetype,name)
            {

                document.getElementById('bread_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;

                
        //alert(mainprice);
                
            }

            function MyRadio2(value,choiceid,choiceprice,choicetype,name)
            {
                 document.getElementById('choice_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;
                //alert('choice-'+name);
                
        
        //alert(mainprice);
            }

            function MyRadio3(value)
            {

                var sizeval=value;
                var date = new Date();
                        var minutes = 1440;
                         date.setTime(date.getTime() + (minutes * 60 * 1000));
                        $.cookie("sizeval", sizeval, { expires: date });
                
            }

            function MyRadio4(value)
            {

                var drinksval=value;
                var date = new Date();
                        var minutes = 1440;
                         date.setTime(date.getTime() + (minutes * 60 * 1000));
                        $.cookie("drinksval", drinksval, { expires: date });
                
            }

            function MyRadio5(value,sauceid,sauceprice,saucetype,name)
            {
                 document.getElementById('sauce_clicked').value=value+"####"+sauceid+"####"+sauceprice+"####"+saucetype+"####"+name;
                 
        
        //alert(mainprice);
            }

            function MyRadioProtein(value,proteinid,proteinprice,proteintype,name)
            {
                 document.getElementById('protein_clicked').value=value+"####"+proteinid+"####"+proteinprice+"####"+proteintype+"####"+name;
                 
        
        //alert(mainprice);
            }

            function save_desc()
            {
                    var specialinst=document.getElementById('speInstruction').value;
                //alert('save_desc='+specialinst);
                document.getElementById('specialinsttext').value=specialinst;

                var thought = jQuery("textarea#speInstruction").val();

                //alert(thought);
                var date = new Date();
                        var minutes = 1440;
                         date.setTime(date.getTime() + (minutes * 60 * 1000));
                        $.cookie("descriptionsp", thought, { expires: date });
            }
            
            
            
             function OnChangeCheckbox (checkbox) {

               var count=0;
               var x=document.getElementsByName("extraItem");
               for (var i=0; i < x.length; i++)
                  {
                  if(x[i].checked)
                     {
                     count = count + 1;
                     }
                  }


                  //alert(count);

                if((Number(document.getElementById('choice_limit').value)!=0) && (count>Number(document.getElementById('choice_limit').value)))
                {
                    //jAlert("You can select maximum four");
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Maximum Selection is limited to "+document.getElementById('choice_limit').value;
                    document.getElementById('alertbtn'+pageid).click();
                    checkbox.checked = false;
                }
                else
                {
                    var noofitems=Number(document.getElementById('quantity').value);
                    if (checkbox.checked) {
                    selectedLanguage.push(checkbox.id);
                    var chkvalue=checkbox.value;
                    var chkvaluearr=chkvalue.split('++');
                    selectedPrice.push(chkvaluearr[0]);
                    selectedExtrasName.push(chkvaluearr[1]);
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(chkvaluearr[0])));
                    //alert(mainprice);
                    mainprice=mainprice+(Number(chkvaluearr[0])*noofitems);
                    //alert(this.value);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));
                    //document.getElementById('main_price_actual_value').value=mainprice;
                    
                    //alert ("check-id-"+checkbox.id);
                    //alert ("check-value-"+checkbox.value);
                    }
                    else {
                    //alert('index of id '+checkbox.id+' - '+selectedLanguage.indexOf(checkbox.id));
                    //alert('index of value '+checkbox.value+' - '+selectedPrice.indexOf(checkbox.value));
                    var indexofid=selectedLanguage.indexOf(checkbox.id);


                    var chkvalue=checkbox.value;
                    var chkvaluearr=chkvalue.split('++');
                    //selectedPrice.push(chkvaluearr[0]);
                    //selectedExtrasName.push(chkvaluearr[1]);
                     var indexofname=selectedExtrasName.indexOf(chkvaluearr[1]);
                    var indexofprice=selectedPrice.indexOf(chkvaluearr[0]);
                    selectedLanguage.splice(indexofid, 1);
                    selectedPrice.splice(indexofprice, 1);
                    selectedExtrasName.splice(indexofname, 1);
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(chkvaluearr[0])));
                    //alert(mainprice);
                    mainprice=mainprice-(Number(chkvaluearr[0])*noofitems);
                    //alert(this.value);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));
                    //document.getElementById('main_price_actual_value').value=mainprice;
                    //arr.splice(index, 1);
                    //alert ("uncheck-id-"+checkbox.id);
                    //alert ("uncheck-value-"+checkbox.value);
                    }
                }
                
            }



            //toppingsfunction

            function OnChangeCheckboxtoppings (checkbox) {

               var count=0;
               var x=document.getElementsByName("extraItemtoppings");
               for (var i=0; i < x.length; i++)
                  {
                  if(x[i].checked)
                     {
                     count = count + 1;
                     }
                  }


                  //alert(count);

                if((Number(document.getElementById('choice_limit').value)!=0) && (count>Number(document.getElementById('choice_limit').value)))
                {
                    //jAlert("You can select maximum four");
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Maximum Selection is limited to "+document.getElementById('choice_limit').value;
                    document.getElementById('alertbtn'+pageid).click();
                    checkbox.checked = false;
                }
                else
                {
                    var noofitems=Number(document.getElementById('quantity').value);
                    if (checkbox.checked) {
                    selectedLanguage_toppings.push(checkbox.id);
                    var chkvalue=checkbox.value;
                    var chkvaluearr=chkvalue.split('++');
                    selectedPrice_toppings.push(chkvaluearr[0]);
                    selectedExtrasName_toppings.push(chkvaluearr[1]);
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(chkvaluearr[0])));
                    //alert(mainprice);
                    mainprice=mainprice+(Number(chkvaluearr[0])*noofitems);
                    //alert(this.value);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));
                    //document.getElementById('main_price_actual_value').value=mainprice;
                    
                    //alert ("check-id-"+checkbox.id);
                    //alert ("check-value-"+checkbox.value);
                    }
                    else {
                    //alert('index of id '+checkbox.id+' - '+selectedLanguage.indexOf(checkbox.id));
                    //alert('index of value '+checkbox.value+' - '+selectedPrice.indexOf(checkbox.value));
                    var indexofid=selectedLanguage_toppings.indexOf(checkbox.id);


                    var chkvalue=checkbox.value;
                    var chkvaluearr=chkvalue.split('++');
                    //selectedPrice.push(chkvaluearr[0]);
                    //selectedExtrasName.push(chkvaluearr[1]);
                     var indexofname=selectedExtrasName_toppings.indexOf(chkvaluearr[1]);
                    var indexofprice=selectedPrice_toppings.indexOf(chkvaluearr[0]);
                    selectedLanguage_toppings.splice(indexofid, 1);
                    selectedPrice_toppings.splice(indexofprice, 1);
                    selectedExtrasName_toppings.splice(indexofname, 1);
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(chkvaluearr[0])));
                    //alert(mainprice);
                    mainprice=mainprice-(Number(chkvaluearr[0])*noofitems);
                    //alert(this.value);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));
                    //document.getElementById('main_price_actual_value').value=mainprice;
                    //arr.splice(index, 1);
                    //alert ("uncheck-id-"+checkbox.id);
                    //alert ("uncheck-value-"+checkbox.value);
                    }
                }
                
            }

            //toppingsfunction

            function get_extras()
            {

                //alert(document.getElementById('bread_clicked').value);

                if(document.getElementById('bread_clicked').value!=""){
                        //document.getElementById('bread_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;
                        var bread_clicked_text=document.getElementById('bread_clicked').value;
                        var bread_clicked_arr=bread_clicked_text.split("####");
                        var value=bread_clicked_arr[0];
                        var choiceid=bread_clicked_arr[1];
                        var choiceprice=bread_clicked_arr[2];
                        var choicetype=bread_clicked_arr[3];
                        var name=bread_clicked_arr[4];
                        var noofitems=Number(document.getElementById('quantity').value);
                        //alert(noofitems);
                        //alert('bread-'+name);
                        //alert('shwetaa-'+value);
                        document.getElementById('breadname').value=name;
                        document.getElementById('food_bread').innerHTML=name;
                        var choiceval=value;
                        // var date = new Date();
            //             var minutes = 30;
            //             date.setTime(date.getTime() + (minutes * 60 * 1000));
                        //$.cookie("choiceval", choiceval, { expires: date });

                        if(document.getElementById('breadprice').value!=""){
                            var mainpricehtml=$('#set_price').html();
                            mainpricehtml=mainpricehtml.replace('$','');
                            var mainprice=Number(mainpricehtml);
                            //alert(mainprice);
                            mainprice=mainprice-(Number(document.getElementById('breadprice').value)*noofitems);
                            document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(document.getElementById('breadprice').value)));
                            //alert('MyRadio1='+mainprice);
                            $('#set_price').html('$'+mainprice.toFixed(2));
                        }

                        document.getElementById('choiceval').value=choiceval;
                        document.getElementById('breadid').value=choiceid;
                        document.getElementById('breadprice').value=choiceprice;
                        //alert(choiceprice);
                        //alert($('#set_price').html());
                        var mainpricehtml=$('#set_price').html();
                        mainpricehtml=mainpricehtml.replace('$','');
                        var mainprice=Number(mainpricehtml);
                        document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(choiceprice)));
                        //alert(mainprice);
                        mainprice=mainprice+(Number(choiceprice)*noofitems);
                        //alert('MyRadio1='+mainprice);
                        $('#set_price').html('$'+mainprice.toFixed(2));


                
                        document.getElementById('breadtype').value=choicetype;

                        document.getElementById('bread_clicked').value="";
                }


                if(document.getElementById('choice_clicked').value!=""){
                        //document.getElementById('bread_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;
                        //document.getElementById('choice_clicked').value=value+"####"+choiceid+"####"+choiceprice+"####"+choicetype+"####"+name;

                        var choice_clicked_text=document.getElementById('choice_clicked').value;
                        var choice_clicked_arr=choice_clicked_text.split("####");
                        var value=choice_clicked_arr[0];
                        var choiceid=choice_clicked_arr[1];
                        var choiceprice=choice_clicked_arr[2];
                        var choicetype=choice_clicked_arr[3];
                        var name=choice_clicked_arr[4];


                //alert('choice-'+name);
                 var noofitems=Number(document.getElementById('quantity').value);
                document.getElementById('choicesoptname').value=name;
                document.getElementById('food_choice').innerHTML=name;
                var choicesval=value;

                if(document.getElementById('choicesprice').value!=""){
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    //alert(mainprice);
                    mainprice=mainprice-(Number(document.getElementById('choicesprice').value)*noofitems);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(document.getElementById('choicesprice').value)));
                    //alert('MyRadio1='+mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));
                }
                
                document.getElementById('choicesval').value=choicesval;
                document.getElementById('choicesid').value=choiceid;
                document.getElementById('choicesprice').value=choiceprice;
                document.getElementById('choicestype').value=choicetype;
        
        
        var mainpricehtml=$('#set_price').html();
        mainpricehtml=mainpricehtml.replace('$','');
        var mainprice=Number(mainpricehtml);
        document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(choiceprice)));
        //alert(mainprice);
        mainprice=mainprice+(Number(choiceprice)*noofitems);
        //alert(mainprice);
        $('#set_price').html('$'+mainprice.toFixed(2));

                        document.getElementById('choice_clicked').value="";
                }

                if(document.getElementById('sauce_clicked').value!="")
                {
                    //document.getElementById('sauce_clicked').value=value+"####"+sauceid+"####"+sauceprice+"####"+saucetype+"####"+name;

                         var sauce_clicked_text=document.getElementById('sauce_clicked').value;
                        var sauce_clicked_arr=sauce_clicked_text.split("####");
                        var value=sauce_clicked_arr[0];
                        var sauceid=sauce_clicked_arr[1];
                        var sauceprice=sauce_clicked_arr[2];
                        var saucetype=sauce_clicked_arr[3];
                        var name=sauce_clicked_arr[4];


                             var noofitems=Number(document.getElementById('quantity').value);
                            //alert('sauce-'+name);
                            document.getElementById('saucename').value=name;
                            document.getElementById('food_sauce').innerHTML=name;
                            var sauceval=value;

                            if(document.getElementById('sauceprice').value!=""){
                                var mainpricehtml=$('#set_price').html();
                                mainpricehtml=mainpricehtml.replace('$','');
                                var mainprice=Number(mainpricehtml);
                                //alert(mainprice);
                                mainprice=mainprice-(Number(document.getElementById('sauceprice').value)*noofitems);
                                document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(document.getElementById('sauceprice').value)));
                                //alert('MyRadio1='+mainprice);
                                $('#set_price').html('$'+mainprice.toFixed(2));
                            }

                            document.getElementById('sauceval').value=sauceval;
                            document.getElementById('sauceid').value=sauceid;
                            document.getElementById('sauceprice').value=sauceprice;
                            document.getElementById('saucetype').value=saucetype;
                            
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(sauceprice)));
                    //alert(mainprice);
                    mainprice=mainprice+(Number(sauceprice)*noofitems);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));

                    document.getElementById('sauce_clicked').value="";
                }

                if(document.getElementById('protein_clicked').value!="")
                {
                    //document.getElementById('sauce_clicked').value=value+"####"+sauceid+"####"+sauceprice+"####"+saucetype+"####"+name;

                     // alert('val - '+document.getElementById('protein_clicked').value);
                         var protein_clicked_text=document.getElementById('protein_clicked').value;
                        var protein_clicked_arr=protein_clicked_text.split("####");
                        var value=protein_clicked_arr[0];
                        var proteinid=protein_clicked_arr[1];
                        var proteinprice=protein_clicked_arr[2];
                        var proteintype=protein_clicked_arr[3];
                        var name=protein_clicked_arr[4];


                             var noofitems=Number(document.getElementById('quantity').value);
                            //alert('sauce-'+name);
                            document.getElementById('proteinname').value=name;
                            document.getElementById('food_protein').innerHTML=name;
                            var proteinval=value;
                           // alert('price-'+document.getElementById('proteinprice').value);
                            if(document.getElementById('proteinprice').value!=""){
                                var mainpricehtml=$('#set_price').html();
                                mainpricehtml=mainpricehtml.replace('$','');
                                var mainprice=Number(mainpricehtml);
                                //alert(mainprice);
                                mainprice=mainprice-(Number(document.getElementById('proteinprice').value)*noofitems);
                                document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)-(Number(document.getElementById('proteinprice').value)));
                                //alert('MyRadio1='+mainprice);
                                $('#set_price').html('$'+mainprice.toFixed(2));
                            }

                            document.getElementById('proteinval').value=proteinval;
                            document.getElementById('proteinid').value=proteinid;
                            document.getElementById('proteinprice').value=proteinprice;
                            document.getElementById('proteintype').value=proteintype;
                            
                    var mainpricehtml=$('#set_price').html();
                    mainpricehtml=mainpricehtml.replace('$','');
                    var mainprice=Number(mainpricehtml);
                    document.getElementById('main_price_actual_value').value=(Number(document.getElementById('main_price_actual_value').value)+(Number(proteinprice)));
                    //alert(mainprice);
                    mainprice=mainprice+(Number(proteinprice)*noofitems);
                    //alert(mainprice);
                    $('#set_price').html('$'+mainprice.toFixed(2));

                    document.getElementById('protein_clicked').value="";
                }



                var allextras='';
                var allextrasprice='';
                var allextrasname='';

                var allextras_toppings='';
                var allextrasprice_toppings='';
                var allextrasname_toppings='';
                



                if((selectedLanguage.length > 0) && (selectedPrice.length > 0) && (selectedExtrasName.length > 0)){
            //alert('continue');
                allextras=selectedLanguage;
//
                 allextrasprice=selectedPrice.join(",");
                 allextrasname=selectedExtrasName.join(",");
                 //alert('==== '+allextrasname);
                //alert(allextrasprice);
                document.getElementById('food_extras').innerHTML=allextrasname;

                

         
            }else{
                if (document.getElementById('food_extras') != null){
                    document.getElementById('food_extras').innerHTML="";
                }   
            }


            if((selectedLanguage_toppings.length > 0) && (selectedPrice_toppings.length > 0) && (selectedExtrasName_toppings.length > 0)){
            //alert('continue');
                allextras_toppings=selectedLanguage_toppings;
//
                 allextrasprice_toppings=selectedPrice_toppings.join(",");
                 allextrasname_toppings=selectedExtrasName_toppings.join(",");

                //alert(allextrasprice);

                document.getElementById('food_toppings').innerHTML=allextrasname_toppings;
                

         
            }else{
                if (document.getElementById('food_toppings') != null){
                    document.getElementById('food_toppings').innerHTML="";
                }
            }

        //alert(allextras);
        //alert(allextrasprice);
        document.getElementById("extrasvalue").value=allextras;
                document.getElementById("extrasprices").value=allextrasprice;
                document.getElementById("extrasnames").value=allextrasname;
                

                document.getElementById("extrasvalue_toppings").value=allextras_toppings;
                document.getElementById("extrasprices_toppings").value=allextrasprice_toppings;
                document.getElementById("extrasnames_toppings").value=allextrasname_toppings;

                        //alert($.cookie(allextras));

                //alert("Number of selected Languages: "+selectedLanguage.length+"\n"+"And, they are: "+selectedLanguage);
            }

            function remove_item(val,arr)
            {
            //alert('string - '+arr);
            arr=$.cookie("prevsName");
            //alert(arr);
            var splitarr = arr.split("=====");
            var arrlength=splitarr.length;
            //alert(arrlength);

            splitarr.splice(val, 1);




            //alert('after splice'+splitarr.length);

                            // for(var i=0;i<((splitarr.length)-1);i++)
                            // {

                            //    alert(splitarr[i]);
                            //    var newpricearr=splitarr[i].split("##");

                            //    var newprice=newpricearr[5];

                            //    alert(newprice);



                            // }

            var newarr = splitarr.join("=====");

                            var newarr_split=newarr.split("=====");

                            //alert(varnewarr_split.length);

                            var newprice=0;
               var i=0;
                            for(i=0;i<((newarr_split.length)-1);i++)
                            {

                               //alert('newarr_split[i] - '+newarr_split[i]);
                               var newpricearr=newarr_split[i].split("##");
                               var delprice=newpricearr[5];
                               //alert(delprice);
                               if (delprice.indexOf('$') != -1) {
                            delprice=delprice.replace("$", "");
                               }

                               newprice=newprice+parseFloat(delprice);
               //alert(newprice);

                           }



                            //alert(newprice);

                            $("#total_price").html('$'+newprice.toFixed(2));
                            $("#final_price").val(newprice.toFixed(2));
            //alert(newarr);

                            //var newpricearr=arr.split("##");


                            //var newprice=newpricearr[5];

                            //alert(newprice);





            $.cookie("prevsName", newarr);




            $.cookie("count", parseInt($.cookie("count"))-1);

            var totcount=parseInt($.cookie("count"));

            if(totcount<0)
            {
            countcart=0;
            }
            else
            {
            countcart=totcount;
            }   


            

            $("#countval").val = countcart;
            document.getElementById('show_cart').style.display='';
            document.getElementById('show_cart1').style.display='';
            document.getElementById('show_cartpayment').style.display='';
    document.getElementById('show_cartcnctinfo').style.display='';
            document.getElementById('cartval').style.display='';
            document.getElementById('cartval1').style.display='';
            document.getElementById('cartval2').style.display='';
            $(".footer-cart .cart_value").text(countcart);

            if(countcart==0)
            {
                //alert("remove");
                document.getElementById('show_cart').style.display='none';
                document.getElementById('show_cart1').style.display='none';
                document.getElementById('show_cartpayment').style.display='none';
    document.getElementById('show_cartcnctinfo').style.display='none';
                document.getElementById('cartval').style.display='none';
                document.getElementById('cartval1').style.display='none';
                document.getElementById('cartval2').style.display='none';
            }



                  
           // alert('countcart - '+countcart);
            if(newarr=="" || countcart==0)
            {
                // alert($.cookie("count"));
                 $.cookie("count", 0);
                 document.getElementById('show_cart').style.display='none';
                document.getElementById('show_cart1').style.display='none';
                document.getElementById('show_cartpayment').style.display='none';
    document.getElementById('show_cartcnctinfo').style.display='none';
                document.getElementById('cartval').style.display='none';
                 $.mobile.changePage("#truckDetails");
                 if(typeof $.cookie("pickuptm") != "undefined"){
                            $.cookie("pickuptm",'undefined');
                     }
            }

            }


            function remove_item2(val,arr)
            {
                //alert(val);
                //$.mobile.changePage("#checkOut");
                arr=$.cookie("prevsName");
                //alert(arr);
                var splitarr = arr.split("=====");
                var arrlength=splitarr.length;
                //alert(arrlength);

                splitarr.splice(val, 1);




            //alert('after splice'+splitarr.length);

                            // for(var i=0;i<((splitarr.length)-1);i++)
                            // {

                            //    alert(splitarr[i]);
                            //    var newpricearr=splitarr[i].split("##");

                            //    var newprice=newpricearr[5];

                            //    alert(newprice);



                            // }

            var newarr = splitarr.join("=====");

                            var newarr_split=newarr.split("=====");

                            //alert(varnewarr_split.length);

                            var newprice=0;
               var i=0;
                            for(i=0;i<((newarr_split.length)-1);i++)
                            {

                               //alert(varnewarr_split[i]);
                               var newpricearr=newarr_split[i].split("##");
               var delprice=newpricearr[5];
               if (delprice.indexOf('$') != -1) {
            delprice=delprice.replace("$", "");
               }

                               newprice=newprice+parseFloat(delprice);
               //alert(newprice);

                           }
                           $("#tot_price").html('$'+newprice.toFixed(2));
                           //alert('newprice - '+newprice);

                            //alert(newprice);
            var tax_rate=$.cookie("taxRate");
            tax_rate=parseFloat(tax_rate);
            newprice=newprice+((tax_rate/100)*newprice);
            var tipstr=document.getElementById('tipbox').value;
            var tip=0;
            if(tipstr!=""){
                tip=Number(tipstr);
            }
            newprice=newprice+tip;
                            
            $("#total_final").html('$'+newprice.toFixed(2));
                            $("#final_price").val(newprice.toFixed(2));
            //alert(newarr);

                            //var newpricearr=arr.split("##");


                            //var newprice=newpricearr[5];

                            //alert(newprice);





            $.cookie("prevsName", newarr);




            $.cookie("count", parseInt($.cookie("count"))-1);

            var totcount=parseInt($.cookie("count"));

            if(totcount<0)
            {
            countcart=0;
            }
            else
            {
            countcart=totcount;
            }   




            $("#countval").val = countcart;
            document.getElementById('show_cart').style.display='';
            document.getElementById('show_cart1').style.display='';
            document.getElementById('show_cartpayment').style.display='';
    document.getElementById('show_cartcnctinfo').style.display='';
            document.getElementById('cartval').style.display='';
            document.getElementById('cartval1').style.display='';
    document.getElementById('cartval2').style.display='';
                $(".footer-cart .cart_value").text(countcart);
   
            if(countcart==0)
            {
                document.getElementById('show_cart').style.display='none';
                document.getElementById('show_cart1').style.display='none';
                document.getElementById('show_cartpayment').style.display='none';
    document.getElementById('show_cartcnctinfo').style.display='none';
                document.getElementById('cartval').style.display='none';
                document.getElementById('cartval1').style.display='none';
                document.getElementById('cartval2').style.display='none';
            }



            var showname=$.cookie("showname");
                    var showaddr=$.cookie("showaddr");
                    var showtime=$.cookie("showtime");
                    var pickuptime=$.cookie("pickuptime");
                    var minorderamt=$.cookie("minorderamt");

                    //alert(showname);
                    //alert($.cookie("prevsName"));
                    
                    $.ajax({
                        type: "POST",
                        url: "http://esolzdemos.com/lab1/whatthetrucks/basketpage.php",
                        data: "string="+encodeURIComponent($.cookie("prevsName"))+"&showname="+showname+"&showaddr="+encodeURIComponent(showaddr)+"&showtime="+showtime+"&pickuptime="+pickuptime+"&minorderamt="+minorderamt,
                        cache: false,
                                success: function(html){
                                    //alert(html);
                                    $('#basktRed').html(html);
                                }
                                });       

             if(newarr=="" || countcart==0)
            {
                // alert($.cookie("count"));
                 $.mobile.changePage("#truckDetails");
                 if(typeof $.cookie("pickuptm") != "undefined"){
                            $.cookie("pickuptm",'undefined');
                     }
            }

        }

        function payment_proflid(ppid,paymentinfo,payment_expdate,obj,value)
           {

            var selected_paymentid=document.getElementById("final_hrtpayment").value;

            //document.getElementById(selected_paymentid).className = "top-icon-1 heart-icon";

                document.getElementById("final_ppId").value=ppid;
                 document.getElementById("final_payment_info").value=paymentinfo;
                 //alert('function payment_proflid -'+paymentinfo);
                 document.getElementById("payment_info").value=paymentinfo;
                 document.getElementById("payment_expirydate").value=payment_expdate;

                 var id=obj.id;

                   //alert('id'+id);

                   var class_name=document.getElementById(id).className;

                   //alert(class_name);

                   var activeclass=class_name.indexOf("active");

                   //alert(activeclass);



                   document.getElementById("active_id").value=id;

                   var set_id=document.getElementById("active_id").value;
                   //alert('setid'+set_id);

                   // if(id==set_id)
                   // {
                   //     if(activeclass==-1)
                   //     {
                   //          //alert('1');
                   //         document.getElementById(id).className = "top-icon-1 heart-icon active";
                   //         if(document.getElementById('selectedpaymentheart').value==""){
                   //              document.getElementById('selectedpaymentheart').value=id;
                   //          }else{
                   //              var deselectid=document.getElementById('selectedpaymentheart').value;
                   //              //alert(deselectid);
                   //              document.getElementById(deselectid).className = "top-icon-1 heart-icon";
                   //              document.getElementById('selectedpaymentheart').value=id;
                   //          }

                   //     }

                   //     else
                   //     {
                   //          //alert('2');
                   //          document.getElementById(id).className = "top-icon-1 heart-icon";
                   //     }
                   // }

                   // else
                   // {
                   //      //alert('3');
                   //     document.getElementById(id).className = "top-icon-1 heart-icon";
                   // }


                   if(document.getElementById("final_hrtpayment").value!=obj.id){
                        document.getElementById(obj.id).className = "top-icon-1 heart-icon active";
                        document.getElementById(document.getElementById("final_hrtpayment").value).className = "top-icon-1 heart-icon";
                        document.getElementById("final_hrtpayment").value=obj.id;
                   }



                    document.getElementById("final_sendstr_payment").value=value;

                if(document.getElementById("redirect_settings_val").value=="")
                {

                    var splitvals=value.split('==');
                    var last_four=splitvals[0];
                    var expdate=splitvals[1];
                    var pmtcardtype=splitvals[2];

                    //alert(last_four);

                    var lastfour_new=last_four.replace("'","");
                    var expdate_new=expdate.replace("'","");
                    var pmtcardtype_new=pmtcardtype.replace("'","");

                    $("#last_four").html(pmtcardtype_new+': **** **** **** '+lastfour_new);
                    $("#expdate").html('Exp: '+expdate_new);
                    $.mobile.changePage("#checkOut");
                }
           }

        // function send_email(val)
        //    {
        //         document.getElementById("final_sendstr").value=val;


        //    }

        function send_email(val,obj)
          {

            var selected_cnctid=document.getElementById("final_hrtidval").value;

            //document.getElementById(selected_cnctid).className = "top-icon-1 heart-icon";

           

           //alert(obj.id);

           var id=obj.id;

           //alert('id'+id);

           var class_name=document.getElementById(id).className;

           //alert(class_name);

           var activeclass=class_name.indexOf("active");

           //alert(activeclass);



           document.getElementById("active_id").value=id;

           var set_id=document.getElementById("active_id").value;
           //alert('setid'+set_id);

           // if(activeclass==-1)
           //             {
           //                  //alert('1');
           //                 document.getElementById(id).className = "right-icon heart-icon active";
           //                 if(document.getElementById('selectedpaymentheart').value==""){
           //                      document.getElementById('selectedpaymentheart').value=id;
           //                  }else{
           //                      var deselectid=document.getElementById('selectedpaymentheart').value;
           //                      document.getElementById(deselectid).className = "right-icon heart-icon";
           //                      document.getElementById('selectedpaymentheart').value=id;
           //                  }

           //             }

           // if(id==set_id)
           // {
           //     if(activeclass==-1)
           //     {



           //         document.getElementById(id).className = "top-icon-1 heart-icon active";
           //         if(document.getElementById('selectedaddressheart').value==""){
           //              document.getElementById('selectedaddressheart').value=id;
           //          }else{
           //              var deselectid=document.getElementById('selectedaddressheart').value;
           //              document.getElementById(deselectid).className = "top-icon-1 heart-icon";
           //              document.getElementById('selectedaddressheart').value=id;
           //          }
           //     }

           //     else
           //     {
           //          document.getElementById(id).className = "top-icon-1 heart-icon";
           //     }
           // }

           // else
           // {
           //     document.getElementById(id).className = "top-icon-1 heart-icon";
           // }


           if(document.getElementById("final_hrtidval").value!=obj.id){
                document.getElementById(obj.id).className = "top-icon-1 heart-icon active";
                document.getElementById(document.getElementById("final_hrtidval").value).className = "top-icon-1 heart-icon";
                document.getElementById("final_hrtidval").value=obj.id;
           }

           


               //document.getElementById(id).className = "contactInfoList heart-icon addressBar active";
          
               //document.getElementById(id).className = "contactInfoList heart-icon addressBar";
           

           //document.getElementById(id).className = "contactInfoList heart-icon addressBar active";
               // alert(obj.id);

               // var button = document.getElementsByClassName("heart-icon");

           
               // obj.setAttribute("class", "active");
               //button.setAttribute("src", "images/arrows/top_o.png");
           //}

              // $("p:first").addClass("intro");
            
             // else {
             //   $(".contactInfoList .bar .heart-icon").removeClass("active");
             //   $(obj).find(".heart-icon").addClass("active");
             // }
               

              
               document.getElementById("final_sendstr").value=val;
               //alert('send_email final_sendstr - '+document.getElementById("final_sendstr").value);

                //if(document.getElementById("redirect_settings_val_cnct").value!="")
                if(document.getElementById("redirect_settings_val_cnct").value=="")
                {

                    var splitvals=val.split('==');
                    var name_final=splitvals[0];
                    var email_final=splitvals[1];
                    var addr_final=splitvals[2];
                    var city_final=splitvals[3];
                    var state_final=splitvals[4];
                    var zipcode_final=splitvals[5];
                    var address_id=splitvals[6];
                    var phone1_final=splitvals[7];

                    //alert(name_final);

                    var name_new=name_final.replace("'","");
                    phone1_final=phone1_final.replace("'","");
                    $("#dis_name").html(name_new);
                    $("#dis_mail").html(email_final);
                    $("#dis_add").html(addr_final);
                    $("#dis_add_del").html(city_final+','+state_final+','+zipcode_final+'<br/>'+phone1_final);
                    $.mobile.changePage("#checkOut");
                }

          }

            $(document).on('blur', 'input, textarea,select,button', function() {
                setTimeout(function() {
                    window.scrollTo(document.body.scrollLeft, document.body.scrollTop);
                }, 0);
            });

            function back_function()
            {
                window.history.back();
            }

            // function back_function1()
            // {


            //     window.history.back();
            //     $.mobile.changePage("#Basket");
            // }

            

            function check_basredirect()
            {
               // alert(typeof $.cookie("count"));
               //alert($('#show_cart').html());
               //alert('pppp');
                if (typeof $.cookie("prevsName") == "undefined" || $.cookie("prevsName") =="")
                {
                   // jAlert("Basket is empty");
                    var pageid=$.mobile.activePage.attr('id');
                    document.getElementById('popup'+pageid).innerHTML="Basket is empty";
                    document.getElementById('alertbtn'+pageid).click();
                }
                else
                {
                    if(($.cookie("islogin")== "yes") && ((typeof $.cookie("prevsName") != "undefined") || $.cookie("prevsName") != "") && fb_html!="")
                    {
                        basketredirect();
                    }

                    else
                    {
                        //alert(3);
                        $.mobile.changePage("#logIn");
                    }
                }
              

                    
                
               
                
            }


            // By arunima

            function edit_item(item_id,item_price,item_name,description,limit_choice,quantity,edit_index,final_string)
            {
                //alert(final_string);
                //alert('description :'+description);
                //alert('limit_choice - '+limit_choice);
                $.cookie("foodname",item_name);

           
                $.cookie("item_id",item_id);

                //alert(final_string);

                //alert(edit_index);
                $("#food_div").html(" ");
                // alert(item_id);
                // alert(item_price);
                // alert(item_name);
                // alert(description);
                // alert(limit_choice);

                var final_selected_string=final_string;
                //alert(final_selected_string);

                var split_val=final_selected_string.split("@@");
                var len=split_val.length;
                
                //alert(split_val[len-2]);
                if(split_val[len-3]=="undefined"){
                    document.getElementById('specialinsttext').value="";
                }else{
                    document.getElementById('specialinsttext').value=split_val[len-3];
                }

               // alert(split_val);

                for(var i = 0; i < split_val.length; i++)
                {

                   //alert('split_val[i] ------- '+split_val[i]);
                    var split_val_new=split_val[i].split("^");

                    //alert(split_val_new[0]);
                   // alert(split_val_new[2]);
                    if(split_val_new[2]=="Bread")
                    {
                        //alert(split_val_new[4]);
                         document.getElementById('breadid').value=split_val_new[1];
                         document.getElementById('breadtype').value=split_val_new[2];
                         document.getElementById('breadprice').value=split_val_new[3];
                         document.getElementById('choiceval').value=split_val_new[0];
                         document.getElementById('breadname').value=split_val_new[4];

                    }
                    if(split_val_new[2]=="Choice")
                    {
                         document.getElementById('choicesid').value=split_val_new[1];
                         document.getElementById('choicestype').value=split_val_new[2];
                         document.getElementById('choicesprice').value=split_val_new[3];
                         document.getElementById('choicesval').value=split_val_new[0];
                         document.getElementById('choicesoptname').value=split_val_new[4];
                    }
                    if(split_val_new[2]=="Sauce")
                    {
                         document.getElementById('sauceid').value=split_val_new[1];
                         document.getElementById('saucetype').value=split_val_new[2];
                         document.getElementById('sauceprice').value=split_val_new[3];
                         document.getElementById('sauceval').value=split_val_new[0];
                         document.getElementById('saucename').value=split_val_new[4];
                    }
                    if(split_val_new[2]=="Protein")
                    {
                         document.getElementById('proteinid').value=split_val_new[1];
                         document.getElementById('proteintype').value=split_val_new[2];
                         document.getElementById('proteinprice').value=split_val_new[3];
                         document.getElementById('proteinval').value=split_val_new[0];
                         document.getElementById('proteinname').value=split_val_new[4];
                    }
                    if(split_val_new[2]=="extras")
                    {
                        //alert(split_val_new[4]);
                         document.getElementById("extrasvalue").value=split_val_new[0];
                         document.getElementById("extrasnames").value=split_val_new[4];
                         document.getElementById("extrasprices").value=split_val_new[3];

                         var extrasid_split=split_val_new[0].split(",");
                         var extrasname_split=split_val_new[4].split(",");
                         var extrasprice_split=split_val_new[3].split(",");

                         var a=0;
                         var b=0;
                         var c=0;

                         for(a=0;a<extrasid_split.length;a++){
                            selectedLanguage.push(extrasid_split[a]);
                         }

                         for(b=0;b<extrasname_split.length;b++){
                            selectedExtrasName.push(extrasname_split[b]);
                         }

                         for(c=0;c<extrasprice_split.length;c++){
                            selectedPrice.push(extrasprice_split[c]);
                         }
                         // selectedLanguage
                         // selectedPrice
                         // selectedExtrasName

                         // document.getElementById('sauceid').value=split_val_new[1];
                         // document.getElementById('saucetype').value=split_val_new[2];
                         // document.getElementById('sauceprice').value=split_val_new[3];
                         // document.getElementById('sauceval').value=split_val_new[0];
                         // document.getElementById('saucename').value=split_val_new[4];
                    }

                    if(split_val_new[2]=="toppings")
                    {
                        //alert("toppings - "+split_val_new[0]);
                         document.getElementById("extrasvalue_toppings").value=split_val_new[0];
                         document.getElementById("extrasnames_toppings").value=split_val_new[4];
                         document.getElementById("extrasprices_toppings").value=split_val_new[3];

                         var extrasid_split_toppings=split_val_new[0].split(",");
                         var extrasname_split_toppings=split_val_new[4].split(",");
                         var extrasprice_split_toppings=split_val_new[3].split(",");

                         var a=0;
                         var b=0;
                         var c=0;

                         for(a=0;a<extrasid_split_toppings.length;a++){
                            selectedLanguage_toppings.push(extrasid_split_toppings[a]);
                         }

                         for(b=0;b<extrasname_split_toppings.length;b++){
                            selectedExtrasName_toppings.push(extrasname_split_toppings[b]);
                         }

                         for(c=0;c<extrasprice_split_toppings.length;c++){
                            selectedPrice_toppings.push(extrasprice_split_toppings[c]);
                         }
                         // selectedLanguage
                         // selectedPrice
                         // selectedExtrasName

                         // document.getElementById('sauceid').value=split_val_new[1];
                         // document.getElementById('saucetype').value=split_val_new[2];
                         // document.getElementById('sauceprice').value=split_val_new[3];
                         // document.getElementById('sauceval').value=split_val_new[0];
                         // document.getElementById('saucename').value=split_val_new[4];
                    }
                    //alert(split_val_new[3]);
                }


                $.cookie("mode", "edit");
                $.cookie("edit_indexval", edit_index);

                // var newstr=new Array();
                // var arr=$.cookie("prevsName");
                // //alert(arr);
                // var splitarr = arr.split("=====");
                // for(var i=0;i<splitarr.length;i++)
                // {

                   
                //     alert()
                   
                // }
                

                var itemdescptop=split_val[len-2];
                if(itemdescptop=="undefined"){
                    itemdescptop="";
                }
                $.cookie("description",itemdescptop);

                //alert('limit_choice - '+split_val[len-1]);


                $("#food_div").fadeOut(500,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
                 });
             
                //alert("5 - "+description);
                //alert('edit - extrasname - '+document.getElementById('extrasnames').value);
                document.getElementById('choice_clicked').value="";
        document.getElementById('bread_clicked').value="";
        document.getElementById('sauce_clicked').value=""; 
        document.getElementById('protein_clicked').value=""; 
                    $.ajax({
                    type: "POST",
                    url: "http://esolzdemos.com/lab1/whatthetrucks/addtobasket.php",
                    data: "itemid="+item_id+"&choiceLimit="+limit_choice+"&itemname="+item_name+"&price="+item_price+"&description="+encodeURIComponent(itemdescptop)+"&quantity="+quantity+"&mode=edit&final_selected_string="+final_string+"&breadname="+document.getElementById('breadname').value+"&saucename="+document.getElementById('saucename').value+"&choicename="+document.getElementById('choicesoptname').value+"&extrasname="+encodeURIComponent(document.getElementById('extrasnames').value)+"&toppingsname="+encodeURIComponent(document.getElementById('extrasnames_toppings').value)+"&proteinname="+document.getElementById('proteinname').value,
                    cache: false,
                    success: function(html){
                    var allval=html;
                    document.getElementById('choice_limit').value=split_val[len-1];
                    //alert(allval);
                    
                       $('#food_div').fadeOut(500,function(){
                     $(this).html(allval);
                     $(this).fadeIn(500);
                    $('.delete').click(function() {
                    $(this).parent().parent().remove();
                    });
                     });
                       
                     //$('#food_div').html(allval);
                    }
                    });

                     $.mobile.changePage("#addItem");
            }

            function changepickup()
            {

                $("#change_pickup").html(" ");
                $.mobile.changePage("#pickUp");


                var showname_pickup=$.cookie("showname");
                var showaddr_pickup=$.cookie("showaddr");
                var showtime_pickup=$.cookie("showtime");

                //alert('showtime_pickup - '+showtime_pickup);

                $("#change_pickup").fadeOut(500,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
                 });
             
                 
                
                    $.ajax({
                    type: "POST",
                    url: "http://esolzdemos.com/lab1/whatthetrucks/changePickup.php",
                    data: "showname_pickup="+showname_pickup+"&showaddr_pickup="+encodeURIComponent(showaddr_pickup)+"&showtime_pickup="+showtime_pickup,
                    cache: false,
                    success: function(html){
                    var allval=html;

                    //alert(allval);
                    //$('select').selectmenu({ corners: false });
                       $('#change_pickup').fadeOut(500,function(){
                     $(this).html(allval);
                     $(this).fadeIn(500);
                    $('.delete').click(function() {
                    $(this).parent().parent().remove();
                    });

                     $('select').selectmenu();
                        $('select').selectmenu('refresh', true);
                     });

                      
                       
                     //$('#food_div').html(allval);
                    }
                    });


            }

            function save_description()
            {
               $("#specialDescription_checkout").html(" ");

                $.mobile.changePage("#specialInstructions_checkout");

                var showname_pickup=$.cookie("showname");
                var showaddr_pickup=$.cookie("showaddr");
                var showtime_pickup=$.cookie("showtime");

                var description= $.cookie("descriptiontm");

                $("#specialDescription_checkout").fadeOut(500,function(){
                 $(this).html('<img src="img/loader.GIF"  style="left:50%;top:50%;position:relative;margin-left:-16px;margin-top:200px;width:32px;height:25px;" >');
                 $(this).show("fast");
                 });
             
                
                
                    $.ajax({
                    type: "POST",
                    url: "http://esolzdemos.com/lab1/whatthetrucks/save_desc.php",
                    data: "showname_pickup="+showname_pickup+"&showaddr_pickup="+encodeURIComponent(showaddr_pickup)+"&showtime_pickup="+showtime_pickup+"&description="+description,
                    cache: false,
                    success: function(html){
                    var allval=html;

                    //alert(allval);
                    
                    $('#specialDescription_checkout').fadeOut(500,function(){
                    $(this).html(allval);
                    $(this).fadeIn(500);
                    $('.delete').click(function() {
                    $(this).parent().parent().remove();
                    });
                     });
                       
                     //$('#food_div').html(allval);
                    }
                    });


            }


            function save_desc_checkout()
            {
                $.mobile.changePage("#checkOut");

                var descriptionval=document.getElementById("speInstruction_checkout").value;
                $.cookie("descriptiontm", descriptionval);
            }

            function delete_email(id,obj)
            {
                //alert('id - '+id);
                jConfirm('Do you want to delete this?', 'Confirmation Dialog', function(r) {

                    


                    if(r==true)
                    {
                        //obj.parentNode.parentNode.parentNode.removeChild(obj.parentNode.parentNode);
                        document.getElementById('delete_recall_div').value="1";
                        var rowid=obj.id;
                        var heartid=rowid.replace("del","");
                        if(Number(heartid)>0){
                            var heartid_num=Number(heartid)-1;
                            var heartid_str=heartid_num+'heart';
                            //document.getElementById(heartid_str).className = "top-icon-1 heart-icon active";
                        }
                        //alert('rowid - '+rowid);
                        var pageid=$.mobile.activePage.attr('id');
                        //document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
                        document.getElementById('deletebtn'+pageid).click();
                        // $(rowid).parent().parent().remove();  
                        $.ajax({
                        type: "POST",
                        url: "http://esolzdemos.com/lab1/whatthetrucks/delete_address.php",
                        data: "del_id="+id,
                        cache: false,
                        success: function(html){
                        var allval=html;
                        document.getElementById("exist_add").value="0";
                        
                        
                        


                        // document.getElementById("final_sendstr").value="";
                        //  alert(document.getElementById("final_sendstr").value);
                        recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));


                        
                           
                         //$('#food_div').html(allval);
                        }
                        });
                    }


               
                });
               
            }
            // Arunima
                        

            function delete_payment(delid,obj)
            {
                jConfirm('Do you want to delete this?', 'Confirmation Dialog', function(r) {

                    

                    if(r==true)
                    {
                        //obj.parentNode.parentNode.parentNode.removeChild(obj.parentNode.parentNode);
                        document.getElementById('delete_recall_div').value="1";
                        var rowid=obj.id;
                        // alert(rowid);
                        var heartid=rowid.replace("delp","");
                        if(Number(heartid)>0){
                            var heartid_num=Number(heartid)-1;
                            var heartid_str=heartid_num+'heart1';
                            //document.getElementById(heartid_str).className = "top-icon-1 heart-icon active";
                        }
                        var pageid=$.mobile.activePage.attr('id');
                        //document.getElementById('popup'+pageid).innerHTML="Name is mandatory";
                        document.getElementById('deletebtn'+pageid).click();
                        
                        $.ajax({
                        type: "POST",
                        url: "http://esolzdemos.com/lab1/whatthetrucks/delete_payment.php",
                        data: "del_id="+delid,
                        cache: false,
                        success: function(html){
                        var allval=html;
                       //alert(allval);

                        //alert(allval);
                        
                        document.getElementById("exist_payment").value="0";
                        // obj.parentNode.parentNode.parentNode.removeChild(obj.parentNode.parentNode);
                        recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                        
                           
                         //$('#food_div').html(allval);
                        }
                        });
                    }
               
                });
            }

            function add_contact()
            {
                document.getElementById("redirect_settings_val_cnct").value="";
                
                $.mobile.changePage("#contactInfo");

               // recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));


            }


            function add_payment()
            {
                document.getElementById("redirect_settings_val").value="";
                //recall_div($.cookie("fbname"),$.cookie("fblname"),$.cookie("fbeml"));
                $.mobile.changePage("#paymentMethod");

                
            }


            function back_function_pay()
            {
                var redirect_val_add=document.getElementById("redirect_settings_val").value;
                //alert(redirect_val_add);
                //alert(redirect_val_add);
                if (typeof $.cookie("count") == "undefined"){
                    $.mobile.changePage("#settings");
                }

               else if(redirect_val_add!='fromSettingscards')
                 {
                   //alert(1);
                       testIslogin();

                       

                    
                 }
                 else
                 {
                    //alert(2);
                     show_settings();
  


                 }

                //window.history.back();
            }


            function back_function_cnct()
            {
                var redirect_val_add=document.getElementById("redirect_settings_val_cnct").value;
                //alert(redirect_val_add);

                if(redirect_val_add!='fromSettingscontact')
                 {
                    
                       testIslogin();

                       

                    
                 }
                 else
                 {
                    
                       show_settings();


                 }
            }


            function back_function_result()
            {
                document.getElementById('whereYou').value="";
                $.mobile.changePage("#home");
            }

            function show_cross()
            {
               

                document.getElementById("spcl_inst").style.display="block";
            }

           
            function clear_text()
            {
                $('#speInstruction').val('');
                document.getElementById("spcl_inst").style.display="none";
            }

            function show_cross_checkout()
            {
               

                document.getElementById("spcl_inst_checkout").style.display="block";
            }

           
            function clear_text_checkout()
            {
                $('#speInstruction_checkout').val('');
                document.getElementById("spcl_inst_checkout").style.display="none";
            }

            

            
        </script>
        
        
        
    </body>
</html>
